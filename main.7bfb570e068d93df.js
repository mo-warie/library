"use strict";var vse=Object.defineProperty,wse=Object.defineProperties,Ese=Object.getOwnPropertyDescriptors,GU=Object.getOwnPropertySymbols,Ise=Object.prototype.hasOwnProperty,bse=Object.prototype.propertyIsEnumerable,qU=(se,ct,Kt)=>ct in se?vse(se,ct,{enumerable:!0,configurable:!0,writable:!0,value:Kt}):se[ct]=Kt,WU=(se,ct)=>{for(var Kt in ct||(ct={}))Ise.call(ct,Kt)&&qU(se,Kt,ct[Kt]);if(GU)for(var Kt of GU(ct))bse.call(ct,Kt)&&qU(se,Kt,ct[Kt]);return se},zU=(se,ct)=>wse(se,Ese(ct));(self.webpackChunklibrary=self.webpackChunklibrary||[]).push([[179],{912:()=>{function se(t){return"function"==typeof t}function ct(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Kt=ct(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function to(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class _n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(se(r))try{r()}catch(s){e=s instanceof Kt?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{zC(s)}catch(o){e=null!=e?e:[],o instanceof Kt?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Kt(e)}}add(e){var n;if(e&&e!==this)if(this.closed)zC(e);else{if(e instanceof _n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&to(n,e)}remove(e){const{_finalizers:n}=this;n&&to(n,e),e instanceof _n&&e._removeParent(this)}}_n.EMPTY=(()=>{const t=new _n;return t.closed=!0,t})();const qC=_n.EMPTY;function WC(t){return t instanceof _n||t&&"closed"in t&&se(t.remove)&&se(t.add)&&se(t.unsubscribe)}function zC(t){se(t)?t():t.unsubscribe()}const qi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},vc={setTimeout(t,e,...n){const{delegate:r}=vc;return(null==r?void 0:r.setTimeout)?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=vc;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function KC(t){vc.setTimeout(()=>{const{onUnhandledError:e}=qi;if(!e)throw t;e(t)})}function QC(){}const KU=yp("C",void 0,void 0);function yp(t,e,n){return{kind:t,value:e,error:n}}let Wi=null;function wc(t){if(qi.useDeprecatedSynchronousErrorHandling){const e=!Wi;if(e&&(Wi={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Wi;if(Wi=null,n)throw r}}else t()}class _p extends _n{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,WC(e)&&e.add(this)):this.destination=t2}static create(e,n,r){return new Ec(e,n,r)}next(e){this.isStopped?wp(function YU(t){return yp("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?wp(function QU(t){return yp("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?wp(KU,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const XU=Function.prototype.bind;function vp(t,e){return XU.call(t,e)}class ZU{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Ic(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Ic(r)}else Ic(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Ic(n)}}}class Ec extends _p{constructor(e,n,r){let i;if(super(),se(e)||!e)i={next:null!=e?e:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0};else{let s;this&&qi.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&vp(e.next,s),error:e.error&&vp(e.error,s),complete:e.complete&&vp(e.complete,s)}):i=e}this.destination=new ZU(i)}}function Ic(t){qi.useDeprecatedSynchronousErrorHandling?function JU(t){qi.useDeprecatedSynchronousErrorHandling&&Wi&&(Wi.errorThrown=!0,Wi.error=t)}(t):KC(t)}function wp(t,e){const{onStoppedNotification:n}=qi;n&&vc.setTimeout(()=>n(t,e))}const t2={closed:!0,next:QC,error:function e2(t){throw t},complete:QC},Ep="function"==typeof Symbol&&Symbol.observable||"@@observable";function zi(t){return t}let Re=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function r2(t){return t&&t instanceof _p||function n2(t){return t&&se(t.next)&&se(t.error)&&se(t.complete)}(t)&&WC(t)}(n)?n:new Ec(n,r,i);return wc(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=JC(r))((i,s)=>{const o=new Ec({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Ep](){return this}pipe(...n){return function YC(t){return 0===t.length?zi:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=JC(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function JC(t){var e;return null!==(e=null!=t?t:qi.Promise)&&void 0!==e?e:Promise}const i2=ct(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Pr=(()=>{class t extends Re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new XC(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new i2}next(n){wc(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){wc(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){wc(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?qC:(this.currentObservers=null,s.push(n),new _n(()=>{this.currentObservers=null,to(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Re;return n.source=this,n}}return t.create=(e,n)=>new XC(e,n),t})();class XC extends Pr{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:qC}}function ZC(t){return se(null==t?void 0:t.lift)}function Dt(t){return e=>{if(ZC(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function dt(t,e,n,r,i){return new s2(t,e,n,r,i)}class s2 extends _p{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ye(t,e){return Dt((n,r)=>{let i=0;n.subscribe(dt(r,s=>{r.next(t.call(e,s,i++))}))})}function tT(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Ki(t){return this instanceof Ki?(this.v=t,this):new Ki(t)}function u2(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Ki?Promise.resolve(h.value.v).then(l,c):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function l(h){a("next",h)}function c(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function l2(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function rT(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}const iT=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function sT(t){return se(null==t?void 0:t.then)}function oT(t){return se(t[Ep])}function aT(t){return Symbol.asyncIterator&&se(null==t?void 0:t[Symbol.asyncIterator])}function uT(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const lT=function d2(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function cT(t){return se(null==t?void 0:t[lT])}function dT(t){return u2(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Ki(n.read());if(i)return yield Ki(void 0);yield yield Ki(r)}}finally{n.releaseLock()}})}function hT(t){return se(null==t?void 0:t.getReader)}function dr(t){if(t instanceof Re)return t;if(null!=t){if(oT(t))return function h2(t){return new Re(e=>{const n=t[Ep]();if(se(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(iT(t))return function f2(t){return new Re(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(sT(t))return function p2(t){return new Re(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,KC)})}(t);if(aT(t))return fT(t);if(cT(t))return function g2(t){return new Re(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(hT(t))return function m2(t){return fT(dT(t))}(t)}throw uT(t)}function fT(t){return new Re(e=>{(function y2(t,e){var n,r,i,s;return function o2(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(c){try{l(r.next(c))}catch(d){o(d)}}function u(c){try{l(r.throw(c))}catch(d){o(d)}}function l(c){c.done?s(c.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(c.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=l2(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Or(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function ht(t,e,n=1/0){return se(e)?ht((r,i)=>ye((s,o)=>e(r,s,i,o))(dr(t(r,i))),n):("number"==typeof e&&(n=e),Dt((r,i)=>function _2(t,e,n,r,i,s,o,a){const u=[];let l=0,c=0,d=!1;const h=()=>{d&&!u.length&&!l&&e.complete()},f=g=>l<r?p(g):u.push(g),p=g=>{s&&e.next(g),l++;let _=!1;dr(n(g,c++)).subscribe(dt(e,E=>{null==i||i(E),s?f(E):e.next(E)},()=>{_=!0},void 0,()=>{if(_)try{for(l--;u.length&&l<r;){const E=u.shift();o?Or(e,o,()=>p(E)):p(E)}h()}catch(E){e.error(E)}}))};return t.subscribe(dt(e,f,()=>{d=!0,h()})),()=>{null==a||a()}}(r,i,t,n)))}function $a(t=1/0){return ht(zi,t)}const Fr=new Re(t=>t.complete());function bp(t){return t[t.length-1]}function pT(t){return se(bp(t))?t.pop():void 0}function Ha(t){return function w2(t){return t&&se(t.schedule)}(bp(t))?t.pop():void 0}function bc(t,e=0){return Dt((n,r)=>{n.subscribe(dt(r,i=>Or(r,t,()=>r.next(i),e),()=>Or(r,t,()=>r.complete(),e),i=>Or(r,t,()=>r.error(i),e)))})}function Dc(t,e=0){return Dt((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function gT(t,e){if(!t)throw new Error("Iterable cannot be null");return new Re(n=>{Or(n,e,()=>{const r=t[Symbol.asyncIterator]();Or(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function ft(t,e){return e?function A2(t,e){if(null!=t){if(oT(t))return function I2(t,e){return dr(t).pipe(Dc(e),bc(e))}(t,e);if(iT(t))return function D2(t,e){return new Re(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(sT(t))return function b2(t,e){return dr(t).pipe(Dc(e),bc(e))}(t,e);if(aT(t))return gT(t,e);if(cT(t))return function C2(t,e){return new Re(n=>{let r;return Or(n,e,()=>{r=t[lT](),Or(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>se(null==r?void 0:r.return)&&r.return()})}(t,e);if(hT(t))return function T2(t,e){return gT(dT(t),e)}(t,e)}throw uT(t)}(t,e):dr(t)}function Cc(t){return t<=0?()=>Fr:Dt((e,n)=>{let r=0;e.subscribe(dt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Dp(t,e,...n){return!0===e?(t(),null):!1===e?null:e(...n).pipe(Cc(1)).subscribe(()=>t())}function ve(t){for(let e in t)if(t[e]===ve)return e;throw Error("Could not find renamed property on target object.")}function Cp(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ge(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ge).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Tp(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const M2=ve({__forward_ref__:ve});function Ie(t){return t.__forward_ref__=Ie,t.toString=function(){return ge(this())},t}function Q(t){return mT(t)?t():t}function mT(t){return"function"==typeof t&&t.hasOwnProperty(M2)&&t.__forward_ref__===Ie}class ue extends Error{constructor(e,n){super(function Ap(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function G(t){return"string"==typeof t?t:null==t?"":String(t)}function Ct(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():G(t)}function Tc(t,e){const n=e?` in ${e}`:"";throw new ue(-201,`No provider for ${Ct(t)} found${n}`)}function wn(t,e){null==t&&function we(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function ee(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function un(t){return{providers:t.providers||[],imports:t.imports||[]}}function Sp(t){return yT(t,Ac)||yT(t,vT)}function yT(t,e){return t.hasOwnProperty(e)?t[e]:null}function _T(t){return t&&(t.hasOwnProperty(xp)||t.hasOwnProperty(L2))?t[xp]:null}const Ac=ve({\u0275prov:ve}),xp=ve({\u0275inj:ve}),vT=ve({ngInjectableDef:ve}),L2=ve({ngInjectorDef:ve});var $=(()=>(($=$||{})[$.Default=0]="Default",$[$.Host=1]="Host",$[$.Self=2]="Self",$[$.SkipSelf=4]="SkipSelf",$[$.Optional=8]="Optional",$))();let Mp;function di(t){const e=Mp;return Mp=t,e}function wT(t,e,n){const r=Sp(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&$.Optional?null:void 0!==e?e:void Tc(ge(t),"Injector")}function hi(t){return{toString:t}.toString()}var Kn=(()=>((Kn=Kn||{})[Kn.OnPush=0]="OnPush",Kn[Kn.Default=1]="Default",Kn))(),hr=(()=>{return(t=hr||(hr={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",hr;var t})();const U2="undefined"!=typeof globalThis&&globalThis,B2="undefined"!=typeof window&&window,j2="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,_e=U2||"undefined"!=typeof global&&global||B2||j2,no={},Ee=[],Sc=ve({\u0275cmp:ve}),kp=ve({\u0275dir:ve}),Np=ve({\u0275pipe:ve}),ET=ve({\u0275mod:ve}),Vr=ve({\u0275fac:ve}),Ga=ve({__NG_ELEMENT_ID__:ve});let $2=0;function fi(t){return hi(()=>{const n={},r={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Kn.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Ee,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||hr.Emulated,id:"c",styles:t.styles||Ee,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,s=t.features,o=t.pipes;return r.id+=$2++,r.inputs=CT(t.inputs,n),r.outputs=CT(t.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(IT):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(bT):null,r})}function IT(t){return Ft(t)||function pi(t){return t[kp]||null}(t)}function bT(t){return function Qi(t){return t[Np]||null}(t)}const DT={};function En(t){return hi(()=>{const e={type:t.type,bootstrap:t.bootstrap||Ee,declarations:t.declarations||Ee,imports:t.imports||Ee,exports:t.exports||Ee,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(DT[t.id]=t.type),e})}function CT(t,e){if(null==t)return no;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const B=fi;function Ft(t){return t[Sc]||null}function Rn(t,e){const n=t[ET]||null;if(!n&&!0===e)throw new Error(`Type ${ge(t)} does not have '\u0275mod' property.`);return n}const Y=11;function fr(t){return Array.isArray(t)&&"object"==typeof t[1]}function Yn(t){return Array.isArray(t)&&!0===t[1]}function Op(t){return 0!=(8&t.flags)}function Nc(t){return 2==(2&t.flags)}function Rc(t){return 1==(1&t.flags)}function Jn(t){return null!==t.template}function K2(t){return 0!=(512&t[2])}function Zi(t,e){return t.hasOwnProperty(Vr)?t[Vr]:null}class J2{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function On(){return AT}function AT(t){return t.type.prototype.ngOnChanges&&(t.setInput=Z2),X2}function X2(){const t=xT(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===no)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Z2(t,e,n,r){const i=xT(t)||function eB(t,e){return t[ST]=e}(t,{previous:no,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new J2(u&&u.currentValue,e,o===no),t[r]=e}On.ngInherit=!0;const ST="__ngSimpleChanges__";function xT(t){return t[ST]||null}let Bp;function Oe(t){return!!t.listen}const MT={createRenderer:(t,e)=>function jp(){return void 0!==Bp?Bp:"undefined"!=typeof document?document:void 0}()};function qe(t){for(;Array.isArray(t);)t=t[0];return t}function Pc(t,e){return qe(e[t])}function Ln(t,e){return qe(e[t.index])}function $p(t,e){return t.data[e]}function bn(t,e){const n=e[t];return fr(n)?n:n[0]}function Hp(t){return 128==(128&t[2])}function gi(t,e){return null==e?null:t[e]}function NT(t){t[18]=0}function Gp(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const q={lFrame:$T(null),bindingsEnabled:!0};function PT(){return q.bindingsEnabled}function I(){return q.lFrame.lView}function le(){return q.lFrame.tView}function nt(){let t=FT();for(;null!==t&&64===t.type;)t=t.parent;return t}function FT(){return q.lFrame.currentTNode}function pr(t,e){const n=q.lFrame;n.currentTNode=t,n.isParent=e}function qp(){return q.lFrame.isParent}function uo(){return q.lFrame.bindingIndex++}function Br(t){const e=q.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function yB(t,e){const n=q.lFrame;n.bindingIndex=n.bindingRootIndex=t,zp(e)}function zp(t){q.lFrame.currentDirectiveIndex=t}function Qp(t){q.lFrame.currentQueryIndex=t}function vB(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function BT(t,e,n){if(n&$.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&$.Host||(i=vB(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,t=s}const r=q.lFrame=jT();return r.currentTNode=e,r.lView=t,!0}function Fc(t){const e=jT(),n=t[1];q.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function jT(){const t=q.lFrame,e=null===t?null:t.child;return null===e?$T(t):e}function $T(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function HT(){const t=q.lFrame;return q.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const GT=HT;function Lc(){const t=HT();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Yt(){return q.lFrame.selectedIndex}function mi(t){q.lFrame.selectedIndex=t}function Fe(){const t=q.lFrame;return $p(t.tView,t.selectedIndex)}function Vc(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:c}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),u&&(t.viewHooks||(t.viewHooks=[])).push(-n,u),l&&((t.viewHooks||(t.viewHooks=[])).push(n,l),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,l)),null!=c&&(t.destroyHooks||(t.destroyHooks=[])).push(n,c)}}function Uc(t,e,n){qT(t,e,3,n)}function Bc(t,e,n,r){(3&t[2])===n&&qT(t,e,n,r)}function Yp(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function qT(t,e,n,r){const s=null!=r?r:-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[18]+=65536),(a<s||-1==s)&&(SB(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function SB(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Qa{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function jc(t,e,n){const r=Oe(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];Xp(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function WT(t){return 3===t||4===t||6===t}function Xp(t){return 64===t.charCodeAt(0)}function $c(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||zT(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function zT(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function KT(t){return-1!==t}function lo(t){return 32767&t}function co(t,e){let n=function RB(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let Zp=!0;function Hc(t){const e=Zp;return Zp=t,e}let PB=0;function Ja(t,e){const n=tg(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,eg(r.data,t),eg(e,null),eg(r.blueprint,null));const i=Gc(t,e),s=t.injectorIndex;if(KT(i)){const o=lo(i),a=co(i,e),u=a[1].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function eg(t,e){t.push(0,0,0,0,0,0,0,0,e)}function tg(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Gc(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function qc(t,e,n){!function OB(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ga)&&(r=n[Ga]),null==r&&(r=n[Ga]=PB++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function JT(t,e,n){if(n&$.Optional)return t;Tc(e,"NodeInjector")}function XT(t,e,n,r){if(n&$.Optional&&void 0===r&&(r=null),0==(n&($.Self|$.Host))){const i=t[9],s=di(void 0);try{return i?i.get(e,r,n&$.Optional):wT(e,r,n&$.Optional)}finally{di(s)}}return JT(r,e,n)}function ZT(t,e,n,r=$.Default,i){if(null!==t){const s=function UB(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Ga)?t[Ga]:void 0;return"number"==typeof e?e>=0?255&e:LB:e}(n);if("function"==typeof s){if(!BT(e,t,r))return r&$.Host?JT(i,n,r):XT(e,n,r,i);try{const o=s(r);if(null!=o||r&$.Optional)return o;Tc(n)}finally{GT()}}else if("number"==typeof s){let o=null,a=tg(t,e),u=-1,l=r&$.Host?e[16][6]:null;for((-1===a||r&$.SkipSelf)&&(u=-1===a?Gc(t,e):e[a+8],-1!==u&&n0(r,!1)?(o=e[1],a=lo(u),e=co(u,e)):a=-1);-1!==a;){const c=e[1];if(t0(s,a,c.data)){const d=VB(a,e,n,o,r,l);if(d!==e0)return d}u=e[a+8],-1!==u&&n0(r,e[1].data[a+8]===l)&&t0(s,a,e)?(o=c,a=lo(u),e=co(u,e)):a=-1}}}return XT(e,n,r,i)}const e0={};function LB(){return new ho(nt(),I())}function VB(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],c=function Wc(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,c=s>>20,h=i?a+c:t.directiveEnd;for(let f=r?a:a+c;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&Jn(f)&&f.type===n)return u}return null}(a,o,n,null==r?Nc(a)&&Zp:r!=o&&0!=(3&a.type),i&$.Host&&s===a);return null!==c?Xa(e,o,c,a):e0}function Xa(t,e,n,r){let i=t[n];const s=e.data;if(function xB(t){return t instanceof Qa}(i)){const o=i;o.resolving&&function k2(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new ue(-200,`Circular dependency in DI detected for ${t}${n}`)}(Ct(s[n]));const a=Hc(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?di(o.injectImpl):null;BT(t,r,$.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function AB(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=AT(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&di(u),Hc(a),o.resolving=!1,GT()}}return i}function t0(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function n0(t,e){return!(t&$.Self||t&$.Host&&e)}class ho{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return ZT(this._tNode,this._lView,e,r,n)}}function Vt(t){return hi(()=>{const e=t.prototype.constructor,n=e[Vr]||ng(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Vr]||ng(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function ng(t){return mT(t)?()=>{const e=ng(Q(t));return e&&e()}:Zi(t)}const po="__parameters__";function mo(t,e,n){return hi(()=>{const r=function rg(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,l,c){const d=u.hasOwnProperty(po)?u[po]:Object.defineProperty(u,po,{value:[]})[po];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class z{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=ee({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const jB=new z("AnalyzeForEntryComponents");function gr(t,e){t.forEach(n=>Array.isArray(n)?gr(n,e):e(n))}function s0(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function zc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Dn(t,e,n){let r=yo(t,e);return r>=0?t[1|r]=n:(r=~r,function GB(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function sg(t,e){const n=yo(t,e);if(n>=0)return t[1|n]}function yo(t,e){return function u0(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const ru={},ag="__NG_DI_FLAG__",Qc="ngTempTokenPath",JB=/\n/gm,c0="__source",ZB=ve({provide:String,useValue:ve});let iu;function d0(t){const e=iu;return iu=t,e}function ej(t,e=$.Default){if(void 0===iu)throw new ue(203,"");return null===iu?wT(t,void 0,e):iu.get(t,e&$.Optional?null:void 0,e)}function F(t,e=$.Default){return(function V2(){return Mp}()||ej)(Q(t),e)}const tj=F;function ug(t){const e=[];for(let n=0;n<t.length;n++){const r=Q(t[n]);if(Array.isArray(r)){if(0===r.length)throw new ue(900,"");let i,s=$.Default;for(let o=0;o<r.length;o++){const a=r[o],u=nj(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(F(i,s))}else e.push(F(r))}return e}function su(t,e){return t[ag]=e,t.prototype[ag]=e,t}function nj(t){return t[ag]}const Yc=su(mo("Inject",t=>({token:t})),-1),gt=su(mo("Optional"),8),ou=su(mo("SkipSelf"),4);class w0{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function _i(t){return t instanceof w0?t.changingThisBreaksApplicationSecurity:t}const Dj=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Cj=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var We=(()=>((We=We||{})[We.NONE=0]="NONE",We[We.HTML=1]="HTML",We[We.STYLE=2]="STYLE",We[We.SCRIPT=3]="SCRIPT",We[We.URL=4]="URL",We[We.RESOURCE_URL=5]="RESOURCE_URL",We))();function mg(t){const e=function cu(){const t=I();return t&&t[12]}();return e?e.sanitize(We.URL,t)||"":function uu(t,e){const n=function wj(t){return t instanceof w0&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}(t,"URL")?_i(t):function ed(t){return(t=String(t)).match(Dj)||t.match(Cj)?t:"unsafe:"+t}(G(t))}const M0="__ngContext__";function Ut(t,e){t[M0]=e}function _g(t){const e=function du(t){return t[M0]||null}(t);return e?Array.isArray(e)?e:e.lView:null}function wg(t){return t.ngOriginalError}function Kj(t,...e){t.error(...e)}class hu{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e),r=function zj(t){return t&&t.ngErrorLogger||Kj}(e);r(this._console,"ERROR",e),n&&r(this._console,"ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&wg(e);for(;n&&wg(n);)n=wg(n);return n||null}}const i$=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(_e))();function yr(t){return t instanceof Function?t():t}var Cn=(()=>((Cn=Cn||{})[Cn.Important=1]="Important",Cn[Cn.DashCase=2]="DashCase",Cn))();function Ig(t,e){return undefined(t,e)}function fu(t){const e=t[3];return Yn(e)?e[3]:e}function bg(t){return U0(t[13])}function Dg(t){return U0(t[4])}function U0(t){for(;null!==t&&!Yn(t);)t=t[4];return t}function Eo(t,e,n,r,i){if(null!=r){let s,o=!1;Yn(r)?s=r:fr(r)&&(o=!0,r=r[0]);const a=qe(r);0===t&&null!==n?null==i?q0(e,n,a):es(e,n,a,i||null,!0):1===t&&null!==n?es(e,n,a,i||null,!0):2===t?function X0(t,e,n){const r=nd(t,e);r&&function _$(t,e,n,r){Oe(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function E$(t,e,n,r,i){const s=n[7];s!==qe(n)&&Eo(e,t,r,s,i);for(let a=10;a<n.length;a++){const u=n[a];pu(u[1],u,t,e,r,s)}}(e,t,s,n,i)}}function Tg(t,e,n){if(Oe(t))return t.createElement(e,n);{const r=null!==n?function iB(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(n):null;return null===r?t.createElement(e):t.createElementNS(r,e)}}function j0(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Gp(i,-1)),n.splice(r,1)}function Ag(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&j0(i,r),e>0&&(t[n-1][4]=r[4]);const s=zc(t,10+e);!function c$(t,e){pu(t,e,e[Y],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function $0(t,e){if(!(256&e[2])){const n=e[Y];Oe(n)&&n.destroyNode&&pu(t,e,n,3,null,null),function f$(t){let e=t[13];if(!e)return Sg(t[1],t);for(;e;){let n=null;if(fr(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)fr(e)&&Sg(e[1],e),e=e[3];null===e&&(e=t),fr(e)&&Sg(e[1],e),n=e&&e[4]}e=n}}(e)}}function Sg(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function y$(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Qa)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(t,e),function m$(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+1],a="function"==typeof o?o(e):qe(e[o]),u=r[i=n[s+2]],l=n[s+3];"boolean"==typeof l?a.removeEventListener(n[s],u,l):l>=0?r[i=l]():r[i=-l].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(t,e),1===e[1].type&&Oe(e[Y])&&e[Y].destroy();const n=e[17];if(null!==n&&Yn(e[3])){n!==e[3]&&j0(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function H0(t,e,n){return function G0(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const i=t.data[r.directiveStart].encapsulation;if(i===hr.None||i===hr.Emulated)return null}return Ln(r,n)}(t,e.parent,n)}function es(t,e,n,r,i){Oe(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function q0(t,e,n){Oe(t)?t.appendChild(e,n):e.appendChild(n)}function W0(t,e,n,r,i){null!==r?es(t,e,n,r,i):q0(t,e,n)}function nd(t,e){return Oe(t)?t.parentNode(e):e.parentNode}let Q0=function K0(t,e,n){return 40&t.type?Ln(t,n):null};function rd(t,e,n,r){const i=H0(t,r,e),s=e[Y],a=function z0(t,e,n){return Q0(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)W0(s,i,n[u],a,!1);else W0(s,i,n,a,!1)}function id(t,e){if(null!==e){const n=e.type;if(3&n)return Ln(e,t);if(4&n)return Mg(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return id(t,r);{const i=t[e.index];return Yn(i)?Mg(-1,i):qe(i)}}if(32&n)return Ig(e,t)()||qe(t[e.index]);{const r=J0(t,e);return null!==r?Array.isArray(r)?r[0]:id(fu(t[16]),r):id(t,e.next)}}return null}function J0(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Mg(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return id(r,i)}return e[7]}function kg(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Ut(qe(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)kg(t,e,n.child,r,i,s,!1),Eo(e,t,i,a,s);else if(32&u){const l=Ig(n,r);let c;for(;c=l();)Eo(e,t,i,c,s);Eo(e,t,i,a,s)}else 16&u?Z0(t,e,r,n,i,s):Eo(e,t,i,a,s);n=o?n.projectionNext:n.next}}function pu(t,e,n,r,i,s){kg(n,r,t.firstChild,e,i,s,!1)}function Z0(t,e,n,r,i,s){const o=n[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++)Eo(e,t,i,u[l],s);else kg(t,e,u,o[3],i,s,!0)}function eA(t,e,n){Oe(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Ng(t,e,n){Oe(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function tA(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const nA="ng-template";function b$(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==tA(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function rA(t){return 4===t.type&&t.value!==nA}function D$(t,e,n){return e===(4!==t.type||n?t.value:nA)}function C$(t,e,n){let r=4;const i=t.attrs||[],s=function S$(t){for(let e=0;e<t.length;e++)if(WT(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!D$(t,u,n)||""===u&&1===e.length){if(Xn(r))return!1;o=!0}}else{const l=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!b$(t.attrs,l,n)){if(Xn(r))return!1;o=!0}continue}const d=T$(8&r?"class":u,i,rA(t),n);if(-1===d){if(Xn(r))return!1;o=!0;continue}if(""!==l){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==tA(f,l,0)||2&r&&l!==h){if(Xn(r))return!1;o=!0}}}}else{if(!o&&!Xn(r)&&!Xn(u))return!1;if(o&&Xn(u))continue;o=!1,r=u|1&r}}return Xn(r)||o}function Xn(t){return 0==(1&t)}function T$(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function x$(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function iA(t,e,n=!1){for(let r=0;r<e.length;r++)if(C$(t,e[r],n))return!0;return!1}function sA(t,e){return t?":not("+e.trim()+")":e}function k$(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Xn(o)&&(e+=sA(s,i),i=""),r=o,s=s||!Xn(r);n++}return""!==i&&(e+=sA(s,i)),e}const W={};function ze(t){oA(le(),I(),Yt()+t,!1)}function oA(t,e,n,r){if(!r)if(3==(3&e[2])){const s=t.preOrderCheckHooks;null!==s&&Uc(e,s,n)}else{const s=t.preOrderHooks;null!==s&&Bc(e,s,0,n)}mi(n)}function sd(t,e){return t<<17|e<<2}function Zn(t){return t>>17&32767}function Rg(t){return 2|t}function jr(t){return(131068&t)>>2}function Pg(t,e){return-131069&t|e<<2}function Og(t){return 1|t}function yA(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const o=t.data[s];Qp(i),o.contentQueries(2,e[s],s)}}}function gu(t,e,n,r,i,s,o,a,u,l){const c=e.blueprint.slice();return c[0]=i,c[2]=140|r,NT(c),c[3]=c[15]=t,c[8]=n,c[10]=o||t&&t[10],c[Y]=a||t&&t[Y],c[12]=u||t&&t[12]||null,c[9]=l||t&&t[9]||null,c[6]=s,c[16]=2==e.type?t[16]:c,c}function Io(t,e,n,r,i){let s=t.data[e];if(null===s)s=function Gg(t,e,n,r,i){const s=FT(),o=qp(),u=t.data[e]=function Q$(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(t,e,n,r,i),function mB(){return q.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Ka(){const t=q.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return pr(s,!0),s}function bo(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function mu(t,e,n){Fc(e);try{const r=t.viewQuery;null!==r&&Zg(1,r,n);const i=t.template;null!==i&&_A(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&yA(t,e),t.staticViewQueries&&Zg(2,t.viewQuery,n);const s=t.components;null!==s&&function W$(t,e){for(let n=0;n<e.length;n++)fH(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,Lc()}}function Do(t,e,n,r){const i=e[2];if(256!=(256&i)){Fc(e);try{NT(e),function LT(t){return q.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&_A(t,e,n,2,r);const o=3==(3&i);if(o){const l=t.preOrderCheckHooks;null!==l&&Uc(e,l,null)}else{const l=t.preOrderHooks;null!==l&&Bc(e,l,0,null),Yp(e,0)}if(function dH(t){for(let e=bg(t);null!==e;e=Dg(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r],s=i[3];0==(1024&i[2])&&Gp(s,1),i[2]|=1024}}}(e),function cH(t){for(let e=bg(t);null!==e;e=Dg(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];Hp(r)&&Do(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&yA(t,e),o){const l=t.contentCheckHooks;null!==l&&Uc(e,l)}else{const l=t.contentHooks;null!==l&&Bc(e,l,1),Yp(e,1)}!function G$(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)mi(~i);else{const s=i,o=n[++r],a=n[++r];yB(o,s),a(2,e[s])}}}finally{mi(-1)}}(t,e);const a=t.components;null!==a&&function q$(t,e){for(let n=0;n<e.length;n++)hH(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Zg(2,u,r),o){const l=t.viewCheckHooks;null!==l&&Uc(e,l)}else{const l=t.viewHooks;null!==l&&Bc(e,l,2),Yp(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[2]&=-73,1024&e[2]&&(e[2]&=-1025,Gp(e[3],-1))}finally{Lc()}}}function z$(t,e,n,r){const i=e[10],o=function kT(t){return 4==(4&t[2])}(e);try{!o&&i.begin&&i.begin(),o&&mu(t,e,r),Do(t,e,n,r)}finally{!o&&i.end&&i.end()}}function _A(t,e,n,r,i){const s=Yt(),o=2&r;try{mi(-1),o&&e.length>20&&oA(t,e,20,!1),n(r,i)}finally{mi(s)}}function qg(t,e,n){!PT()||(function nH(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Ja(n,e),Ut(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],l=Jn(u);l&&aH(e,n,u);const c=Xa(e,t,a,n);Ut(c,e),null!==o&&uH(0,a-i,c,u,0,o),l&&(bn(n.index,e)[8]=c)}}(t,e,n,Ln(n,e)),128==(128&n.flags)&&function rH(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,a=function _B(){return q.lFrame.currentDirectiveIndex}();try{mi(o);for(let u=r;u<i;u++){const l=t.data[u],c=e[u];zp(u),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&AA(l,c)}}finally{mi(-1),zp(a)}}(t,e,n))}function Wg(t,e,n=Ln){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function wA(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=ud(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function ud(t,e,n,r,i,s,o,a,u,l){const c=20+r,d=c+i,h=function K$(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:W);return n}(c,d),f="function"==typeof l?l():l;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function DA(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Tn(t,e,n,r,i,s,o,a){const u=Ln(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(LA(t,n,c,r,i),Nc(e)&&function X$(t,e){const n=bn(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function J$(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,Oe(s)?s.setProperty(u,r,i):Xp(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function zg(t,e,n,r){let i=!1;if(PT()){const s=function iH(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];iA(n,o.selectors,!1)&&(i||(i=[]),qc(Ja(n,e),t,o.type),Jn(o)?(SA(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,xA(n,t.data.length,s.length);for(let c=0;c<s.length;c++){const d=s[c];d.providersResolver&&d.providersResolver(d)}let a=!1,u=!1,l=bo(t,e,s.length,null);for(let c=0;c<s.length;c++){const d=s[c];n.mergedAttrs=$c(n.mergedAttrs,d.hostAttrs),MA(t,n,e,l,d),oH(l,d,o),null!==d.contentQueries&&(n.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),a=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),u=!0),l++}!function Y$(t,e){const r=e.directiveEnd,i=t.data,s=e.attrs,o=[];let a=null,u=null;for(let l=e.directiveStart;l<r;l++){const c=i[l],d=c.inputs,h=null===s||rA(e)?null:lH(d,s);o.push(h),a=DA(d,l,a),u=DA(c.outputs,l,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=u}(t,n)}o&&function sH(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new ue(-301,!1);r.push(e[i],s)}}}(n,r,o)}return n.mergedAttrs=$c(n.mergedAttrs,n.attrs),i}function TA(t,e,n,r,i,s){const o=s.hostBindings;if(o){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const u=~e.index;(function tH(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=u&&a.push(u),a.push(r,i,o)}}function AA(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function SA(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function oH(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Jn(e)&&(n[""]=t)}}function xA(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function MA(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Zi(i.type)),o=new Qa(s,Jn(i),null);t.blueprint[r]=o,n[r]=o,TA(t,e,0,r,bo(t,n,i.hostVars,W),i)}function aH(t,e,n){const r=Ln(e,t),i=wA(n),s=t[10],o=ld(t,gu(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function _r(t,e,n,r,i,s){const o=Ln(t,e);!function Kg(t,e,n,r,i,s,o){if(null==s)Oe(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?G(s):o(s,r||"",i);Oe(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[Y],o,s,t.value,n,r,i)}function uH(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const l=o[u++],c=o[u++],d=o[u++];null!==a?r.setInput(n,d,l,c):n[c]=d}}}function lH(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function kA(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function hH(t,e){const n=bn(e,t);if(Hp(n)){const r=n[1];80&n[2]?Do(r,n,r.template,n[8]):n[5]>0&&Qg(n)}}function Qg(t){for(let r=bg(t);null!==r;r=Dg(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];Do(o,s,o.template,s[8])}else s[5]>0&&Qg(s)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=bn(n[r],t);Hp(i)&&i[5]>0&&Qg(i)}}function fH(t,e){const n=bn(e,t),r=n[1];(function pH(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),mu(r,n,n[8])}function ld(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Yg(t){for(;t;){t[2]|=64;const e=fu(t);if(K2(t)&&!e)return t;t=e}return null}function NA(t){!function Jg(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=_g(n),i=r[1];z$(i,r,i.template,n)}}(t[8])}function Zg(t,e,n){Qp(0),e(t,n)}const mH=(()=>Promise.resolve(null))();function RA(t){return t[7]||(t[7]=[])}function PA(t){return t.cleanup||(t.cleanup=[])}function FA(t,e){const n=t[9],r=n?n.get(hu,null):null;r&&r.handleError(e)}function LA(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],l=t.data[o];null!==l.setInput?l.setInput(u,i,r,a):u[a]=i}}function $r(t,e,n){const r=Pc(e,t);!function B0(t,e,n){Oe(t)?t.setValue(e,n):e.textContent=n}(t[Y],r,n)}function cd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Tp(i,a):2==s&&(r=Tp(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const em=new z("INJECTOR",-1);class VA{get(e,n=ru){if(n===ru){const r=new Error(`NullInjectorError: No provider for ${ge(e)}!`);throw r.name="NullInjectorError",r}return n}}const tm=new z("Set Injector scope."),yu={},vH={};let nm;function UA(){return void 0===nm&&(nm=new VA),nm}function BA(t,e=null,n=null,r){const i=jA(t,e,n,r);return i._resolveInjectorDefTypes(),i}function jA(t,e=null,n=null,r){return new wH(t,n,e||UA(),r)}class wH{constructor(e,n,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];n&&gr(n,a=>this.processProvider(a,e,n)),gr([e],a=>this.processInjectorType(a,[],s)),this.records.set(em,Co(void 0,this));const o=this.records.get(tm);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:ge(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,n=ru,r=$.Default){this.assertNotDestroyed();const i=d0(this),s=di(void 0);try{if(!(r&$.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function SH(t){return"function"==typeof t||"object"==typeof t&&t instanceof z}(e)&&Sp(e);a=u&&this.injectableDefInScope(u)?Co(rm(e),yu):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&$.Self?UA():this.parent).get(e,n=r&$.Optional&&n===ru?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[Qc]=o[Qc]||[]).unshift(ge(e)),i)throw o;return function rj(t,e,n,r){const i=t[Qc];throw e[c0]&&i.unshift(e[c0]),t.message=function ij(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=ge(e);if(Array.isArray(e))i=e.map(ge).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):ge(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(JB,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Qc]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{di(s),d0(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(ge(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ue(205,!1)}processInjectorType(e,n,r){if(!(e=Q(e)))return!1;let i=_T(e);const s=null==i&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=_T(s)),null==i)return!1;if(null!=i.imports&&!a){let c;r.push(o);try{gr(i.imports,d=>{this.processInjectorType(d,n,r)&&(void 0===c&&(c=[]),c.push(d))})}finally{}if(void 0!==c)for(let d=0;d<c.length;d++){const{ngModule:h,providers:f}=c[d];gr(f,p=>this.processProvider(p,h,f||Ee))}}this.injectorDefTypes.add(o);const u=Zi(o)||(()=>new o);this.records.set(o,Co(u,yu));const l=i.providers;if(null!=l&&!a){const c=e;gr(l,d=>this.processProvider(d,c,l))}return void 0!==s&&void 0!==e.providers}processProvider(e,n,r){let i=To(e=Q(e))?e:Q(e&&e.provide);const s=function IH(t,e,n){return HA(t)?Co(void 0,t.useValue):Co($A(t),yu)}(e);if(To(e)||!0!==e.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=Co(void 0,yu,!0),o.factory=()=>ug(o.multi),this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,s)}hydrate(e,n){return n.value===yu&&(n.value=vH,n.value=n.factory()),"object"==typeof n.value&&n.value&&function AH(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this.onDestroy.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=Q(e.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function rm(t){const e=Sp(t),n=null!==e?e.factory:Zi(t);if(null!==n)return n;if(t instanceof z)throw new ue(204,!1);if(t instanceof Function)return function EH(t){const e=t.length;if(e>0)throw function nu(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new ue(204,!1);const n=function O2(t){const e=t&&(t[Ac]||t[vT]);if(e){const n=function F2(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new ue(204,!1)}function $A(t,e,n){let r;if(To(t)){const i=Q(t);return Zi(i)||rm(i)}if(HA(t))r=()=>Q(t.useValue);else if(function DH(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...ug(t.deps||[]));else if(function bH(t){return!(!t||!t.useExisting)}(t))r=()=>F(Q(t.useExisting));else{const i=Q(t&&(t.useClass||t.provide));if(!function TH(t){return!!t.deps}(t))return Zi(i)||rm(i);r=()=>new i(...ug(t.deps))}return r}function Co(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function HA(t){return null!==t&&"object"==typeof t&&ZB in t}function To(t){return"function"==typeof t}let Bt=(()=>{class t{static create(n,r){var i;if(Array.isArray(n))return BA({name:""},r,n,"");{const s=null!==(i=n.name)&&void 0!==i?i:"";return BA({name:s},n.parent,n.providers,s)}}}return t.THROW_IF_NOT_FOUND=ru,t.NULL=new VA,t.\u0275prov=ee({token:t,providedIn:"any",factory:()=>F(em)}),t.__NG_ELEMENT_ID__=-1,t})();function FH(t,e){Vc(_g(t)[1],nt())}function me(t){let e=function tS(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Jn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ue(903,"");i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=om(t.inputs),o.declaredInputs=om(t.declaredInputs),o.outputs=om(t.outputs);const a=i.hostBindings;a&&BH(t,a);const u=i.viewQuery,l=i.contentQueries;if(u&&VH(t,u),l&&UH(t,l),Cp(t.inputs,i.inputs),Cp(t.declaredInputs,i.declaredInputs),Cp(t.outputs,i.outputs),Jn(i)&&i.data.animation){const c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===me&&(n=!1)}}e=Object.getPrototypeOf(e)}!function LH(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=$c(i.hostAttrs,n=$c(n,i.hostAttrs))}}(r)}function om(t){return t===no?{}:t===Ee?[]:t}function VH(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function UH(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function BH(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}let dd=null;function Ao(){if(!dd){const t=_e.Symbol;if(t&&t.iterator)dd=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(dd=r)}}}return dd}function _u(t){return!!function am(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ao()in t)}function jt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function wr(t,e,n,r){const i=I();return jt(i,uo(),e)&&(le(),_r(Fe(),i,t,e,n,r)),wr}function xo(t,e,n,r){return jt(t,uo(),n)?e+G(n)+r:W}function Mo(t,e,n,r,i,s){const a=function ts(t,e,n,r){const i=jt(t,e,n);return jt(t,e+1,r)||i}(t,function Ur(){return q.lFrame.bindingIndex}(),n,i);return Br(2),a?e+G(n)+r+G(i)+s:W}function dn(t,e,n,r,i,s,o,a){const u=I(),l=le(),c=t+20,d=l.firstCreatePass?function zH(t,e,n,r,i,s,o,a,u){const l=e.consts,c=Io(e,t,4,o||null,gi(l,a));zg(e,n,c,gi(l,u)),Vc(e,c);const d=c.tViews=ud(2,c,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l);return null!==e.queries&&(e.queries.template(e,c),d.queries=e.queries.embeddedTView(c)),c}(c,l,u,e,n,r,i,s,o):l.data[c];pr(d,!1);const h=u[Y].createComment("");rd(l,u,h,d),Ut(h,u),ld(u,u[c]=kA(h,u,h,d)),Rc(d)&&qg(l,u,d),null!=o&&Wg(u,d,a)}function Lo(t){return function ao(t,e){return t[e]}(function gB(){return q.lFrame.contextLView}(),20+t)}function b(t,e=$.Default){const n=I();return null===n?F(t,e):ZT(nt(),n,Q(t),e)}function hm(){throw new Error("invalid")}function Tt(t,e,n){const r=I();return jt(r,uo(),e)&&Tn(le(),Fe(),r,t,e,r[Y],n,!1),Tt}function fm(t,e,n,r,i){const o=i?"class":"style";LA(t,n,e.inputs[o],o,r)}function re(t,e,n,r){const i=I(),s=le(),o=20+t,a=i[Y],u=i[o]=Tg(a,e,function TB(){return q.lFrame.currentNamespace}()),l=s.firstCreatePass?function pG(t,e,n,r,i,s,o){const a=e.consts,l=Io(e,t,2,i,gi(a,s));return zg(e,n,l,gi(a,o)),null!==l.attrs&&cd(l,l.attrs,!1),null!==l.mergedAttrs&&cd(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,i,0,e,n,r):s.data[o];pr(l,!0);const c=l.mergedAttrs;null!==c&&jc(a,u,c);const d=l.classes;null!==d&&Ng(a,u,d);const h=l.styles;return null!==h&&eA(a,u,h),64!=(64&l.flags)&&rd(s,i,u,l),0===function cB(){return q.lFrame.elementDepthCount}()&&Ut(u,i),function dB(){q.lFrame.elementDepthCount++}(),Rc(l)&&(qg(s,i,l),function vA(t,e,n){if(Op(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}(s,l,i)),null!==r&&Wg(i,l),re}function ae(){let t=nt();qp()?function Wp(){q.lFrame.isParent=!1}():(t=t.parent,pr(t,!1));const e=t;!function hB(){q.lFrame.elementDepthCount--}();const n=le();return n.firstCreatePass&&(Vc(n,t),Op(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function kB(t){return 0!=(16&t.flags)}(e)&&fm(n,e,I(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function NB(t){return 0!=(32&t.flags)}(e)&&fm(n,e,I(),e.stylesWithoutHost,!1),ae}function Hr(t,e,n,r){return re(t,e,n,r),ae(),Hr}function wu(t){return!!t&&"function"==typeof t.then}const mm=function bS(t){return!!t&&"function"==typeof t.subscribe};function $t(t,e,n,r){const i=I(),s=le(),o=nt();return function CS(t,e,n,r,i,s,o,a){const u=Rc(r),c=t.firstCreatePass&&PA(t),d=e[8],h=RA(e);let f=!0;if(3&r.type||a){const _=Ln(r,e),E=a?a(_):_,y=h.length,T=a?P=>a(qe(P[r.index])):r.index;if(Oe(n)){let P=null;if(!a&&u&&(P=function mG(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==P)(P.__ngLastListenerFn__||P).__ngNextListenerFn__=s,P.__ngLastListenerFn__=s,f=!1;else{s=ym(r,e,d,s,!1);const O=n.listen(E,i,s);h.push(s,O),c&&c.push(i,T,y,y+1)}}else s=ym(r,e,d,s,!0),E.addEventListener(i,s,o),h.push(s),c&&c.push(i,T,y,o)}else s=ym(r,e,d,s,!1);const p=r.outputs;let g;if(f&&null!==p&&(g=p[i])){const _=g.length;if(_)for(let E=0;E<_;E+=2){const Z=e[g[E]][g[E+1]].subscribe(s),Ae=h.length;h.push(s,Z),c&&c.push(i,r.index,Ae,-(Ae+1))}}}(s,i,i[Y],o,t,e,!!n,r),$t}function TS(t,e,n,r){try{return!1!==n(r)}catch(i){return FA(t,i),!1}}function ym(t,e,n,r,i){return function s(o){if(o===Function)return r;const a=2&t.flags?bn(t.index,e):e;0==(32&e[2])&&Yg(a);let u=TS(e,0,r,o),l=s.__ngNextListenerFn__;for(;l;)u=TS(e,0,l,o)&&u,l=l.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function Eu(t=1){return function wB(t){return(q.lFrame.contextLView=function EB(t,e){for(;t>0;)e=e[15],t--;return e}(t,q.lFrame.contextLView))[8]}(t)}function pd(t,e,n,r,i){const s=I(),o=xo(s,e,n,r);return o!==W&&Tn(le(),Fe(),s,t,o,s[Y],i,!1),pd}function FS(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Zn(s):jr(s),u=!1;for(;0!==a&&(!1===u||o);){const c=t[a+1];IG(t[a],e)&&(u=!0,t[a+1]=r?Og(c):Rg(c)),a=r?Zn(c):jr(c)}u&&(t[n+1]=r?Rg(s):Og(s))}function IG(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&yo(t,e)>=0}function gd(t,e){return function tr(t,e,n,r){const i=I(),s=le(),o=Br(2);s.firstUpdatePass&&function qS(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Yt()],o=function GS(t,e){return e>=t.expandoStartIndex}(t,n);(function QS(t,e){return 0!=(t.flags&(e?16:32))})(s,r)&&null===e&&!o&&(e=!1),e=function kG(t,e,n,r){const i=function Kp(t){const e=q.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Iu(n=_m(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=_m(i,t,e,n,r),null===s){let u=function NG(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==jr(r))return t[Zn(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=_m(null,t,e,u[1],r),u=Iu(u,e.attrs,r),function RG(t,e,n,r){t[Zn(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function PG(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Iu(r,t[s].hostAttrs,n);return Iu(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function wG(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Zn(o),u=jr(o);t[r]=n;let c,l=!1;if(Array.isArray(n)){const d=n;c=d[1],(null===c||yo(d,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const h=Zn(t[a+1]);t[r+1]=sd(h,a),0!==h&&(t[h+1]=Pg(t[h+1],r)),t[a+1]=function P$(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=sd(a,0),0!==a&&(t[a+1]=Pg(t[a+1],r)),a=r;else t[r+1]=sd(u,0),0===a?a=r:t[u+1]=Pg(t[u+1],r),u=r;l&&(t[r+1]=Rg(t[r+1])),FS(t,c,r,!0),FS(t,c,r,!1),function EG(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&yo(s,e)>=0&&(n[r+1]=Og(n[r+1]))}(e,c,t,r,s),o=sd(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==W&&jt(i,o,e)&&function zS(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,l=u[a+1];md(function lA(t){return 1==(1&t)}(l)?KS(u,e,n,i,jr(l),o):void 0)||(md(s)||function uA(t){return 2==(2&t)}(l)&&(s=KS(u,null,n,i,a,o)),function I$(t,e,n,r,i){const s=Oe(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let o=-1===r.indexOf("-")?void 0:Cn.DashCase;if(null==i)s?t.removeStyle(n,r,o):n.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),o|=Cn.Important),s?t.setStyle(n,r,i,o):n.style.setProperty(r,i,a?"important":"")}}}(r,o,Pc(Yt(),n),i,s))}(s,s.data[Yt()],i,i[Y],t,i[o+1]=function LG(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=ge(_i(t)))),t}(e,n),r,o)}(t,e,null,!0),gd}function _m(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Iu(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Iu(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Dn(t,o,!!n||e[++s]))}return void 0===t?null:t}function KS(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],l=Array.isArray(u),c=l?u[1]:u,d=null===c;let h=n[i+1];h===W&&(h=d?Ee:void 0);let f=d?sg(h,r):c===r?h:void 0;if(l&&!md(f)&&(f=sg(u,r)),md(f)&&(a=f,o))return a;const p=t[i+1];i=o?Zn(p):jr(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=sg(u,r))}return a}function md(t){return void 0!==t}function xe(t,e=""){const n=I(),r=le(),i=t+20,s=r.firstCreatePass?Io(r,i,1,e,null):r.data[i],o=n[i]=function Cg(t,e){return Oe(t)?t.createText(e):t.createTextNode(e)}(n[Y],e);rd(r,n,o,s),pr(s,!1)}function yd(t){return vm("",t,""),yd}function vm(t,e,n){const r=I(),i=xo(r,t,e,n);return i!==W&&$r(r,Yt(),i),vm}function _d(t,e,n,r,i){const s=I(),o=Mo(s,t,e,n,r,i);return o!==W&&$r(s,Yt(),o),_d}const vd="en-US";let mx=vd;function Im(t,e,n,r,i){if(t=Q(t),Array.isArray(t))for(let s=0;s<t.length;s++)Im(t[s],e,n,r,i);else{const s=le(),o=I();let a=To(t)?t:Q(t.provide),u=$A(t);const l=nt(),c=1048575&l.providerIndexes,d=l.directiveStart,h=l.providerIndexes>>20;if(To(t)||!t.multi){const f=new Qa(u,i,b),p=Dm(a,e,i?c:c+h,d);-1===p?(qc(Ja(l,o),s,a),bm(s,t,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=Dm(a,e,c+h,d),p=Dm(a,e,c,c+h),g=f>=0&&n[f],_=p>=0&&n[p];if(i&&!_||!i&&!g){qc(Ja(l,o),s,a);const E=function nW(t,e,n,r,i){const s=new Qa(t,n,b);return s.multi=[],s.index=e,s.componentProviders=0,Bx(s,i,r&&!n),s}(i?tW:eW,n.length,i,r,u);!i&&_&&(n[p].providerFactory=E),bm(s,t,e.length,0),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(E),o.push(E)}else bm(s,t,f>-1?f:p,Bx(n[i?p:f],u,!i&&r));!i&&r&&_&&n[p].componentProviders++}}}function bm(t,e,n,r){const i=To(e),s=function CH(t){return!!t.useClass}(e);if(i||s){const u=(s?Q(e.useClass):e).prototype.ngOnDestroy;if(u){const l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const c=l.indexOf(n);-1===c?l.push(n,[r,u]):l[c+1].push(r,u)}else l.push(n,u)}}}function Bx(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Dm(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function eW(t,e,n,r){return Cm(this.multi,[])}function tW(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Xa(n,n[1],this.providerFactory.index,r);s=a.slice(0,o),Cm(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Cm(i,s);return s}function Cm(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Me(t,e=[]){return n=>{n.providersResolver=(r,i)=>function Zq(t,e,n){const r=le();if(r.firstCreatePass){const i=Jn(t);Im(n,r.data,r.blueprint,i,!0),Im(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class jx{}class sW{resolveComponentFactory(e){throw function iW(t){const e=Error(`No component factory found for ${ge(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let Au=(()=>{class t{}return t.NULL=new sW,t})();function oW(){return $o(nt(),I())}function $o(t,e){return new An(Ln(t,e))}let An=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=oW,t})();class Hx{}let Gr=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function lW(){const t=I(),n=bn(nt().index,t);return function uW(t){return t[Y]}(fr(n)?n:t)}(),t})(),cW=(()=>{class t{}return t.\u0275prov=ee({token:t,providedIn:"root",factory:()=>null}),t})();class Ho{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Gx=new Ho("13.3.8"),Tm={};function Dd(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(qe(s)),Yn(s))for(let a=10;a<s.length;a++){const u=s[a],l=u[1].firstChild;null!==l&&Dd(u[1],u,l,r)}const o=n.type;if(8&o)Dd(t,e,n.child,r);else if(32&o){const a=Ig(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=J0(e,n);if(Array.isArray(a))r.push(...a);else{const u=fu(e[16]);Dd(u[1],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class Su{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return Dd(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Yn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Ag(e,r),zc(n,r))}this._attachedToViewContainer=!1}$0(this._lView[1],this._lView)}onDestroy(e){!function bA(t,e,n,r){const i=RA(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&PA(t).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){Yg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function Xg(t,e,n){const r=e[10];r.begin&&r.begin();try{Do(t,e,t.template,n)}catch(i){throw FA(e,i),i}finally{r.end&&r.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ue(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function h$(t,e){pu(t,e,e[Y],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ue(902,"");this._appRef=e}}class dW extends Su{constructor(e){super(e),this._view=e}detectChanges(){NA(this._view)}checkNoChanges(){}get context(){return null}}class qx extends Au{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Ft(e);return new Am(n,this.ngModule)}}function Wx(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class Am extends jx{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function N$(t){return t.map(k$).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return Wx(this.componentDef.inputs)}get outputs(){return Wx(this.componentDef.outputs)}create(e,n,r,i){const s=(i=i||this.ngModule)?function fW(t,e){return{get:(n,r,i)=>{const s=t.get(n,Tm,i);return s!==Tm||r===Tm?s:e.get(n,r,i)}}}(e,i.injector):e,o=s.get(Hx,MT),a=s.get(cW,null),u=o.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",c=r?function IA(t,e,n){if(Oe(t))return t.selectRootElement(e,n===hr.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(u,r,this.componentDef.encapsulation):Tg(o.createRenderer(null,this.componentDef),l,function hW(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(l)),d=this.componentDef.onPush?576:528,h=function eS(t,e){return{components:[],scheduler:t||i$,clean:mH,playerHandler:e||null,flags:0}}(),f=ud(0,null,null,1,0,null,null,null,null,null),p=gu(null,f,h,d,null,null,o,u,a,s);let g,_;Fc(p);try{const E=function XA(t,e,n,r,i,s){const o=n[1];n[20]=t;const u=Io(o,20,2,"#host",null),l=u.mergedAttrs=e.hostAttrs;null!==l&&(cd(u,l,!0),null!==t&&(jc(i,t,l),null!==u.classes&&Ng(i,t,u.classes),null!==u.styles&&eA(i,t,u.styles)));const c=r.createRenderer(t,e),d=gu(n,wA(e),null,e.onPush?64:16,n[20],u,r,c,s||null,null);return o.firstCreatePass&&(qc(Ja(u,n),o,e.type),SA(o,u),xA(u,n.length,1)),ld(n,d),n[20]=d}(c,this.componentDef,p,o,u);if(c)if(r)jc(u,c,["ng-version",Gx.full]);else{const{attrs:y,classes:T}=function R$(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Xn(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);y&&jc(u,c,y),T&&T.length>0&&Ng(u,c,T.join(" "))}if(_=$p(f,20),void 0!==n){const y=_.projection=[];for(let T=0;T<this.ngContentSelectors.length;T++){const P=n[T];y.push(null!=P?Array.from(P):null)}}g=function ZA(t,e,n,r,i){const s=n[1],o=function eH(t,e,n){const r=nt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),MA(t,r,e,bo(t,e,1,null),n));const i=Xa(e,t,r.directiveStart,r);Ut(i,e);const s=Ln(r,e);return s&&Ut(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(u=>u(o,e)),e.contentQueries){const u=nt();e.contentQueries(1,o,u.directiveStart)}const a=nt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(mi(a.index),TA(n[1],a,0,a.directiveStart,a.directiveEnd,e),AA(e,o)),o}(E,this.componentDef,p,h,[FH]),mu(f,p,null)}finally{Lc()}return new gW(this.componentType,g,$o(_,p),p,_)}}class gW extends class rW{}{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new dW(i),this.componentType=e}get injector(){return new ho(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class qr{}class zx{}const Go=new Map;class Yx extends qr{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new qx(this);const r=Rn(e);this._bootstrapComponents=yr(r.bootstrap),this._r3Injector=jA(e,n,[{provide:qr,useValue:this},{provide:Au,useValue:this.componentFactoryResolver}],ge(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,n=Bt.THROW_IF_NOT_FOUND,r=$.Default){return e===Bt||e===qr||e===em?this:this._r3Injector.get(e,n,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Sm extends zx{constructor(e){super(),this.moduleType=e,null!==Rn(e)&&function yW(t){const e=new Set;!function n(r){const i=Rn(r,!0),s=i.id;null!==s&&(function Kx(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${ge(e)} vs ${ge(e.name)}`)}(s,Go.get(s),r),Go.set(s,r));const o=yr(i.imports);for(const a of o)e.has(a)||(e.add(a),n(a))}(t)}(e)}create(e){return new Yx(this.moduleType,e)}}function xm(t){return e=>{setTimeout(t,void 0,e)}}const Ve=class OW extends Pr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){var i,s,o;let a=e,u=n||(()=>null),l=r;if(e&&"object"==typeof e){const d=e;a=null===(i=d.next)||void 0===i?void 0:i.bind(d),u=null===(s=d.error)||void 0===s?void 0:s.bind(d),l=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}this.__isAsync&&(u=xm(u),a&&(a=xm(a)),l&&(l=xm(l)));const c=super.subscribe({next:a,error:u,complete:l});return e instanceof _n&&e.add(c),c}};Symbol;let Wr=(()=>{class t{}return t.__NG_ELEMENT_ID__=UW,t})();const LW=Wr,VW=class extends LW{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e){const n=this._declarationTContainer.tViews,r=gu(this._declarationLView,n,e,16,null,n.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(n)),mu(n,r,e),new Su(r)}};function UW(){return function Cd(t,e){return 4&t.type?new VW(e,t,$o(t,e)):null}(nt(),I())}let rr=(()=>{class t{}return t.__NG_ELEMENT_ID__=BW,t})();function BW(){return function iM(t,e){let n;const r=e[t.index];if(Yn(r))n=r;else{let i;if(8&t.type)i=qe(r);else{const s=e[Y];i=s.createComment("");const o=Ln(t,e);es(s,nd(s,o),i,function v$(t,e){return Oe(t)?t.nextSibling(e):e.nextSibling}(s,o),!1)}e[t.index]=n=kA(r,e,i,t),ld(e,n)}return new nM(n,t,e)}(nt(),I())}const jW=rr,nM=class extends jW{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return $o(this._hostTNode,this._hostLView)}get injector(){return new ho(this._hostTNode,this._hostLView)}get parentInjector(){const e=Gc(this._hostTNode,this._hostLView);if(KT(e)){const n=co(e,this._hostLView),r=lo(e);return new ho(n[1].data[r+8],n)}return new ho(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=rM(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){const i=e.createEmbeddedView(n||{});return this.insert(i,r),i}createComponent(e,n,r,i,s){const o=e&&!function tu(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.ngModuleRef}const u=o?e:new Am(Ft(e)),l=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?l:this.parentInjector).get(qr,null);h&&(s=h)}const c=u.create(l,i,void 0,s);return this.insert(c.hostView,a),c}insert(e,n){const r=e._lView,i=r[1];if(function lB(t){return Yn(t[3])}(r)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const d=r[3],h=new nM(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function p$(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],s0(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function g$(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,r,o,s);const a=Mg(s,o),u=r[Y],l=nd(u,o[7]);return null!==l&&function d$(t,e,n,r,i,s){r[0]=i,r[6]=e,pu(t,r,n,1,i,s)}(i,o[6],u,r,l,a),e.attachToViewContainerRef(),s0(km(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=rM(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Ag(this._lContainer,n);r&&(zc(km(this._lContainer),n),$0(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=Ag(this._lContainer,n);return r&&null!=zc(km(this._lContainer),n)?new Su(r):null}_adjustIndex(e,n=0){return null==e?this.length+n:e}};function rM(t){return t[8]}function km(t){return t[8]||(t[8]=[])}function Sd(...t){}const qm=new z("Application Initializer");let Wm=(()=>{class t{constructor(n){this.appInits=n,this.resolve=Sd,this.reject=Sd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(wu(s))n.push(s);else if(mm(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(F(qm,8))},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Nu=new z("AppId",{providedIn:"root",factory:function TM(){return`${zm()}${zm()}${zm()}`}});function zm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const AM=new z("Platform Initializer"),xd=new z("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),SM=new z("appBootstrapListener");let pz=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Ei=new z("LocaleId",{providedIn:"root",factory:()=>tj(Ei,$.Optional|$.SkipSelf)||function gz(){return"undefined"!=typeof $localize&&$localize.locale||vd}()});class yz{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let xM=(()=>{class t{compileModuleSync(n){return new Sm(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=yr(Rn(n).declarations).reduce((o,a)=>{const u=Ft(a);return u&&o.push(new Am(u)),o},[]);return new yz(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const vz=(()=>Promise.resolve(0))();function Km(t){"undefined"==typeof Zone?vz.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ke{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ve(!1),this.onMicrotaskEmpty=new Ve(!1),this.onStable=new Ve(!1),this.onError=new Ve(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function wz(){let t=_e.requestAnimationFrame,e=_e.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function bz(t){const e=()=>{!function Iz(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(_e,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ym(t),t.isCheckStableRunning=!0,Qm(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ym(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return MM(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),kM(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return MM(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),kM(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Ym(t),Qm(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ke.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ke.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,Ez,Sd,Sd);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const Ez={};function Qm(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ym(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function MM(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function kM(t){t._nesting--,Qm(t)}class Dz{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ve,this.onMicrotaskEmpty=new Ve,this.onStable=new Ve,this.onError=new Ve}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}let Jm=(()=>{class t{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ke.assertNotInAngularZone(),Km(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Km(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(F(Ke))},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})(),Cz=(()=>{class t{constructor(){this._applications=new Map,Xm.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Xm.findTestabilityInTree(this,n,r)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();class Tz{addToWindow(e){}findTestabilityInTree(e,n,r){return null}}let Xm=new Tz,rs=null;const NM=new z("AllowMultipleToken"),RM=new z("PlatformOnDestroy");class PM{constructor(e,n){this.name=e,this.token=n}}function OM(t,e,n=[]){const r=`Platform: ${e}`,i=new z(r);return(s=[])=>{let o=Zm();if(!o||o.injector.get(NM,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function Mz(t){if(rs&&!rs.get(NM,!1))throw new ue(400,"");rs=t;const e=t.get(FM),n=t.get(AM,null);n&&n.forEach(r=>r())}(function Nz(t=[],e){return Bt.create({name:e,providers:[{provide:tm,useValue:"platform"},{provide:RM,useValue:()=>rs=null},...t]})}(a,r))}return function kz(t){const e=Zm();if(!e)throw new ue(401,"");return e}()}}function Zm(){var t;return null!==(t=null==rs?void 0:rs.get(FM))&&void 0!==t?t:null}let FM=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const a=function Rz(t,e){let n;return n="noop"===t?new Dz:("zone.js"===t?void 0:t)||new Ke({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),u=[{provide:Ke,useValue:a}];return a.run(()=>{const l=Bt.create({providers:u,parent:this.injector,name:n.moduleType.name}),c=n.create(l),d=c.injector.get(hu,null);if(!d)throw new ue(402,"");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});c.onDestroy(()=>{ty(this._modules,c),h.unsubscribe()})}),function Pz(t,e,n){try{const r=n();return wu(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(d,a,()=>{const h=c.injector.get(Wm);return h.runInitializers(),h.donePromise.then(()=>(function uq(t){wn(t,"Expected localeId to be defined"),"string"==typeof t&&(mx=t.toLowerCase().replace(/_/g,"-"))}(c.injector.get(Ei,vd)||vd),this._moduleDoBootstrap(c),c))})})}bootstrapModule(n,r=[]){const i=LM({},r);return function Sz(t,e,n){const r=new Sm(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(ey);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new ue(403,"");n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ue(404,"");this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(RM,null);null==n||n(),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(F(Bt))},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function LM(t,e){return Array.isArray(e)?e.reduce(LM,t):Object.assign(Object.assign({},t),e)}let ey=(()=>{class t{constructor(n,r,i,s){this._zone=n,this._injector=r,this._exceptionHandler=i,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new Re(u=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{u.next(this._stable),u.complete()})}),a=new Re(u=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{Ke.assertNotInAngularZone(),Km(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,u.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{Ke.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{u.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=function S2(...t){const e=Ha(t),n=function E2(t,e){return"number"==typeof bp(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?dr(r[0]):$a(n)(ft(r,e)):Fr}(o,a.pipe(function x2(t={}){const{connector:e=(()=>new Pr),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o=null,a=null,u=null,l=0,c=!1,d=!1;const h=()=>{null==a||a.unsubscribe(),a=null},f=()=>{h(),o=u=null,c=d=!1},p=()=>{const g=o;f(),null==g||g.unsubscribe()};return Dt((g,_)=>{l++,!d&&!c&&h();const E=u=null!=u?u:e();_.add(()=>{l--,0===l&&!d&&!c&&(a=Dp(p,i))}),E.subscribe(_),o||(o=new Ec({next:y=>E.next(y),error:y=>{d=!0,h(),a=Dp(f,n,y),E.error(y)},complete:()=>{c=!0,h(),a=Dp(f,r),E.complete()}}),ft(g).subscribe(o))})(s)}}()))}bootstrap(n,r){if(!this._initStatus.done)throw new ue(405,"");let i;i=n instanceof jx?n:this._injector.get(Au).resolveComponentFactory(n),this.componentTypes.push(i.componentType);const s=function xz(t){return t.isBoundToModule}(i)?void 0:this._injector.get(qr),a=i.create(Bt.NULL,[],r||i.selector,s),u=a.location.nativeElement,l=a.injector.get(Jm,null),c=l&&a.injector.get(Cz);return l&&c&&c.registerApplication(u,l),a.onDestroy(()=>{this.detachView(a.hostView),ty(this.components,a),c&&c.unregisterApplication(u)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new ue(101,"");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;ty(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(SM,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(n){return new(n||t)(F(Ke),F(Bt),F(hu),F(Wm))},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ty(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let UM=!0,Md=(()=>{class t{}return t.__NG_ELEMENT_ID__=Lz,t})();function Lz(t){return function Vz(t,e,n){if(Nc(t)&&!n){const r=bn(t.index,e);return new Su(r,r)}return 47&t.type?new Su(e[16],e):null}(nt(),I(),16==(16&t))}class GM{constructor(){}supports(e){return _u(e)}create(e){return new Gz(e)}}const Hz=(t,e)=>e;class Gz{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Hz}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<WM(r,i,s)?n:r,a=WM(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const l=a-i,c=u-i;if(l!=c){for(let h=0;h<l;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;c<=p&&p<l&&(s[h]=f+1)}s[o.previousIndex]=c-l}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!_u(e))throw new ue(900,"");return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function WH(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Ao()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new qz(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new qM),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new qM),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class qz{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Wz{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class qM{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new Wz,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function WM(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function KM(){return new Rd([new GM])}let Rd=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||KM()),deps:[[t,new ou,new gt]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new ue(901,"")}}return t.\u0275prov=ee({token:t,providedIn:"root",factory:KM}),t})();const Jz=OM(null,"core",[]);let Xz=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(F(ey))},t.\u0275mod=En({type:t}),t.\u0275inj=un({}),t})(),Pd=null;function br(){return Pd}const Bn=new z("DocumentToken");let ss=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ee({token:t,factory:function(){return function n3(){return F(YM)}()},providedIn:"platform"}),t})();const r3=new z("Location Initialized");let YM=(()=>{class t extends ss{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return br().getBaseHref(this._doc)}onPopState(n){const r=br().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=br().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,i){JM()?this._history.pushState(n,r,i):this.location.hash=i}replaceState(n,r,i){JM()?this._history.replaceState(n,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(F(Bn))},t.\u0275prov=ee({token:t,factory:function(){return function i3(){return new YM(F(Bn))}()},providedIn:"platform"}),t})();function JM(){return!!window.history.pushState}function oy(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function XM(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function zr(t){return t&&"?"!==t[0]?"?"+t:t}let Wo=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ee({token:t,factory:function(){return function s3(t){const e=F(Bn).location;return new ZM(F(ss),e&&e.origin||"")}()},providedIn:"root"}),t})();const ay=new z("appBaseHref");let ZM=(()=>{class t extends Wo{constructor(n,r){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return oy(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+zr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+zr(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+zr(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(F(ss),F(ay,8))},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})(),o3=(()=>{class t extends Wo{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=oy(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+zr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+zr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(F(ss),F(ay,8))},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})(),uy=(()=>{class t{constructor(n,r){this._subject=new Ve,this._urlChangeListeners=[],this._platformStrategy=n;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=XM(ek(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(n=!1){return this.normalize(this._platformStrategy.path(n))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+zr(r))}normalize(n){return t.stripTrailingSlash(function u3(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,ek(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._platformStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+zr(r)),i)}replaceState(n,r="",i=null){this._platformStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+zr(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,n)}onUrlChange(n){this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=zr,t.joinWithSlash=oy,t.stripTrailingSlash=XM,t.\u0275fac=function(n){return new(n||t)(F(Wo),F(ss))},t.\u0275prov=ee({token:t,factory:function(){return function a3(){return new uy(F(Wo),F(ss))}()},providedIn:"root"}),t})();function ek(t){return t.replace(/\/index.html$/,"")}class K3{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let lk=(()=>{class t{constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new K3(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),ck(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{ck(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(b(rr),b(Wr),b(Rd))},t.\u0275dir=B({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();function ck(t,e){t.context.$implicit=e.item}let _y=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new Q3,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){dk("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){dk("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(b(rr),b(Wr))},t.\u0275dir=B({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class Q3{constructor(){this.$implicit=null,this.ngIf=null}}function dk(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${ge(e)}'.`)}let I8=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=En({type:t}),t.\u0275inj=un({}),t})();let T8=(()=>{class t{}return t.\u0275prov=ee({token:t,providedIn:"root",factory:()=>new A8(F(Bn),window)}),t})();class A8{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function S8(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=gk(this.window.history)||gk(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function gk(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class by extends class M8 extends class t3{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function e3(t){Pd||(Pd=t)}(new by)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function k8(){return Fu=Fu||document.querySelector("base"),Fu?Fu.getAttribute("href"):null}();return null==n?null:function N8(t){Gd=Gd||document.createElement("a"),Gd.setAttribute("href",t);const e=Gd.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Fu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function q3(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Gd,Fu=null;const mk=new z("TRANSITION_ID"),P8=[{provide:qm,useFactory:function R8(t,e,n){return()=>{n.get(Wm).donePromise.then(()=>{const r=br(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[mk,Bn,Bt],multi:!0}];class Dy{static init(){!function Az(t){Xm=t}(new Dy)}addToWindow(e){_e.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},_e.getAllAngularTestabilities=()=>e.getAllTestabilities(),_e.getAllAngularRootElements=()=>e.getAllRootElements(),_e.frameworkStabilizers||(_e.frameworkStabilizers=[]),_e.frameworkStabilizers.push(r=>{const i=_e.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){if(null==n)return null;const i=e.getTestability(n);return null!=i?i:r?br().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}}let O8=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})();const qd=new z("EventManagerPlugins");let Wd=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(F(qd),F(Ke))},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})();class yk{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=br().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let _k=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})(),Lu=(()=>{class t extends _k{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(vk),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(vk))}}return t.\u0275fac=function(n){return new(n||t)(F(Bn))},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})();function vk(t){br().remove(t)}const Cy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ty=/%COMP%/g;function zd(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?zd(t,i,n):(i=i.replace(Ty,t),n.push(i))}return n}function Ik(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ay=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Sy(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case hr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new j8(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case hr.ShadowDom:return new $8(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=zd(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(F(Wd),F(Lu),F(Nu))},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})();class Sy{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(Cy[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){e.appendChild(n)}insertBefore(e,n,r){e&&e.insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=Cy[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Cy[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Cn.DashCase|Cn.Important)?e.style.setProperty(n,r,i&Cn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Cn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,Ik(r)):this.eventManager.addEventListener(e,n,Ik(r))}}class j8 extends Sy{constructor(e,n,r,i){super(e),this.component=r;const s=zd(i+"-"+r.id,r.styles,[]);n.addStyles(s),this.contentAttr=function V8(t){return"_ngcontent-%COMP%".replace(Ty,t)}(i+"-"+r.id),this.hostAttr=function U8(t){return"_nghost-%COMP%".replace(Ty,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class $8 extends Sy{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=zd(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let H8=(()=>{class t extends yk{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(F(Bn))},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})();const Dk=["alt","control","meta","shift"],q8={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ck={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},W8={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let z8=(()=>{class t extends yk{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>br().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="";if(Dk.forEach(u=>{const l=r.indexOf(u);l>-1&&(r.splice(l,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(n){let r="",i=function K8(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Ck.hasOwnProperty(e)&&(e=Ck[e]))}return q8[e]||e}(n);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Dk.forEach(s=>{s!=i&&W8[s](n)&&(r+=s+".")}),r+=i,r}static eventCallback(n,r,i){return s=>{t.getEventFullKey(s)===n&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(F(Bn))},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})();const X8=OM(Jz,"browser",[{provide:xd,useValue:"browser"},{provide:AM,useValue:function Q8(){by.makeCurrent(),Dy.init()},multi:!0},{provide:Bn,useFactory:function J8(){return function sB(t){Bp=t}(document),document},deps:[]}]),Z8=[{provide:tm,useValue:"root"},{provide:hu,useFactory:function Y8(){return new hu},deps:[]},{provide:qd,useClass:H8,multi:!0,deps:[Bn,Ke,xd]},{provide:qd,useClass:z8,multi:!0,deps:[Bn]},{provide:Ay,useClass:Ay,deps:[Wd,Lu,Nu]},{provide:Hx,useExisting:Ay},{provide:_k,useExisting:Lu},{provide:Lu,useClass:Lu,deps:[Bn]},{provide:Jm,useClass:Jm,deps:[Ke]},{provide:Wd,useClass:Wd,deps:[qd,Ke]},{provide:class x8{},useClass:O8,deps:[]}];let e4=(()=>{class t{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:t,providers:[{provide:Nu,useValue:n.appId},{provide:mk,useExisting:Nu},P8]}}}return t.\u0275fac=function(n){return new(n||t)(F(t,12))},t.\u0275mod=En({type:t}),t.\u0275inj=un({providers:Z8,imports:[I8,Xz]}),t})();function Sk(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(l){return void n(l)}a.done?e(u):Promise.resolve(u).then(r,i)}function m(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){Sk(s,r,i,o,a,"next",u)}function a(u){Sk(s,r,i,o,a,"throw",u)}o(void 0)})}}"undefined"!=typeof window&&window;const xk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},ky={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0;let h=(15&a)<<2|l>>6,f=63&l;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(xk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==l||null==d)throw Error();r.push(s<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==d&&r.push(l<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Kd=function(t){return function(t){const e=xk(t);return ky.encodeByteArray(e,!0)}(t).replace(/\./g,"")};class Ry{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Sn(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function kk(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sn())}function Qd(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Nk(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function os(){return"object"==typeof indexedDB}function Vu(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function Py(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Qr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dr.prototype.create)}}class Dr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function E4(t,e){return t.replace(I4,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Qr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const I4=/\{\$([^}]+)}/g;function Oy(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Pk(s)&&Pk(o)){if(!Oy(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Pk(t){return null!==t&&"object"==typeof t}function Ok(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class D4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function C4(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=Fy),void 0===i.error&&(i.error=Fy),void 0===i.complete&&(i.complete=Fy);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(o){}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Fy(){}function Vy(t,e=1e3,n=2){const r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function Hn(t){return t&&t._delegate?t._delegate:t}class Ht{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const as="[DEFAULT]";class k4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Ry;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(n=null==e?void 0:e.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function R4(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:as})}catch(n){}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch(s){}}}}clearInstance(e=as){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return m(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=as){return this.instances.has(e)}getOptions(e=as){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===as?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}var t;return r||null}normalizeInstanceIdentifier(e=as){return this.component?this.component.multipleInstances?e:as:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class P4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new k4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const Uy=[];var ce=(()=>{return(t=ce||(ce={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",ce;var t})();const Fk={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},O4=ce.INFO,F4={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},L4=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=F4[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class zo{constructor(e){this.name=e,this._logLevel=O4,this._logHandler=L4,this._userLogHandler=null,Uy.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Fk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}}let Lk,Vk;const Uk=new WeakMap,By=new WeakMap,Bk=new WeakMap,jy=new WeakMap,$y=new WeakMap;let Hy={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return By.get(t);if("objectStoreNames"===e)return t.objectStoreNames||Bk.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yr(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function q4(t){return"function"==typeof t?function G4(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function B4(){return Vk||(Vk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Gy(this),e),Yr(Uk.get(this))}:function(...e){return Yr(t.apply(Gy(this),e))}:function(e,...n){const r=t.call(Gy(this),e,...n);return Bk.set(r,e.sort?e.sort():[e]),Yr(r)}}(t):(t instanceof IDBTransaction&&function $4(t){if(By.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});By.set(t,e)}(t),((t,e)=>e.some(n=>t instanceof n))(t,function U4(){return Lk||(Lk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Hy):t)}function Yr(t){if(t instanceof IDBRequest)return function j4(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Yr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Uk.set(n,t)}).catch(()=>{}),$y.set(e,t),e}(t);if(jy.has(t))return jy.get(t);const e=q4(t);return e!==t&&(jy.set(t,e),$y.set(e,t)),e}const Gy=t=>$y.get(t);function Jd(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Yr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Yr(o.result),u.oldVersion,u.newVersion,Yr(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function qy(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Yr(n).then(()=>{})}const W4=["get","getKey","getAll","getAllKeys","count"],z4=["put","add","delete","clear"],Wy=new Map;function jk(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Wy.get(e))return Wy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=z4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!W4.includes(n))return;const s=function(){var o=m(function*(a,...u){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(u.shift())),(yield Promise.all([c[n](...u),i&&l.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Wy.set(e,s),s}!function H4(t){Hy=t(Hy)}(t=>zU(WU({},t),{get:(e,n,r)=>jk(e,n)||t.get(e,n,r),has:(e,n)=>!!jk(e,n)||t.has(e,n)}));class K4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function Q4(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const zy="@firebase/app",Ky=new zo("@firebase/app"),Qy="[DEFAULT]",E6={[zy]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},us=new Map,Xd=new Map;function I6(t,e){try{t.container.addComponent(e)}catch(n){Ky.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function en(t){const e=t.name;if(Xd.has(e))return Ky.debug(`There were multiple attempts to register component ${e}.`),!1;Xd.set(e,t);for(const n of us.values())I6(n,t);return!0}function Zd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const bi=new Dr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class D6{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ht("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bi.create("app-deleted",{appName:this._name})}}function C6(t,e={}){"object"!=typeof e&&(e={name:e});const n=Object.assign({name:Qy,automaticDataCollectionEnabled:!1},e),r=n.name;if("string"!=typeof r||!r)throw bi.create("bad-app-name",{appName:String(r)});const i=us.get(r);if(i){if(Oy(t,i.options)&&Oy(n,i.config))return i;throw bi.create("duplicate-app",{appName:r})}const s=new P4(r);for(const a of Xd.values())s.addComponent(a);const o=new D6(t,n,s);return us.set(r,o),o}function Hk(t=Qy){const e=us.get(t);if(!e)throw bi.create("no-app",{appName:t});return e}function Gk(){return Array.from(us.values())}function $e(t,e,n){var r;let i=null!==(r=E6[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Ky.warn(a.join(" "))}en(new Ht(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Uu="firebase-heartbeat-store";let Jy=null;function qk(){return Jy||(Jy=Jd("firebase-heartbeat-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Uu)}}).catch(t=>{throw bi.create("storage-open",{originalErrorMessage:t.message})})),Jy}function Xy(){return(Xy=m(function*(t){try{return(yield qk()).transaction(Uu).objectStore(Uu).get(zk(t))}catch(e){throw bi.create("storage-get",{originalErrorMessage:e.message})}})).apply(this,arguments)}function Wk(t,e){return Zy.apply(this,arguments)}function Zy(){return(Zy=m(function*(t,e){try{const r=(yield qk()).transaction(Uu,"readwrite");return yield r.objectStore(Uu).put(e,zk(t)),r.done}catch(n){throw bi.create("storage-set",{originalErrorMessage:n.message})}})).apply(this,arguments)}function zk(t){return`${t.name}!${t.options.appId}`}class k6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new R6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return m(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Kk();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return m(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=Kk(),{heartbeatsToSend:r,unsentEntries:i}=function N6(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Qk(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Qk(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Kd(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function Kk(){return(new Date).toISOString().substring(0,10)}class R6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(function*(){return!!os()&&Vu().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return m(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function S6(t){return Xy.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return Wk(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return Wk(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function Qk(t){return Kd(JSON.stringify({version:2,heartbeats:t})).length}!function P6(t){en(new Ht("platform-logger",e=>new K4(e),"PRIVATE")),en(new Ht("heartbeat",e=>new k6(e),"PRIVATE")),$e(zy,"0.7.24",t),$e(zy,"0.7.24","esm2017"),$e("fire-js","")}(""),$e("firebase","9.8.1","app");const Yk="@firebase/installations",Xk="w:0.5.9",Zk="FIS_v2",Jr=new Dr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function eN(t){return t instanceof Qr&&t.code.includes("request-failed")}function t_({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function tN(t){return{token:t.token,requestStatus:2,expiresIn:$6(t.expiresIn),creationTime:Date.now()}}function n_(t,e){return r_.apply(this,arguments)}function r_(){return(r_=m(function*(t,e){const r=(yield e.json()).error;return Jr.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function nN({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function rN(t,{refreshToken:e}){const n=nN(t);return n.append("Authorization",function H6(t){return`${Zk} ${t}`}(e)),n}function i_(t){return s_.apply(this,arguments)}function s_(){return(s_=m(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function $6(t){return Number(t.replace("s","000"))}function G6(t,e){return o_.apply(this,arguments)}function o_(){return(o_=m(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=t_(t),i=nN(t),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:Zk,appId:t.appId,sdkVersion:Xk})},u=yield i_(()=>fetch(r,a));if(u.ok){const l=yield u.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:tN(l.authToken)}}throw yield n_("Create Installation",u)})).apply(this,arguments)}function iN(t){return new Promise(e=>{setTimeout(e,t)})}const W6=/^[cdef][\w-]{21}$/;function z6(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function K6(t){return function q6(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return W6.test(n)?n:""}catch(t){return""}}function Ko(t){return`${t.appName}!${t.appId}`}const Qo=new Map;function sN(t,e){const n=Ko(t);oN(n,e),function J6(t,e){const n=function aN(){return!ls&&"BroadcastChannel"in self&&(ls=new BroadcastChannel("[Firebase] FID Change"),ls.onmessage=t=>{oN(t.data.key,t.data.fid)}),ls}();n&&n.postMessage({key:t,fid:e}),function uN(){0===Qo.size&&ls&&(ls.close(),ls=null)}()}(n,e)}function oN(t,e){const n=Qo.get(t);if(n)for(const r of n)r(e)}let ls=null;const cs="firebase-installations-store";let u_=null;function l_(){return u_||(u_=Jd("firebase-installations-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(cs)}})),u_}function th(t,e){return c_.apply(this,arguments)}function c_(){return(c_=m(function*(t,e){const n=Ko(t),i=(yield l_()).transaction(cs,"readwrite"),s=i.objectStore(cs),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&sN(t,e.fid),e})).apply(this,arguments)}function d_(t){return h_.apply(this,arguments)}function h_(){return(h_=m(function*(t){const e=Ko(t),r=(yield l_()).transaction(cs,"readwrite");yield r.objectStore(cs).delete(e),yield r.done})).apply(this,arguments)}function Bu(t,e){return f_.apply(this,arguments)}function f_(){return(f_=m(function*(t,e){const n=Ko(t),i=(yield l_()).transaction(cs,"readwrite"),s=i.objectStore(cs),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&sN(t,a.fid),a})).apply(this,arguments)}function p_(t){return g_.apply(this,arguments)}function g_(){return(g_=m(function*(t){let e;const n=yield Bu(t.appConfig,r=>{const i=eK(r),s=tK(t,i);return e=s.registrationPromise,s.installationEntry});return""===n.fid?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})).apply(this,arguments)}function eK(t){return cN(t||{fid:z6(),registrationStatus:0})}function tK(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Jr.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function nK(t,e){return m_.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:rK(t)}:{installationEntry:e}}function m_(){return(m_=m(function*(t,e){try{const n=yield G6(t,e);return th(t.appConfig,n)}catch(n){throw eN(n)&&409===n.customData.serverCode?yield d_(t.appConfig):yield th(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})).apply(this,arguments)}function rK(t){return y_.apply(this,arguments)}function y_(){return(y_=m(function*(t){let e=yield lN(t.appConfig);for(;1===e.registrationStatus;)yield iN(100),e=yield lN(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield p_(t);return r||n}return e})).apply(this,arguments)}function lN(t){return Bu(t,e=>{if(!e)throw Jr.create("installation-not-found");return cN(e)})}function cN(t){return function iK(t){return 1===t.registrationStatus&&t.registrationTime+1e4<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function sK(t,e){return __.apply(this,arguments)}function __(){return(__=m(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=oK(t,n),i=rN(t,n),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:Xk,appId:t.appId}})},u=yield i_(()=>fetch(r,a));if(u.ok)return tN(yield u.json());throw yield n_("Generate Auth Token",u)})).apply(this,arguments)}function oK(t,{fid:e}){return`${t_(t)}/${e}/authTokens:generate`}function v_(t){return w_.apply(this,arguments)}function w_(){return(w_=m(function*(t,e=!1){let n;const r=yield Bu(t.appConfig,s=>{if(!hN(s))throw Jr.create("not-registered");const o=s.authToken;if(!e&&lK(o))return s;if(1===o.requestStatus)return n=aK(t,e),s;{if(!navigator.onLine)throw Jr.create("app-offline");const a=dK(s);return n=uK(t,a),a}});return n?yield n:r.authToken})).apply(this,arguments)}function aK(t,e){return E_.apply(this,arguments)}function E_(){return(E_=m(function*(t,e){let n=yield dN(t.appConfig);for(;1===n.authToken.requestStatus;)yield iN(100),n=yield dN(t.appConfig);const r=n.authToken;return 0===r.requestStatus?v_(t,e):r})).apply(this,arguments)}function dN(t){return Bu(t,e=>{if(!hN(e))throw Jr.create("not-registered");return function hK(t){return 1===t.requestStatus&&t.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function uK(t,e){return I_.apply(this,arguments)}function I_(){return(I_=m(function*(t,e){try{const n=yield sK(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield th(t.appConfig,r),n}catch(n){if(!eN(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield th(t.appConfig,r)}else yield d_(t.appConfig);throw n}})).apply(this,arguments)}function hN(t){return void 0!==t&&2===t.registrationStatus}function lK(t){return 2===t.requestStatus&&!function cK(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}function dK(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function b_(){return(b_=m(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield p_(e);return r?r.catch(console.error):v_(e).catch(console.error),n.fid})).apply(this,arguments)}function D_(){return(D_=m(function*(t,e=!1){const n=t;return yield gK(n),(yield v_(n,e)).token})).apply(this,arguments)}function gK(t){return C_.apply(this,arguments)}function C_(){return(C_=m(function*(t){const{registrationPromise:e}=yield p_(t);e&&(yield e)})).apply(this,arguments)}function S_(t){return Jr.create("missing-app-config-values",{valueName:t})}const fN="installations",wK=t=>{const e=t.getProvider("app").getImmediate(),n=function _K(t){if(!t||!t.options)throw S_("App Configuration");if(!t.name)throw S_("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw S_(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Zd(e,"heartbeat"),_delete:()=>Promise.resolve()}},EK=t=>{const n=Zd(t.getProvider("app").getImmediate(),fN).getImmediate();return{getId:()=>function fK(t){return b_.apply(this,arguments)}(n),getToken:i=>function pK(t){return D_.apply(this,arguments)}(n,i)}};(function IK(){en(new Ht(fN,wK,"PUBLIC")),en(new Ht("installations-internal",EK,"PRIVATE"))})(),$e(Yk,"0.5.9"),$e(Yk,"0.5.9","esm2017");const x_="@firebase/remote-config",fn=new Dr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class RK{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function PK(t=navigator){return t.languages&&t.languages[0]||t.language}class OK{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:PK()},l={method:"POST",headers:a,body:JSON.stringify(u)},c=fetch(o,l),d=new Promise((E,y)=>{e.signal.addEventListener(()=>{const T=new Error("The operation was aborted.");T.name="AbortError",y(T)})});let h;try{yield Promise.race([c,d]),h=yield c}catch(E){let y="fetch-client-network";throw"AbortError"===E.name&&(y="fetch-timeout"),fn.create(y,{originalErrorMessage:E.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,_;if(200===h.status){let E;try{E=yield h.json()}catch(y){throw fn.create("fetch-client-parse",{originalErrorMessage:y.message})}g=E.entries,_=E.state}if("INSTANCE_STATE_UNSPECIFIED"===_?f=500:"NO_CHANGE"===_?f=304:("NO_TEMPLATE"===_||"EMPTY_CONFIG"===_)&&(g={}),304!==f&&200!==f)throw fn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class VK{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return m(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return m(function*(){yield function FK(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(fn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function LK(t){if(!(t instanceof Qr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+Vy(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class jK{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function rh(t,e){const n=t.target.error||void 0;return fn.create(e,{originalErrorMessage:n&&n.message})}const ds="app_namespace_store";class qK{constructor(e,n,r,i=function GK(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(rh(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ds,{keyPath:"compositeKey"})}}catch(n){e(fn.create("storage-open",{originalErrorMessage:n}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([ds],"readonly").objectStore(ds),u=n.createCompositeKey(e);try{const l=a.get(u);l.onerror=c=>{s(rh(c,"storage-get"))},l.onsuccess=c=>{const d=c.target.result;i(d?d.value:void 0)}}catch(l){s(fn.create("storage-get",{originalErrorMessage:l&&l.message}))}})})()}set(e,n){var r=this;return m(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([ds],"readwrite").objectStore(ds),l=r.createCompositeKey(e);try{const c=u.put({compositeKey:l,value:n});c.onerror=d=>{o(rh(d,"storage-set"))},c.onsuccess=()=>{s()}}catch(c){o(fn.create("storage-set",{originalErrorMessage:c&&c.message}))}})})()}delete(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([ds],"readwrite").objectStore(ds),u=n.createCompositeKey(e);try{const l=a.delete(u);l.onerror=c=>{s(rh(c,"storage-delete"))},l.onsuccess=()=>{i()}}catch(l){s(fn.create("storage-delete",{originalErrorMessage:l&&l.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class WK{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return m(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function KK(){return P_.apply(this,arguments)}function P_(){return(P_=m(function*(){if(!os())return!1;try{return yield Vu()}catch(t){return!1}})).apply(this,arguments)}!function zK(){en(new Ht("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw fn.create("registration-window");if(!os())throw fn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw fn.create("registration-project-id");if(!o)throw fn.create("registration-api-key");if(!a)throw fn.create("registration-app-id");const u=new qK(a,r.name,n=n||"firebase"),l=new WK(u),c=new zo(x_);c.logLevel=ce.ERROR;const d=new OK(i,"9.8.1",n,s,o,a),h=new VK(d,u),f=new RK(h,u,l,c),p=new jK(r,f,l,u,c);return function MK(t){const e=Hn(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),$e(x_,"0.3.8"),$e(x_,"0.3.8","esm2017")}();const QK="/firebase-messaging-sw.js",YK="/firebase-cloud-messaging-push-scope",yN="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",_N="google.c.a.c_id",XK="google.c.a.c_l",ZK="google.c.a.ts",e7="google.c.a.e";var Yo=(()=>{return(t=Yo||(Yo={})).PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",Yo;var t})();function Xr(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function t7(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const O_="fcm_token_details_db",vN="fcm_token_object_Store";function r7(t){return F_.apply(this,arguments)}function F_(){return F_=m(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(O_))return null;let e=null;return(yield Jd(O_,5,{upgrade:(r=m(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(vN))return;const l=a.objectStore(vN),c=yield l.index("fcmSenderId").get(t);if(yield l.clear(),c)if(2===s){const d=c;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Xr(d.vapidKey)}}}else if(3===s){const d=c;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Xr(d.auth),p256dh:Xr(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Xr(d.vapidKey)}}}else if(4===s){const d=c;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Xr(d.auth),p256dh:Xr(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Xr(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield qy(O_),yield qy("fcm_vapid_details_db"),yield qy("undefined"),i7(e)?e:null;var r}),F_.apply(this,arguments)}function i7(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const hs="firebase-messaging-store";let L_=null;function V_(){return L_||(L_=Jd("firebase-messaging-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(hs)}})),L_}function wN(t){return U_.apply(this,arguments)}function U_(){return(U_=m(function*(t){const e=H_(t),r=yield(yield V_()).transaction(hs).objectStore(hs).get(e);if(r)return r;{const i=yield r7(t.appConfig.senderId);if(i)return yield B_(t,i),i}})).apply(this,arguments)}function B_(t,e){return j_.apply(this,arguments)}function j_(){return(j_=m(function*(t,e){const n=H_(t),i=(yield V_()).transaction(hs,"readwrite");return yield i.objectStore(hs).put(e,n),yield i.done,e})).apply(this,arguments)}function a7(t){return $_.apply(this,arguments)}function $_(){return($_=m(function*(t){const e=H_(t),r=(yield V_()).transaction(hs,"readwrite");yield r.objectStore(hs).delete(e),yield r.done})).apply(this,arguments)}function H_({appConfig:t}){return t.appId}const At=new Dr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function l7(t,e){return G_.apply(this,arguments)}function G_(){return(G_=m(function*(t,e){const n=yield K_(t),r=IN(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(z_(t.appConfig),i)).json()}catch(o){throw At.create("token-subscribe-failed",{errorInfo:o})}if(s.error)throw At.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw At.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function c7(t,e){return q_.apply(this,arguments)}function q_(){return(q_=m(function*(t,e){const n=yield K_(t),r=IN(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${z_(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw At.create("token-update-failed",{errorInfo:o})}if(s.error)throw At.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw At.create("token-update-no-token");return s.token})).apply(this,arguments)}function EN(t,e){return W_.apply(this,arguments)}function W_(){return(W_=m(function*(t,e){const r={method:"DELETE",headers:yield K_(t)};try{const s=yield(yield fetch(`${z_(t.appConfig)}/${e}`,r)).json();if(s.error)throw At.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw At.create("token-unsubscribe-failed",{errorInfo:i})}})).apply(this,arguments)}function z_({projectId:t}){return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}function K_(t){return Q_.apply(this,arguments)}function Q_(){return(Q_=m(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function IN({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==yN&&(i.web.applicationPubKey=r),i}const d7=6048e5;function h7(t){return Y_.apply(this,arguments)}function Y_(){return(Y_=m(function*(t){const e=yield p7(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Xr(e.getKey("auth")),p256dh:Xr(e.getKey("p256dh"))},r=yield wN(t.firebaseDependencies);if(r){if(g7(r.subscriptionOptions,n))return Date.now()>=r.createTime+d7?f7(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield EN(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return DN(t.firebaseDependencies,n)}return DN(t.firebaseDependencies,n)})).apply(this,arguments)}function bN(t){return J_.apply(this,arguments)}function J_(){return(J_=m(function*(t){const e=yield wN(t.firebaseDependencies);e&&(yield EN(t.firebaseDependencies,e.token),yield a7(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()})).apply(this,arguments)}function f7(t,e){return X_.apply(this,arguments)}function X_(){return(X_=m(function*(t,e){try{const n=yield c7(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield B_(t.firebaseDependencies,r),n}catch(n){throw yield bN(t),n}})).apply(this,arguments)}function DN(t,e){return Z_.apply(this,arguments)}function Z_(){return(Z_=m(function*(t,e){const r={token:yield l7(t,e),createTime:Date.now(),subscriptionOptions:e};return yield B_(t,r),r.token})).apply(this,arguments)}function p7(t,e){return ev.apply(this,arguments)}function ev(){return(ev=m(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:t7(e)})})).apply(this,arguments)}function g7(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}function CN(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function m7(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i)}(e,t),function y7(t,e){!e.data||(t.data=e.data)}(e,t),function _7(t,e){if(!e.fcmOptions)return;t.fcmOptions={};const n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);const r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}(e,t),e}function v7(t){return"object"==typeof t&&!!t&&_N in t}function TN(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function tv(t){return At.create("missing-app-config-values",{valueName:t})}TN("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),TN("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class E7{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function w7(t){if(!t||!t.options)throw tv("App Configuration Object");if(!t.name)throw tv("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw tv(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function AN(t){return nv.apply(this,arguments)}function nv(){return(nv=m(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(QK,{scope:YK}),t.swRegistration.update().catch(()=>{})}catch(e){throw At.create("failed-service-worker-registration",{browserErrorMessage:e.message})}})).apply(this,arguments)}function I7(t,e){return rv.apply(this,arguments)}function rv(){return(rv=m(function*(t,e){if(!e&&!t.swRegistration&&(yield AN(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw At.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function b7(t,e){return iv.apply(this,arguments)}function iv(){return(iv=m(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=yN)})).apply(this,arguments)}function sv(){return(sv=m(function*(t,e){if(!navigator)throw At.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw At.create("permission-blocked");return yield b7(t,null==e?void 0:e.vapidKey),yield I7(t,null==e?void 0:e.serviceWorkerRegistration),h7(t)})).apply(this,arguments)}function D7(t,e,n){return ov.apply(this,arguments)}function ov(){return(ov=m(function*(t,e,n){const r=C7(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[_N],message_name:n[XK],message_time:n[ZK],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function C7(t){switch(t){case Yo.NOTIFICATION_CLICKED:return"notification_open";case Yo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function av(){return(av=m(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Yo.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(CN(n)):t.onMessageHandler.next(CN(n)));const r=n.data;v7(r)&&"1"===r[e7]&&(yield D7(t,n.messageType,r))})).apply(this,arguments)}const xN="@firebase/messaging",A7=t=>{const e=new E7(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function T7(t,e){return av.apply(this,arguments)}(e,n)),e},S7=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function SN(t,e){return sv.apply(this,arguments)}(e,r)}};function kN(){return uv.apply(this,arguments)}function uv(){return(uv=m(function*(){try{yield Vu()}catch(t){return!1}return"undefined"!=typeof window&&os()&&Py()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function x7(){en(new Ht("messaging",A7,"PUBLIC")),en(new Ht("messaging-internal",S7,"PRIVATE")),$e(xN,"0.9.13"),$e(xN,"0.9.13","esm2017")}();const ih="analytics",N7="firebase_id",O7="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",NN="https://www.googletagmanager.com/gtag/js",St=new zo("@firebase/analytics");function RN(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function F7(t,e){const n=document.createElement("script");n.src=`${NN}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function V7(t,e,n,r,i,s){return dv.apply(this,arguments)}function dv(){return(dv=m(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield RN(n)).find(l=>l.measurementId===i);u&&(yield e[u.appId])}}catch(a){St.error(a)}t("config",i,s)})).apply(this,arguments)}function U7(t,e,n,r,i){return hv.apply(this,arguments)}function hv(){return(hv=m(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield RN(n);for(const u of o){const l=a.find(d=>d.measurementId===u),c=l&&e[l.appId];if(!c){s=[];break}s.push(c)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){St.error(s)}})).apply(this,arguments)}function $7(){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(NN))return e;return null}const xn=new Dr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),PN=new class W7{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function z7(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function K7(t){return fv.apply(this,arguments)}function fv(){return(fv=m(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:z7(r)},s=O7.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();(null===(e=u.error)||void 0===e?void 0:e.message)&&(a=u.error.message)}catch(u){}throw xn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function Q7(t){return pv.apply(this,arguments)}function pv(){return(pv=m(function*(t,e=PN,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw xn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw xn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new X7;return setTimeout(m(function*(){a.abort()}),void 0!==n?n:6e4),ON({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function ON(t,e,n){return gv.apply(this,arguments)}function gv(){return(gv=m(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=PN){const{appId:s,measurementId:o}=t;try{yield Y7(r,e)}catch(a){if(o)return St.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}try{const a=yield K7(t);return i.deleteThrottleMetadata(s),a}catch(a){if(!J7(a)){if(i.deleteThrottleMetadata(s),o)return St.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:s,measurementId:o};throw a}const u=503===Number(a.customData.httpStatus)?Vy(n,i.intervalMillis,30):Vy(n,i.intervalMillis),l={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(s,l),St.debug(`Calling attemptFetch again in ${u} millis`),ON(t,l,r,i)}})).apply(this,arguments)}function Y7(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(xn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function J7(t){if(!(t instanceof Qr&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}class X7{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}function Z7(){return mv.apply(this,arguments)}function mv(){return(mv=m(function*(){if(!os())return St.warn(xn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Vu()}catch(t){return St.warn(xn.create("indexeddb-unavailable",{errorInfo:t}).message),!1}return!0})).apply(this,arguments)}function yv(){return(yv=m(function*(t,e,n,r,i,s,o){var a;const u=Q7(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&St.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>St.error(f)),e.push(u);const l=Z7().then(f=>{if(f)return r.getId()}),[c,d]=yield Promise.all([u,l]);$7()||F7(s,c.measurementId),i("js",new Date);const h=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[N7]=d),i("config",c.measurementId,h),c.measurementId})).apply(this,arguments)}class t5{constructor(e){this.app=e}_delete(){return delete Zr[this.app.options.appId],Promise.resolve()}}let Zr={},FN=[];const LN={};let UN,ju,sh="dataLayer",_v=!1;function r5(t,e,n){!function n5(){const t=[];if(Qd()&&t.push("This is a browser extension environment."),Py()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=xn.create("invalid-analytics-context",{errorInfo:e});St.warn(n.message)}}();const r=t.options.appId;if(!r)throw xn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw xn.create("no-api-key");St.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Zr[r])throw xn.create("already-exists",{id:r});if(!_v){!function L7(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(sh);const{wrappedGtag:s,gtagCore:o}=function j7(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function B7(t,e,n,r){function s(){return(s=m(function*(o,a,u){try{"event"===o?yield U7(t,e,n,a,u):"config"===o?yield V7(t,e,n,r,a,u):t("set",a)}catch(l){St.error(l)}})).apply(this,arguments)}return function i(o,a,u){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Zr,FN,LN,sh,"gtag");ju=s,UN=o,_v=!0}return Zr[r]=function e5(t,e,n,r,i,s,o){return yv.apply(this,arguments)}(t,FN,LN,e,UN,sh,n),new t5(t)}function vv(){return(vv=m(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function c5(){return Dv.apply(this,arguments)}function Dv(){return(Dv=m(function*(){if(Qd()||!Py()||!os())return!1;try{return yield Vu()}catch(t){return!1}})).apply(this,arguments)}const BN="@firebase/analytics";!function h5(){en(new Ht(ih,(e,{options:n})=>r5(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),en(new Ht("analytics-internal",function t(e){try{const n=e.getProvider(ih).getImmediate();return{logEvent:(r,i,s)=>function d5(t,e,n,r){t=Hn(t),function i5(t,e,n,r,i){return vv.apply(this,arguments)}(ju,Zr[t.app.options.appId],e,n,r).catch(i=>St.error(i))}(n,r,i,s)}}catch(n){throw xn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),$e(BN,"0.7.9"),$e(BN,"0.7.9","esm2017")}();class f5 extends _n{constructor(e,n){super()}schedule(e,n=0){return this}}const oh={setInterval(t,e,...n){const{delegate:r}=oh;return(null==r?void 0:r.setInterval)?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=oh;return((null==e?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0};class $N extends f5{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(i,this.id,n),this}requestAsyncId(e,n,r=0){return oh.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;oh.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,to(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const HN={now:()=>(HN.delegate||Date).now(),delegate:void 0};class $u{constructor(e,n=$u.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}$u.now=HN.now;class GN extends $u{constructor(e,n=$u.now){super(e,n),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const m5=new class g5 extends GN{}(class p5 extends $N{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):e.flush(this)}}),y5=new GN($N);function pn(t,e,n){const r=se(t)||e||n?{next:t,error:e,complete:n}:t;return r?Dt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(dt(s,u=>{var l;null===(l=r.next)||void 0===l||l.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,u),s.error(u)},()=>{var u,l;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):zi}const Cv=new Ho("7.3.0"),Tv="__angularfire_symbol__analyticsIsSupportedValue",Av="__angularfire_symbol__analyticsIsSupported",Sv="__angularfire_symbol__remoteConfigIsSupportedValue",xv="__angularfire_symbol__remoteConfigIsSupported",Mv="__angularfire_symbol__messagingIsSupportedValue",kv="__angularfire_symbol__messagingIsSupported";globalThis[Av]||(globalThis[Av]=c5().then(t=>globalThis[Tv]=t).catch(()=>globalThis[Tv]=!1)),globalThis[kv]||(globalThis[kv]=kN().then(t=>globalThis[Mv]=t).catch(()=>globalThis[Mv]=!1)),globalThis[xv]||(globalThis[xv]=KK().then(t=>globalThis[Sv]=t).catch(()=>globalThis[Sv]=!1));const Pv=(t,e)=>{const n=e?[e]:Gk(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Jo(){}class qN{constructor(e,n=m5){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class _5{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Jo,{},Jo,Jo)),n.pipe(pn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let WN=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new qN(Zone.current)),this.insideAngular=n.run(()=>new qN(Zone.current,y5)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(F(Ke))},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function fs(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function v5(t){return fs().ngZone.runOutsideAngular(()=>t())}function ps(t){return fs().ngZone.run(()=>t())}function w5(t){return fs(),function E5(t){return function(n){return(n=n.lift(new _5(t.ngZone))).pipe(Dc(t.outsideAngular),bc(t.insideAngular))}}(fs())(t)}const I5=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),ps(()=>t.apply(void 0,r))},Hu=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=ps(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Jo,{},Jo,Jo)))),r[s]=I5(r[s],n));const i=v5(()=>t.apply(this,r));if(!e){if(i instanceof Re){const s=fs();return i.pipe(Dc(s.outsideAngular),bc(s.insideAngular))}return ps(()=>i)}return i instanceof Re?i.pipe(w5):i instanceof Promise?ps(()=>new Promise((s,o)=>i.then(a=>ps(()=>s(a)),a=>ps(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:ps(()=>i)};class Xo{constructor(e){return e}}class zN{constructor(){return Gk()}}const Ov=new z("angularfire2._apps"),D5={provide:Xo,useFactory:function b5(t){return t&&1===t.length?t[0]:new Xo(Hk())},deps:[[new gt,Ov]]},C5={provide:zN,deps:[[new gt,Ov]]};function T5(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Xo(r)}}let A5=(()=>{class t{constructor(n){$e("angularfire",Cv.full,"core"),$e("angularfire",Cv.full,"app"),$e("angular",Gx.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(F(xd))},t.\u0275mod=En({type:t}),t.\u0275inj=un({providers:[D5,C5]}),t})();function S5(t,...e){return{ngModule:A5,providers:[{provide:Ov,useFactory:T5(t),multi:!0,deps:[Ke,Bt,WN,...e]}]}}const x5=Hu(C6,!0);const M5=function KN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},QN=new Dr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),YN=new zo("@firebase/auth");function ah(t,...e){YN.logLevel<=ce.ERROR&&YN.error(`Auth (9.8.1): ${t}`,...e)}function gn(t,...e){throw Fv(t,...e)}function Cr(t,...e){return Fv(t,...e)}function JN(t,e,n){const r=Object.assign(Object.assign({},M5()),{[e]:n});return new Dr("auth","Firebase",r).create(e,{appName:t.name})}function Fv(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return QN.create(t,...e)}function A(t,e,...n){if(!t)throw Fv(e,...n)}function Tr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ah(e),new Error(e)}function Di(t,e){t||Tr(e)}const XN=new Map;function ei(t){Di(t instanceof Function,"Expected a class definition");let e=XN.get(t);return e?(Di(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,XN.set(t,e),e)}function ZN(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class qu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Di(n>e,"Short delay should be less than long delay!"),this.isMobile=kk()||Nk()}get(){return function R5(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Lv(){return"http:"===ZN()||"https:"===ZN()}()||Qd()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class eR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const O5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},F5=new qu(3e4,6e4);function mt(t,e,n,r){return Uv.apply(this,arguments)}function Uv(){return(Uv=m(function*(t,e,n,r,i={}){return tR(t,i,m(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Ok(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),eR.fetch()(nR(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function tR(t,e,n){return Bv.apply(this,arguments)}function Bv(){return(Bv=m(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},O5),e);try{const i=new L5(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw uh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw uh(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw uh(t,"email-already-in-use",o);const c=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw JN(t,c,l);gn(t,c)}}catch(i){if(i instanceof Qr)throw i;gn(t,"network-request-failed")}})).apply(this,arguments)}function nR(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function Vv(t,e){Di(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class L5{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Cr(this.auth,"network-request-failed")),F5.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function uh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Cr(t,e,r);return i.customData._tokenResponse=n,i}function $v(){return($v=m(function*(t,e){return mt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function B5(t,e){return Gv.apply(this,arguments)}function Gv(){return(Gv=m(function*(t,e){return mt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Wu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function qv(){return(qv=m(function*(t,e=!1){const n=Hn(t),r=yield n.getIdToken(e),i=lh(r);A(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Wu(Wv(i.auth_time)),issuedAtTime:Wu(Wv(i.iat)),expirationTime:Wu(Wv(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}})).apply(this,arguments)}function Wv(t){return 1e3*Number(t)}function lh(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return ah("JWT malformed, contained fewer than 3 sections"),null;try{const i=function(t){try{return ky.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(n);return i?JSON.parse(i):(ah("Failed to decode base64 JWT payload"),null)}catch(i){return ah("Caught error parsing JWT payload as JSON",i),null}}function ni(t,e){return zv.apply(this,arguments)}function zv(){return(zv=m(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Qr&&H5(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}function H5({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}class G5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(m(function*(){yield n.iteration()}),r)}iteration(){var e=this;return m(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n.code&&e.schedule(!0))}e.schedule()})()}}class rR{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wu(this.lastLoginAt),this.creationTime=Wu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function zu(t){return Kv.apply(this,arguments)}function Kv(){return(Kv=m(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield ni(t,B5(n,{idToken:r}));A(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?z5(s.providerUserInfo):[],a=W5(t.providerData,o),c=!!t.isAnonymous&&!(t.email&&s.passwordHash||(null==a?void 0:a.length)),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new rR(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)})).apply(this,arguments)}function Qv(){return(Qv=m(function*(t){const e=Hn(t);yield zu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function W5(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function z5(t){return t.map(e=>{var{providerId:n}=e,r=tT(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Yv(){return(Yv=m(function*(t,e){const n=yield tR(t,{},m(function*(){const r=Ok({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=nR(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",eR.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Ku{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){A(e.idToken,"internal-error"),A(void 0!==e.idToken,"internal-error"),A(void 0!==e.refreshToken,"internal-error");const n="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function $5(t){const e=lh(t);return A(e,"internal-error"),A(void 0!==e.exp,"internal-error"),A(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return m(function*(){return A(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return m(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function K5(t,e){return Yv.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ku;return r&&(A("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(A("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(A("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ku,this.toJSON())}_performRefresh(){return Tr("not implemented")}}function Ci(t,e){A("string"==typeof t||void 0===t,"internal-error",{appName:e})}class gs{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=tT(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new G5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new rR(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return m(function*(){const r=yield ni(n,n.stsTokenManager.getToken(n.auth,e));return A(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function j5(t){return qv.apply(this,arguments)}(this,e)}reload(){return function q5(t){return Qv.apply(this,arguments)}(this)}_assign(e){this!==e&&(A(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new gs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){A(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return m(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield zu(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return m(function*(){const n=yield e.getIdToken();return yield ni(e,function V5(t,e){return $v.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,l,c;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,_=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,E=null!==(l=n.createdAt)&&void 0!==l?l:void 0,y=null!==(c=n.lastLoginAt)&&void 0!==c?c:void 0,{uid:T,emailVerified:P,isAnonymous:O,providerData:Z,stsTokenManager:Ae}=n;A(T&&Ae,e,"internal-error");const cr=Ku.fromJSON(this.name,Ae);A("string"==typeof T,e,"internal-error"),Ci(d,e.name),Ci(h,e.name),A("boolean"==typeof P,e,"internal-error"),A("boolean"==typeof O,e,"internal-error"),Ci(f,e.name),Ci(p,e.name),Ci(g,e.name),Ci(_,e.name),Ci(E,e.name),Ci(y,e.name);const eo=new gs({uid:T,auth:e,email:h,emailVerified:P,displayName:d,isAnonymous:O,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:cr,createdAt:E,lastLoginAt:y});return Z&&Array.isArray(Z)&&(eo.providerData=Z.map(_c=>Object.assign({},_c))),_&&(eo._redirectEventId=_),eo}static _fromIdTokenResponse(e,n,r=!1){return m(function*(){const i=new Ku;i.updateFromServerResponse(n);const s=new gs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield zu(s),s})()}}const iR=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(function*(){return!0})()}_set(n,r){var i=this;return m(function*(){i.storage[n]=r})()}_get(n){var r=this;return m(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return m(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function ch(t,e,n){return`firebase:${t}:${e}:${n}`}class ea{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ch(this.userKey,i.apiKey,s),this.fullPersistenceKey=ch("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return m(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?gs._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return m(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return m(function*(){if(!n.length)return new ea(ei(iR),e,r);const i=(yield Promise.all(n.map(function(){var l=m(function*(c){if(yield c._isAvailable())return c});return function(c){return l.apply(this,arguments)}}()))).filter(l=>l);let s=i[0]||ei(iR);const o=ch(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const c=yield l._get(o);if(c){const d=gs._fromJSON(e,c);l!==s&&(a=d),s=l;break}}catch(c){}const u=i.filter(l=>l._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var l=m(function*(c){if(c!==s)try{yield c._remove(o)}catch(d){}});return function(c){return l.apply(this,arguments)}}())),new ea(s,e,r)):new ea(s,e,r)})()}}function sR(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function uR(t=Sn()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function oR(t=Sn()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function cR(t=Sn()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function dR(t=Sn()){return/webos/i.test(t)}(e))return"Webos";if(function Jv(t=Sn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function aR(t=Sn()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function lR(t=Sn()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function hR(t,e=[]){let n;switch(t){case"Browser":n=sR(Sn());break;case"Worker":n=`${sR(Sn())}-${t}`;break;default:n=t}return`${n}/JsCore/9.8.1/${e.length?e.join(","):"FirebaseCore-web"}`}class J5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return m(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch(o){}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i.message})}})()}}class X5{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fR(this),this.idTokenSubscription=new fR(this),this.beforeStateQueue=new J5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QN,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=ei(n)),this._initializationPromise=this.queue(m(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield ea.create(r,e),!r._deleted)){if(null===(i=r._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch(o){}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return m(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return m(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=null==s?void 0:s._redirectEventId,l=yield n.tryRedirectSignIn(e);(!a||a===u)&&(null==l?void 0:l.user)&&(s=l.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return A(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return m(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch(i){yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return m(function*(){try{yield zu(e)}catch(r){if("auth/network-request-failed"!==r.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function P5(){if("undefined"==typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return m(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return m(function*(){const r=e?Hn(e):null;return r&&A(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return m(function*(){if(!r._deleted)return e&&A(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(m(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return m(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(m(function*(){yield n.assertedPersistence.setPersistence(ei(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Dr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return m(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return m(function*(){if(!n.redirectPersistenceManager){const r=e&&ei(e)||n._popupRedirectResolver;A(r,n,"argument-error"),n.redirectPersistenceManager=yield ea.create(n,[ei(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return m(function*(){var r,i;return n._isInitialized&&(yield n.queue(m(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return m(function*(){if(e===n.currentUser)return n.queue(m(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return A(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return m(function*(){n.currentUser&&n.currentUser!==e&&(n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh()),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return A(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return m(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}class fR{constructor(e){this.auth=e,this.observer=null,this.addObserver=function b4(t,e){const n=new D4(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return A(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function NR(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new qu(3e4,6e4),new qu(2e3,1e4),new qu(3e4,6e4),new qu(5e3,15e3);var GR="@firebase/auth";class jQ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return m(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){A(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function HQ(t){en(new Ht("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,u)=>{A(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),A(!(null==o?void 0:o.includes(":")),"argument-error",{appName:a.name});const l={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hR(t)},c=new X5(a,u,l);return function N5(t,e){const n=(null==e?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ei);(null==e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(c,n),c})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),en(new Ht("auth-internal",e=>{const n=function mn(t){return Hn(t)}(e.getProvider("auth").getImmediate());return new jQ(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$e(GR,"0.20.1",function $Q(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),$e(GR,"0.20.1","esm2017")}("Browser");class zR{constructor(){return Pv("auth")}}const KR=new Map,zQ={activated:!1,tokenObservers:[]},KQ={initialized:!1,enabled:!1};function yt(t){return KR.get(t)||zQ}function or(t,e){KR.set(t,e)}function Ih(){return KQ}class ZQ{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return m(function*(){n.stop();try{n.pending=new Ry,yield function eY(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Ry,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const tn=new Dr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function YR(t){if(!yt(t).activated)throw tn.create("use-before-activation",{appName:t.name})}function OE(t,e){return FE.apply(this,arguments)}function FE(){return(FE=m(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw tn.create("fetch-network-error",{originalErrorMessage:d.message})}if(200!==o.status)throw tn.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw tn.create("fetch-parse-error",{originalErrorMessage:d.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw tn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=1e3*Number(u[1]),c=Date.now();return{token:a.token,expireTimeMillis:c+l,issuedAtTimeMillis:c}})).apply(this,arguments)}function sY(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Zu="firebase-app-check-store";let Ch=null;function XR(){return Ch||(Ch=new Promise((t,e)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(tn.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Zu,{keyPath:"compositeKey"})}}catch(n){e(tn.create("storage-open",{originalErrorMessage:n.message}))}}),Ch)}function LE(){return(LE=m(function*(t,e){const r=(yield XR()).transaction(Zu,"readwrite"),s=r.objectStore(Zu).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var l;a(tn.create("storage-set",{originalErrorMessage:null===(l=u.target.error)||void 0===l?void 0:l.message}))}})})).apply(this,arguments)}const el=new zo("@firebase/app-check");function n1(t,e){return os()?function lY(t,e){return function ZR(t,e){return LE.apply(this,arguments)}(function t1(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{el.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function r1(){return Ih().enabled}function i1(){return jE.apply(this,arguments)}function jE(){return(jE=m(function*(){const t=Ih();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const gY={error:"UNKNOWN_ERROR"};function mY(t){return ky.encodeString(JSON.stringify(t),!1)}function Th(t){return $E.apply(this,arguments)}function $E(){return($E=m(function*(t,e=!1){const n=t.app;YR(n);const r=yt(n);let s,i=r.token;if(!i){const u=yield r.cachedTokenPromise;u&&Ah(u)&&(i=u)}if(!e&&i&&Ah(i))return{token:i.token};let a,o=!1;if(r1()){r.exchangeTokenPromise||(r.exchangeTokenPromise=OE(sY(n,yield i1()),t.heartbeatServiceProvider).then(l=>(r.exchangeTokenPromise=void 0,l)),o=!0);const u=yield r.exchangeTokenPromise;return yield n1(n,u),or(n,Object.assign(Object.assign({},r),{token:u})),{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(u=>(r.exchangeTokenPromise=void 0,u)),o=!0),i=yield r.exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?el.warn(u.message):el.error(u),s=u}return i?(a={token:i.token},or(n,Object.assign(Object.assign({},r),{token:i})),yield n1(n,i)):a=_Y(s),o&&o1(n,a),a})).apply(this,arguments)}function GE(t,e){const n=yt(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),or(t,Object.assign(Object.assign({},n),{tokenObservers:r}))}function s1(t){const{app:e}=t,n=yt(e);let r=n.tokenRefresher;r||(r=function yY(t){const{app:e}=t;return new ZQ(m(function*(){let r;if(r=yt(e).token?yield Th(t,!0):yield Th(t),r.error)throw r.error}),()=>!0,()=>{const n=yt(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(t),or(e,Object.assign(Object.assign({},n),{tokenRefresher:r}))),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function o1(t,e){const n=yt(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function Ah(t){return t.expireTimeMillis-Date.now()>0}function _Y(t){return{token:mY(gY),error:t}}class vY{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=yt(this.app);for(const n of e)GE(this.app,n.next);return Promise.resolve()}}const p1="app-check-internal";!function RY(){en(new Ht("app-check",t=>function wY(t,e){return new vY(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(p1).initialize()})),en(new Ht(p1,t=>function EY(t){return{getToken:e=>Th(t,e),addTokenListener:e=>function HE(t,e,n,r){const{app:i}=t,s=yt(i),o={next:n,error:r,type:e};if(or(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&Ah(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),s1(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>s1(t))}(t,"INTERNAL",e),removeTokenListener:e=>GE(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),$e("@firebase/app-check","0.5.8")}();class m1{constructor(){return Pv("app-check")}}"undefined"!=typeof window&&window;var N,VY="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ii={},QE=QE||{},H=VY||self;function xh(){}function YE(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function tl(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var JE="closure_uid_"+(1e9*Math.random()>>>0),BY=0;function jY(t,e,n){return t.call.apply(t.bind,arguments)}function $Y(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function xt(t,e,n){return(xt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?jY:$Y).apply(null,arguments)}function Mh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Mt(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Ti(){this.s=this.s,this.o=this.o}var GY={};Ti.prototype.s=!1,Ti.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function UY(t){return Object.prototype.hasOwnProperty.call(t,JE)&&t[JE]||(t[JE]=++BY)}(this);delete GY[t]}},Ti.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const y1=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},_1=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i="string"==typeof t?t.split(""):t;for(let s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function v1(t){return Array.prototype.concat.apply([],arguments)}function XE(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function kh(t){return/^[\s\xa0]*$/.test(t)}var rn,w1=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function nn(t,e){return-1!=t.indexOf(e)}function ZE(t,e){return t<e?-1:t>e?1:0}e:{var E1=H.navigator;if(E1){var I1=E1.userAgent;if(I1){rn=I1;break e}}rn=""}function eI(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function b1(t){const e={};for(const n in t)e[n]=t[n];return e}var D1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C1(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<D1.length;s++)n=D1[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function tI(t){return tI[" "](t),t}tI[" "]=xh;var Nh,t,zY=nn(rn,"Opera"),ta=nn(rn,"Trident")||nn(rn,"MSIE"),T1=nn(rn,"Edge"),nI=T1||ta,A1=nn(rn,"Gecko")&&!(nn(rn.toLowerCase(),"webkit")&&!nn(rn,"Edge"))&&!(nn(rn,"Trident")||nn(rn,"MSIE"))&&!nn(rn,"Edge"),KY=nn(rn.toLowerCase(),"webkit")&&!nn(rn,"Edge");function S1(){var t=H.document;return t?t.documentMode:void 0}e:{var rI="",iI=(t=rn,A1?/rv:([^\);]+)(\)|;)/.exec(t):T1?/Edge\/([\d\.]+)/.exec(t):ta?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):KY?/WebKit\/(\S+)/.exec(t):zY?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(iI&&(rI=iI?iI[1]:""),ta){var sI=S1();if(null!=sI&&sI>parseFloat(rI)){Nh=String(sI);break e}}Nh=rI}var QY={};var JY=H.document&&ta&&(S1()||parseInt(Nh,10))||void 0,XY=function(){if(!H.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{H.addEventListener("test",xh,e),H.removeEventListener("test",xh,e)}catch(n){}return t}();function Gt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function nl(t,e){if(Gt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(A1){e:{try{tI(e.nodeName);var i=!0;break e}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:ZY[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&nl.Z.h.call(this)}}Gt.prototype.h=function(){this.defaultPrevented=!0},Mt(nl,Gt);var ZY={2:"touch",3:"pen",4:"mouse"};nl.prototype.h=function(){nl.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var rl="closure_listenable_"+(1e6*Math.random()|0),eJ=0;function tJ(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++eJ,this.ca=this.fa=!1}function Rh(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Ph(t){this.src=t,this.g={},this.h=0}function aI(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=y1(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Rh(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function uI(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}Ph.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=uI(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new tJ(e,this.src,s,!!r,i)).fa=n,t.push(e)),e};var lI="closure_lm_"+(1e6*Math.random()|0),cI={};function M1(t,e,n,r,i){if(r&&r.once)return N1(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)M1(t,e[s],n,r,i);return null}return n=pI(n),t&&t[rl]?t.N(e,n,tl(r)?!!r.capture:!!r,i):k1(t,e,n,!1,r,i)}function k1(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=tl(i)?!!i.capture:!!i,a=hI(t);if(a||(t[lI]=a=new Ph(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function nJ(){var e=rJ;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)XY||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(P1(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function N1(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)N1(t,e[s],n,r,i);return null}return n=pI(n),t&&t[rl]?t.O(e,n,tl(r)?!!r.capture:!!r,i):k1(t,e,n,!0,r,i)}function R1(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)R1(t,e[s],n,r,i);else r=tl(r)?!!r.capture:!!r,n=pI(n),t&&t[rl]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=uI(s=t.g[e],n,r,i))&&(Rh(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=hI(t))&&(e=t.g[e.toString()],t=-1,e&&(t=uI(e,n,r,i)),(n=-1<t?e[t]:null)&&dI(n))}function dI(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[rl])aI(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(P1(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=hI(e))?(aI(n,t),0==n.h&&(n.src=null,e[lI]=null)):Rh(t)}}}function P1(t){return t in cI?cI[t]:cI[t]="on"+t}function rJ(t,e){if(t.ca)t=!0;else{e=new nl(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&dI(t),t=n.call(r,e)}return t}function hI(t){return(t=t[lI])instanceof Ph?t:null}var fI="__closure_events_fn_"+(1e9*Math.random()>>>0);function pI(t){return"function"==typeof t?t:(t[fI]||(t[fI]=function(e){return t.handleEvent(e)}),t[fI])}function _t(){Ti.call(this),this.i=new Ph(this),this.P=this,this.I=null}function kt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new Gt(e,t);else if(e instanceof Gt)e.target=e.target||t;else{var i=e;C1(e=new Gt(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Oh(o,r,!0,e)&&i}if(i=Oh(o=e.g=t,r,!0,e)&&i,i=Oh(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Oh(o=e.g=n[s],r,!1,e)&&i}function Oh(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,u=o.ia||o.src;o.fa&&aI(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Mt(_t,Ti),_t.prototype[rl]=!0,_t.prototype.removeEventListener=function(t,e,n,r){R1(this,t,e,n,r)},_t.prototype.M=function(){if(_t.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Rh(n[r]);delete t.g[e],t.h--}}this.I=null},_t.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},_t.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var gI=H.JSON.stringify;function iJ(){var t=F1;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var yI,O1=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new oJ,t=>t.reset());class oJ{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function aJ(t){H.setTimeout(()=>{throw t},0)}function mI(t,e){yI||function uJ(){var t=H.Promise.resolve(void 0);yI=function(){t.then(lJ)}}(),_I||(yI(),_I=!0),F1.add(t,e)}var _I=!1,F1=new class sJ{constructor(){this.h=this.g=null}add(e,n){const r=O1.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}};function lJ(){for(var t;t=iJ();){try{t.h.call(t.g)}catch(n){aJ(n)}var e=O1;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}_I=!1}function Fh(t,e){_t.call(this),this.h=t||1,this.g=e||H,this.j=xt(this.kb,this),this.l=Date.now()}function vI(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function wI(t,e,n){if("function"==typeof t)n&&(t=xt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=xt(t.handleEvent,t)}return 2147483647<Number(e)?-1:H.setTimeout(t,e||0)}function L1(t){t.g=wI(()=>{t.g=null,t.i&&(t.i=!1,L1(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Mt(Fh,_t),(N=Fh.prototype).da=!1,N.S=null,N.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),kt(this,"tick"),this.da&&(vI(this),this.start()))}},N.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},N.M=function(){Fh.Z.M.call(this),vI(this),delete this.g};class cJ extends Ti{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:L1(this)}M(){super.M(),this.g&&(H.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function il(t){Ti.call(this),this.h=t,this.g={}}Mt(il,Ti);var V1=[];function U1(t,e,n,r){Array.isArray(n)||(n&&(V1[0]=n.toString()),n=V1);for(var i=0;i<n.length;i++){var s=M1(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function B1(t){eI(t.g,function(e,n){this.g.hasOwnProperty(n)&&dI(e)},t),t.g={}}function Lh(){this.g=!0}function na(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function pJ(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return gI(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}il.prototype.M=function(){il.Z.M.call(this),B1(this)},il.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Lh.prototype.Aa=function(){this.g=!1},Lh.prototype.info=function(){};var vs={},j1=null;function Vh(){return j1=j1||new _t}function $1(t){Gt.call(this,vs.Ma,t)}function sl(t){const e=Vh();kt(e,new $1(e,t))}function H1(t,e){Gt.call(this,vs.STAT_EVENT,t),this.stat=e}function sn(t){const e=Vh();kt(e,new H1(e,t))}function G1(t,e){Gt.call(this,vs.Na,t),this.size=e}function ol(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return H.setTimeout(function(){t()},e)}vs.Ma="serverreachability",Mt($1,Gt),vs.STAT_EVENT="statevent",Mt(H1,Gt),vs.Na="timingevent",Mt(G1,Gt);var Uh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},q1={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function EI(){}function z1(){}EI.prototype.h=null;var DI,al={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function II(){Gt.call(this,"d")}function bI(){Gt.call(this,"c")}function Bh(){}function ul(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new il(this),this.P=gJ,this.W=new Fh(t=nI?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new K1}function K1(){this.i=null,this.g="",this.h=!1}Mt(II,Gt),Mt(bI,Gt),Mt(Bh,EI),Bh.prototype.g=function(){return new XMLHttpRequest},Bh.prototype.i=function(){return{}},DI=new Bh;var gJ=45e3,CI={},jh={};function TI(t,e,n){t.K=1,t.v=Wh(si(e)),t.s=n,t.U=!0,Q1(t,null)}function Q1(t,e){t.F=Date.now(),ll(t),t.A=si(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),iP(n.h,"t",r),t.C=0,n=t.l.H,t.h=new K1,t.g=AP(t.l,n?e:null,!t.s),0<t.O&&(t.L=new cJ(xt(t.Ia,t,t.g),t.O)),U1(t.V,t.g,"readystatechange",t.gb),e=t.H?b1(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),sl(1),function dJ(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var d=c.split("_");o=2<=d.length&&"type"==d[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.X,t.s)}function Y1(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function J1(t,e,n){let i,r=!0;for(;!t.I&&t.C<n.length;){if(i=mJ(t,n),i==jh){4==e&&(t.o=4,sn(14),r=!1),na(t.j,t.m,null,"[Incomplete Response]");break}if(i==CI){t.o=4,sn(15),na(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}na(t.j,t.m,i,null),AI(t,i)}Y1(t)&&i!=jh&&i!=CI&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,sn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),VI(e),e.L=!0,sn(11))):(na(t.j,t.m,n,"[Invalid Chunked Response]"),ws(t),cl(t))}function mJ(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?jh:(n=Number(e.substring(n,r)),isNaN(n)?CI:(r+=1)+n>e.length?jh:(e=e.substr(r,n),t.C=r+n,e))}function ll(t){t.Y=Date.now()+t.P,X1(t,t.P)}function X1(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=ol(xt(t.eb,t),e)}function $h(t){t.B&&(H.clearTimeout(t.B),t.B=null)}function cl(t){0==t.l.G||t.I||bP(t.l,t)}function ws(t){$h(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,vI(t.W),B1(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function AI(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||MI(n.i,t)))if(n.I=t.N,!t.J&&MI(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(l){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(n.u)n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=ol(xt(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<t.F))break e;Xh(n),Yh(n)}LI(n),sn(18)}if(1>=aP(n.i)&&n.ka){try{n.ka()}catch(l){}n.ka=void 0}}else bs(n,11)}else if((t.J||n.g==t)&&Xh(n),!kh(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.U=l[0],l=l[1],2==n.G)if("c"==l[0]){n.J=l[1],n.la=l[2];const c=l[3];null!=c&&(n.ma=c,n.h.info("VER="+n.ma));const d=l[4];null!=d&&(n.za=d,n.h.info("SVER="+n.za));const h=l[5];null!=h&&"number"==typeof h&&0<h&&(n.K=r=1.5*h,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;!s.g&&(nn(p,"spdy")||nn(p,"quic")||nn(p,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(kI(s,s.h),s.h=null))}if(r.D){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.sa=g,ke(r.F,r.D,g))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=t;if((r=n).oa=TP(r,r.H?r.la:null,r.W),o.J){uP(r.i,o);var a=o,u=r.K;u&&a.setTimeout(u),a.B&&($h(a),ll(a)),r.g=o}else EP(r);0<n.l.length&&Jh(n)}else"stop"!=l[0]&&"close"!=l[0]||bs(n,7);else 3==n.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?bs(n,7):OI(n):"noop"!=l[0]&&n.j&&n.j.wa(l),n.A=0)}sl(4)}catch(l){}}function SI(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(YE(t)||"string"==typeof t)_1(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(YE(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=function yJ(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(YE(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function ra(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ra)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function xI(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Es(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)Es(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function Es(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(N=ul.prototype).setTimeout=function(t){this.P=t},N.gb=function(t){t=t.target;const e=this.L;e&&3==oi(t)?e.l():this.Ia(t)},N.Ia=function(t){try{if(t==this.g)e:{const c=oi(this.g);var e=this.g.Da();const d=this.g.ba();if(!(3>c)&&(3!=c||nI||this.g&&(this.h.h||this.g.ga()||mP(this.g)))){this.I||4!=c||7==e||sl(8==e||0>=d?3:2),$h(this);var n=this.g.ba();this.N=n;t:if(Y1(this)){var r=mP(this.g);t="";var i=r.length,s=4==oi(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ws(this),cl(this);var o="";break t}this.h.i=new H.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function hJ(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,c,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!kh(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,sn(12),ws(this),cl(this);break e}na(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,AI(this,n)}this.U?(J1(this,c,o),nI&&this.i&&3==c&&(U1(this.V,this.W,"tick",this.fb),this.W.start())):(na(this.j,this.m,o,null),AI(this,o)),4==c&&ws(this),this.i&&!this.I&&(4==c?bP(this.l,this):(this.i=!1,ll(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,sn(12)):(this.o=0,sn(13)),ws(this),cl(this)}}}catch(c){}},N.fb=function(){if(this.g){var t=oi(this.g),e=this.g.ga();this.C<e.length&&($h(this),J1(this,t,e),this.i&&4!=t&&ll(this))}},N.cancel=function(){this.I=!0,ws(this)},N.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function fJ(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(sl(3),sn(17)),ws(this),this.o=2,cl(this)):X1(this,this.Y-t)},(N=ra.prototype).R=function(){xI(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},N.T=function(){return xI(this),this.g.concat()},N.get=function(t,e){return Es(this.h,t)?this.h[t]:e},N.set=function(t,e){Es(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},N.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var Z1=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Is(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Is){this.g=void 0!==e?e:t.g,Hh(this,t.j),this.s=t.s,Gh(this,t.i),qh(this,t.m),this.l=t.l,e=t.h;var n=new fl;n.i=e.i,e.g&&(n.g=new ra(e.g),n.h=e.h),eP(this,n),this.o=t.o}else t&&(n=String(t).match(Z1))?(this.g=!!e,Hh(this,n[1]||"",!0),this.s=dl(n[2]||""),Gh(this,n[3]||"",!0),qh(this,n[4]),this.l=dl(n[5]||"",!0),eP(this,n[6]||"",!0),this.o=dl(n[7]||"")):(this.g=!!e,this.h=new fl(null,this.g))}function si(t){return new Is(t)}function Hh(t,e,n){t.j=n?dl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Gh(t,e,n){t.i=n?dl(e,!0):e}function qh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function eP(t,e,n){e instanceof fl?(t.h=e,function TJ(t,e){e&&!t.j&&(Ai(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(nP(this,r),iP(this,i,n))},t)),t.j=e}(t.h,t.g)):(n||(e=hl(e,DJ)),t.h=new fl(e,t.g))}function ke(t,e,n){t.h.set(e,n)}function Wh(t){return ke(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function dl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function hl(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,EJ),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function EJ(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Is.prototype.toString=function(){var t=[],e=this.j;e&&t.push(hl(e,tP,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(hl(e,tP,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(hl(n,"/"==n.charAt(0)?bJ:IJ,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",hl(n,CJ)),t.join("")};var tP=/[#\/\?@]/g,IJ=/[#\?:]/g,bJ=/[#\?]/g,DJ=/[#\?@]/g,CJ=/#/g;function fl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ai(t){t.g||(t.g=new ra,t.h=0,t.i&&function _J(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function nP(t,e){Ai(t),e=ia(t,e),Es(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Es((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&xI(t)))}function rP(t,e){return Ai(t),e=ia(t,e),Es(t.g.h,e)}function iP(t,e,n){nP(t,e),0<n.length&&(t.i=null,t.g.set(ia(t,e),XE(n)),t.h+=n.length)}function ia(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function sP(t){this.l=t||SJ,t=H.PerformanceNavigationTiming?0<(t=H.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(H.g&&H.g.Ea&&H.g.Ea()&&H.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(N=fl.prototype).add=function(t,e){Ai(this),this.i=null,t=ia(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},N.forEach=function(t,e){Ai(this),this.g.forEach(function(n,r){_1(n,function(i){t.call(e,i,r,this)},this)},this)},N.T=function(){Ai(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},N.R=function(t){Ai(this);var e=[];if("string"==typeof t)rP(this,t)&&(e=v1(e,this.g.get(ia(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=v1(e,t[n])}return e},N.set=function(t,e){return Ai(this),this.i=null,rP(this,t=ia(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},N.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},N.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};var SJ=10;function oP(t){return!!t.h||!!t.g&&t.g.size>=t.j}function aP(t){return t.h?1:t.g?t.g.size:0}function MI(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function kI(t,e){t.g?t.g.add(e):t.h=e}function uP(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function lP(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return XE(t.i)}function NI(){}function xJ(){this.g=new NI}function MJ(t,e,n){const r=n||"";try{SI(t,function(i,s){let o=i;tl(i)&&(o=gI(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function zh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function pl(t){this.l=t.$b||null,this.j=t.ib||!1}function Kh(t,e){_t.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=RI,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}sP.prototype.cancel=function(){if(this.i=lP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},NI.prototype.stringify=function(t){return H.JSON.stringify(t,void 0)},NI.prototype.parse=function(t){return H.JSON.parse(t,void 0)},Mt(pl,EI),pl.prototype.g=function(){return new Kh(this.l,this.j)},pl.prototype.i=function(t){return function(){return t}}({}),Mt(Kh,_t);var RI=0;function cP(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function gl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ml(t)}function ml(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(N=Kh.prototype).open=function(t,e){if(this.readyState!=RI)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ml(this)},N.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||H).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},N.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,gl(this)),this.readyState=RI},N.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ml(this)),this.g&&(this.readyState=3,ml(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==H.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;cP(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},N.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?gl(this):ml(this),3==this.readyState&&cP(this)}},N.Ua=function(t){this.g&&(this.response=this.responseText=t,gl(this))},N.Ta=function(t){this.g&&(this.response=t,gl(this))},N.ha=function(){this.g&&gl(this)},N.setRequestHeader=function(t,e){this.v.append(t,e)},N.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},N.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Kh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var NJ=H.JSON.parse;function Je(t){_t.call(this),this.headers=new ra,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=dP,this.K=this.L=!1}Mt(Je,_t);var dP="",RJ=/^https?$/i,PJ=["POST","PUT"];function FJ(t){return"content-type"==t.toLowerCase()}function hP(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,fP(t),Qh(t)}function fP(t){t.D||(t.D=!0,kt(t,"complete"),kt(t,"error"))}function pP(t){if(t.h&&void 0!==QE&&(!t.C[1]||4!=oi(t)||2!=t.ba()))if(t.v&&4==oi(t))wI(t.Fa,0,t);else if(kt(t,"readystatechange"),4==oi(t)){t.h=!1;try{const a=t.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.H).match(Z1)[1]||null;if(!i&&H.self&&H.self.location){var s=H.self.location.protocol;i=s.substr(0,s.length-1)}r=!RJ.test(i?i.toLowerCase():"")}n=r}if(n)kt(t,"complete"),kt(t,"success");else{t.m=6;try{var o=2<oi(t)?t.g.statusText:""}catch(u){o=""}t.j=o+" ["+t.ba()+"]",fP(t)}}finally{Qh(t)}}}function Qh(t,e){if(t.g){gP(t);const n=t.g,r=t.C[0]?xh:null;t.g=null,t.C=null,e||kt(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function gP(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(H.clearTimeout(t.A),t.A=null)}function oi(t){return t.g?t.g.readyState:0}function mP(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case dP:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function PI(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function LJ(t){let e="";return eI(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):ke(t,e,n))}function yl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function yP(t){this.za=0,this.l=[],this.h=new Lh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=yl("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=yl("baseRetryDelayMs",5e3,t),this.$a=yl("retryDelaySeedMs",1e4,t),this.Ya=yl("forwardChannelMaxRetries",2,t),this.ra=yl("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new sP(t&&t.concurrentRequestLimit),this.Ca=new xJ,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function OI(t){if(_P(t),3==t.G){var e=t.V++,n=si(t.F);ke(n,"SID",t.J),ke(n,"RID",e),ke(n,"TYPE","terminate"),_l(t,n),(e=new ul(t,t.h,e,void 0)).K=2,e.v=Wh(si(n)),n=!1,H.navigator&&H.navigator.sendBeacon&&(n=H.navigator.sendBeacon(e.v.toString(),"")),!n&&H.Image&&((new Image).src=e.v,n=!0),n||(e.g=AP(e.l,null),e.g.ea(e.v)),e.F=Date.now(),ll(e)}CP(t)}function Yh(t){t.g&&(VI(t),t.g.cancel(),t.g=null)}function _P(t){Yh(t),t.u&&(H.clearTimeout(t.u),t.u=null),Xh(t),t.i.cancel(),t.m&&("number"==typeof t.m&&H.clearTimeout(t.m),t.m=null)}function FI(t,e){t.l.push(new class{constructor(t,e){this.h=t,this.g=e}}(t.Za++,e)),3==t.G&&Jh(t)}function Jh(t){oP(t.i)||t.m||(t.m=!0,mI(t.Ha,t),t.C=0)}function vP(t,e){var n;n=e?e.m:t.V++;const r=si(t.F);ke(r,"SID",t.J),ke(r,"RID",n),ke(r,"AID",t.U),_l(t,r),t.o&&t.s&&PI(r,t.o,t.s),n=new ul(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=wP(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),kI(t.i,n),TI(n,r,e)}function _l(t,e){t.j&&SI({},function(n,r){ke(e,r,n)})}function wP(t,e,n){n=Math.min(t.l.length,n);var r=t.j?xt(t.j.Oa,t.j,t):null;e:{var i=t.l;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let l=i[u].h;const c=i[u].g;if(l-=s,0>l)s=Math.max(0,i[u].h-100),a=!1;else try{MJ(c,o,"req"+l+"_")}catch(d){r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,r}function EP(t){t.g||t.u||(t.Y=1,mI(t.Ga,t),t.A=0)}function LI(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=ol(xt(t.Ga,t),DP(t,t.A)),t.A++,0))}function VI(t){null!=t.B&&(H.clearTimeout(t.B),t.B=null)}function IP(t){t.g=new ul(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=si(t.oa);ke(e,"RID","rpc"),ke(e,"SID",t.J),ke(e,"CI",t.N?"0":"1"),ke(e,"AID",t.U),_l(t,e),ke(e,"TYPE","xmlhttp"),t.o&&t.s&&PI(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Wh(si(e)),n.s=null,n.U=!0,Q1(n,t)}function Xh(t){null!=t.v&&(H.clearTimeout(t.v),t.v=null)}function bP(t,e){var n=null;if(t.g==e){Xh(t),VI(t),t.g=null;var r=2}else{if(!MI(t.i,e))return;n=e.D,uP(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;kt(r=Vh(),new G1(r,n,e,i)),Jh(t)}else EP(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function VJ(t,e){return!(aP(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=ol(xt(t.Ha,t,e),DP(t,t.C)),t.C++,0)))}(t,e)||2==r&&LI(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:bs(t,5);break;case 4:bs(t,10);break;case 3:bs(t,6);break;default:bs(t,2)}}function DP(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function bs(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=xt(t.jb,t);n||(n=new Is("//www.google.com/images/cleardot.gif"),H.location&&"http"==H.location.protocol||Hh(n,"https"),Wh(n)),function kJ(t,e){const n=new Lh;if(H.Image){const r=new Image;r.onload=Mh(zh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Mh(zh,n,r,"TestLoadImage: error",!1,e),r.onabort=Mh(zh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Mh(zh,n,r,"TestLoadImage: timeout",!1,e),H.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else sn(2);t.G=0,t.j&&t.j.va(e),CP(t),_P(t)}function CP(t){t.G=0,t.I=-1,t.j&&((0!=lP(t.i).length||0!=t.l.length)&&(t.i.i.length=0,XE(t.l),t.l.length=0),t.j.ua())}function TP(t,e,n){let r=function vJ(t){return t instanceof Is?si(t):new Is(t,void 0)}(n);if(""!=r.i)e&&Gh(r,e+"."+r.i),qh(r,r.m);else{const i=H.location;r=function wJ(t,e,n,r){var i=new Is(null,void 0);return t&&Hh(i,t),e&&Gh(i,e),n&&qh(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&eI(t.aa,function(i,s){ke(r,s,i)}),n=t.sa,(e=t.D)&&n&&ke(r,e,n),ke(r,"VER",t.ma),_l(t,r),r}function AP(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Je(n&&t.Ba&&!t.qa?new pl({ib:!0}):t.qa)).L=t.H,e}function SP(){}function Zh(){if(ta&&!(10<=Number(JY)))throw Error("Environmental error: no available transport.")}function Mn(t,e){_t.call(this),this.g=new yP(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!kh(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!kh(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new sa(this)}function xP(t){II.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function MP(){bI.call(this),this.status=1}function sa(t){this.g=t}(N=Je.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():DI.g(),this.C=function W1(t){return t.h||(t.h=t.i())}(this.u?this.u:DI),this.g.onreadystatechange=xt(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void hP(this,s)}t=n||"";const i=new ra(this.headers);r&&SI(r,function(s,o){i.set(o,s)}),r=function qY(t){e:{var e=FJ;const n=t.length,r="string"==typeof t?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=H.FormData&&t instanceof H.FormData,!(0<=y1(PJ,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{gP(this),0<this.B&&((this.K=function OJ(t){return ta&&function YY(){return function WY(t){var e=QY;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}(function(){let t=0;const e=w1(String(Nh)).split("."),n=w1("9").split("."),r=Math.max(e.length,n.length);for(let o=0;0==t&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;t=ZE(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||ZE(0==i[2].length,0==s[2].length)||ZE(i[2],s[2]),i=i[3],s=s[3]}while(0==t)}return 0<=t})}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=xt(this.pa,this)):this.A=wI(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){hP(this,s)}},N.pa=function(){void 0!==QE&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,kt(this,"timeout"),this.abort(8))},N.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,kt(this,"complete"),kt(this,"abort"),Qh(this))},N.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Qh(this,!0)),Je.Z.M.call(this)},N.Fa=function(){this.s||(this.F||this.v||this.l?pP(this):this.cb())},N.cb=function(){pP(this)},N.ba=function(){try{return 2<oi(this)?this.g.status:-1}catch(t){return-1}},N.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},N.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),NJ(e)}},N.Da=function(){return this.m},N.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(N=yP.prototype).ma=8,N.G=1,N.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},N.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new ul(this,this.h,t,void 0);let s=this.s;if(this.P&&(s?(s=b1(s),C1(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=wP(this,i,e),ke(n=si(this.F),"RID",t),ke(n,"CVER",22),this.D&&ke(n,"X-HTTP-Session-Id",this.D),_l(this,n),this.o&&s&&PI(n,this.o,s),kI(this.i,i),this.Ra&&ke(n,"TYPE","init"),this.ja?(ke(n,"$req",e),ke(n,"SID","null"),i.$=!0,TI(i,n,null)):TI(i,n,e),this.G=2}}else 3==this.G&&(t?vP(this,t):0==this.l.length||oP(this.i)||vP(this))},N.Ga=function(){if(this.u=null,IP(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=ol(xt(this.bb,this),t)}},N.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,sn(10),Yh(this),IP(this))},N.ab=function(){null!=this.v&&(this.v=null,Yh(this),LI(this),sn(19))},N.jb=function(t){t?(this.h.info("Successfully pinged google.com"),sn(2)):(this.h.info("Failed to ping google.com"),sn(1))},(N=SP.prototype).xa=function(){},N.wa=function(){},N.va=function(){},N.ua=function(){},N.Oa=function(){},Zh.prototype.g=function(t,e){return new Mn(t,e)},Mt(Mn,_t),Mn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),mI(xt(t.hb,t,e))),sn(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=TP(t,null,t.W),Jh(t)},Mn.prototype.close=function(){OI(this.g)},Mn.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,FI(this.g,e)}else this.v?((e={}).__data__=gI(t),FI(this.g,e)):FI(this.g,t)},Mn.prototype.M=function(){this.g.j=null,delete this.j,OI(this.g),delete this.g,Mn.Z.M.call(this)},Mt(xP,II),Mt(MP,bI),Mt(sa,SP),sa.prototype.xa=function(){kt(this.g,"a")},sa.prototype.wa=function(t){kt(this.g,new xP(t))},sa.prototype.va=function(t){kt(this.g,new MP(t))},sa.prototype.ua=function(){kt(this.g,"b")},Zh.prototype.createWebChannel=Zh.prototype.g,Mn.prototype.send=Mn.prototype.u,Mn.prototype.open=Mn.prototype.m,Mn.prototype.close=Mn.prototype.close,Uh.NO_ERROR=0,Uh.TIMEOUT=8,Uh.HTTP_ERROR=6,q1.COMPLETE="complete",z1.EventType=al,al.OPEN="a",al.CLOSE="b",al.ERROR="c",al.MESSAGE="d",_t.prototype.listen=_t.prototype.N,Je.prototype.listenOnce=Je.prototype.O,Je.prototype.getLastError=Je.prototype.La,Je.prototype.getLastErrorCode=Je.prototype.Da,Je.prototype.getStatus=Je.prototype.ba,Je.prototype.getResponseJson=Je.prototype.Qa,Je.prototype.getResponseText=Je.prototype.ga,Je.prototype.send=Je.prototype.ea;var UJ=ii.createWebChannelTransport=function(){return new Zh},BJ=ii.getStatEventTarget=function(){return Vh()},UI=ii.ErrorCode=Uh,jJ=ii.EventType=q1,$J=ii.Event=vs,kP=ii.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},HJ=ii.FetchXmlHttpFactory=pl,ef=ii.WebChannel=z1,GJ=ii.XhrIo=Je;const NP="@firebase/firestore";class Nt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nt.UNAUTHENTICATED=new Nt(null),Nt.GOOGLE_CREDENTIALS=new Nt("google-credentials-uid"),Nt.FIRST_PARTY=new Nt("first-party-uid"),Nt.MOCK_USER=new Nt("mock-user");let oa="9.8.0";const Si=new zo("@firebase/firestore");function BI(){return Si.logLevel}function C(t,...e){if(Si.logLevel<=ce.DEBUG){const n=e.map(jI);Si.debug(`Firestore (${oa}): ${t}`,...n)}}function Xe(t,...e){if(Si.logLevel<=ce.ERROR){const n=e.map(jI);Si.error(`Firestore (${oa}): ${t}`,...n)}}function tf(t,...e){if(Si.logLevel<=ce.WARN){const n=e.map(jI);Si.warn(`Firestore (${oa}): ${t}`,...n)}}function jI(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(n){return t}}function R(t="Unexpected state"){const e=`FIRESTORE (${oa}) INTERNAL ASSERTION FAILED: `+t;throw Xe(e),new Error(e)}function j(t,e){t||R()}function x(t,e){return t}const v={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class D extends Qr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class vt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class RP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qJ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Nt.UNAUTHENTICATED))}shutdown(){}}class zJ{constructor(e){this.t=e,this.currentUser=Nt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let o=new vt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new vt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(m(function*(){yield l.promise,yield s(r.currentUser)}))},u=l=>{C("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>u(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?u(l):(C("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new vt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(C("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(j("string"==typeof r.accessToken),new RP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return j(null===e||"string"==typeof e),new Nt(e)}}class KJ{constructor(e,n,r){this.type="FirstParty",this.user=Nt.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class QJ{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new KJ(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Nt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class PP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YJ{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,n){const r=s=>{null!=s.error&&C("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.p;return this.p=s.token,C("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{C("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?i(s):C("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(j("string"==typeof n.token),this.p=n.token,new PP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class kn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.I(r),this.T=r=>n.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function JJ(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}kn.A=-1;class OP{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=JJ(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function K(t,e){return t<e?-1:t>e?1:0}function aa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Ze{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new D(v.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new D(v.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new D(v.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new D(v.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ze.fromMillis(Date.now())}static fromDate(e){return Ze.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ze(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?K(this.nanoseconds,e.nanoseconds):K(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class V{constructor(e){this.timestamp=e}static fromTimestamp(e){return new V(e)}static min(){return new V(new Ze(0,0))}static max(){return new V(new Ze(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function LP(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ds(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function VP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class vl{constructor(e,n,r){void 0===n?n=0:n>e.length&&R(),void 0===r?r=e.length-n:r>e.length-n&&R(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===vl.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof vl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class de extends vl{construct(e,n,r){return new de(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new D(v.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new de(n)}static emptyPath(){return new de([])}}const XJ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wt extends vl{construct(e,n,r){return new wt(e,n,r)}static isValidIdentifier(e){return XJ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new wt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new D(v.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new D(v.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new D(v.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new D(v.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wt(n)}static emptyPath(){return new wt([])}}class ua{constructor(e){this.fields=e,e.sort(wt.comparator)}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return aa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class ut{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new ut(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new ut(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return K(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ut.EMPTY_BYTE_STRING=new ut("");const ZJ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xi(t){if(j(!!t),"string"==typeof t){let e=0;const n=ZJ.exec(t);if(j(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ue(t.seconds),nanos:Ue(t.nanos)}}function Ue(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Cs(t){return"string"==typeof t?ut.fromBase64String(t):ut.fromUint8Array(t)}function $I(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function UP(t){const e=t.mapValue.fields.__previous_value__;return $I(e)?UP(e):e}function wl(t){const e=xi(t.mapValue.fields.__local_write_time__.timestampValue);return new Ze(e.seconds,e.nanos)}class eX{constructor(e,n,r,i,s,o,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class Mi{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Mi("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Mi&&e.projectId===this.projectId&&e.database===this.database}}function El(t){return null==t}function Il(t){return 0===t&&1/t==-1/0}class S{constructor(e){this.path=e}static fromPath(e){return new S(de.fromString(e))}static fromName(e){return new S(de.fromString(e).popFirst(5))}static empty(){return new S(de.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===de.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return de.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new S(new de(e.slice()))}}const ki_mapValue={fields:{__type__:{stringValue:"__max__"}}};function Ts(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$I(t)?4:GP(t)?9007199254740991:10:R()}function Ar(t,e){if(t===e)return!0;const n=Ts(t);if(n!==Ts(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return wl(t).isEqual(wl(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=xi(r.timestampValue),o=xi(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Cs(t.bytesValue).isEqual(Cs(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Ue(r.geoPointValue.latitude)===Ue(i.geoPointValue.latitude)&&Ue(r.geoPointValue.longitude)===Ue(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ue(r.integerValue)===Ue(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Ue(r.doubleValue),o=Ue(i.doubleValue);return s===o?Il(s)===Il(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return aa(t.arrayValue.values||[],e.arrayValue.values||[],Ar);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(LP(s)!==LP(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Ar(s[a],o[a])))return!1;return!0}(t,e);default:return R()}var i}function bl(t,e){return void 0!==(t.values||[]).find(n=>Ar(n,e))}function Ni(t,e){if(t===e)return 0;const n=Ts(t),r=Ts(e);if(n!==r)return K(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return K(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Ue(i.integerValue||i.doubleValue),a=Ue(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return jP(t.timestampValue,e.timestampValue);case 4:return jP(wl(t),wl(e));case 5:return K(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Cs(i),a=Cs(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const l=K(o[u],a[u]);if(0!==l)return l}return K(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=K(Ue(i.latitude),Ue(s.latitude));return 0!==o?o:K(Ue(i.longitude),Ue(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const l=Ni(o[u],a[u]);if(l)return l}return K(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===ki_mapValue&&s===ki_mapValue)return 0;if(i===ki_mapValue)return 1;if(s===ki_mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},l=Object.keys(u);a.sort(),l.sort();for(let c=0;c<a.length&&c<l.length;++c){const d=K(a[c],l[c]);if(0!==d)return d;const h=Ni(o[a[c]],u[l[c]]);if(0!==h)return h}return K(a.length,l.length)}(t.mapValue,e.mapValue);default:throw R()}}function jP(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return K(t,e);const n=xi(t),r=xi(e),i=K(n.seconds,r.seconds);return 0!==i?i:K(n.nanos,r.nanos)}function la(t){return HI(t)}function HI(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=xi(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Cs(t.bytesValue).toBase64():"referenceValue"in t?S.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=HI(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${HI(r.fields[a])}`;return s+"}"}(t.mapValue):R();var e}function GI(t){return!!t&&"integerValue"in t}function Dl(t){return!!t&&"arrayValue"in t}function $P(t){return!!t&&"nullValue"in t}function HP(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function rf(t){return!!t&&"mapValue"in t}function Cl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ds(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Cl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Cl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function GP(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class qt{constructor(e){this.value=e}static empty(){return new qt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!rf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cl(n)}setAll(e){let n=wt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Cl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());rf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ar(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];rf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ds(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new qt(Cl(this.value))}}function zP(t){const e=[];return Ds(t.fields,(n,r)=>{const i=new wt([n]);if(rf(r)){const s=zP(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new ua(e)}class Te{constructor(e,n,r,i,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Te(e,0,V.min(),V.min(),qt.empty(),0)}static newFoundDocument(e,n,r){return new Te(e,1,n,V.min(),r,0)}static newNoDocument(e,n){return new Te(e,2,n,V.min(),qt.empty(),0)}static newUnknownDocument(e,n){return new Te(e,3,n,V.min(),qt.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Te&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Te(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}function rX(t){return new ar(t.readTime,t.key,-1)}class ar{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ar(V.min(),S.empty(),-1)}static max(){return new ar(V.max(),S.empty(),-1)}}function QP(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=S.comparator(t.documentKey,e.documentKey),0!==n?n:K(t.largestBatchId,e.largestBatchId))}class He{constructor(e,n){this.comparator=e,this.root=n||Rt.EMPTY}insert(e,n){return new He(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Rt.BLACK,null,null))}remove(e){return new He(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new af(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new af(this.root,e,this.comparator,!1)}getReverseIterator(){return new af(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new af(this.root,e,this.comparator,!0)}}class af{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:Rt.RED,this.left=null!=i?i:Rt.EMPTY,this.right=null!=s?s:Rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Rt(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Rt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw R();const e=this.left.check();if(e!==this.right.check())throw R();return e+(this.isRed()?0:1)}}Rt.EMPTY=null,Rt.RED=!0,Rt.BLACK=!1,Rt.EMPTY=new class{constructor(){this.size=0}get key(){throw R()}get value(){throw R()}get color(){throw R()}get left(){throw R()}get right(){throw R()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Rt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ce{constructor(e){this.comparator=e,this.data=new He(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new YP(this.data.getIterator())}getIteratorFrom(e){return new YP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ce)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ce(this.comparator);return n.data=e,n}}class YP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class iX{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.P=null}}function JP(t,e=null,n=[],r=[],i=null,s=null,o=null){return new iX(t,e,n,r,i,s,o)}function xs(t){const e=x(t);if(null===e.P){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+la(i.value);var i}).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),El(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>la(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>la(r)).join(",")),e.P=n}return e.P}function Al(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!fX(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if((n=t.filters[i]).op!==(r=e.filters[i]).op||!n.field.isEqual(r.field)||!Ar(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!nO(t.startAt,e.startAt)&&nO(t.endAt,e.endAt)}function uf(t){return S.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Pt extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.V(e,n,r):new oX(e,n,r):"array-contains"===n?new lX(e,r):"in"===n?new cX(e,r):"not-in"===n?new dX(e,r):"array-contains-any"===n?new hX(e,r):new Pt(e,n,r)}static V(e,n,r){return"in"===n?new aX(e,r):new uX(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.v(Ni(n,this.value)):null!==n&&Ts(this.value)===Ts(n)&&this.v(Ni(n,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return R()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class oX extends Pt{constructor(e,n,r){super(e,n,r),this.key=S.fromName(r.referenceValue)}matches(e){const n=S.comparator(e.key,this.key);return this.v(n)}}class aX extends Pt{constructor(e,n){super(e,"in",n),this.keys=eO(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class uX extends Pt{constructor(e,n){super(e,"not-in",n),this.keys=eO(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function eO(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>S.fromName(r.referenceValue))}class lX extends Pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Dl(n)&&bl(n.arrayValue,this.value)}}class cX extends Pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&bl(this.value.arrayValue,n)}}class dX extends Pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(bl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!bl(this.value.arrayValue,n)}}class hX extends Pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Dl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>bl(this.value.arrayValue,r))}}class Ri{constructor(e,n){this.position=e,this.inclusive=n}}class da{constructor(e,n="asc"){this.field=e,this.dir=n}}function fX(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function tO(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?S.comparator(S.fromName(o.referenceValue),n.key):Ni(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function nO(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ar(t.position[n],e.position[n]))return!1;return!0}class ai{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.D=null,this.C=null}}function ha(t){return new ai(t)}function fa(t){const e=x(t);if(null===e.D){e.D=[];const n=function zI(t){for(const e of t.filters)if(e.S())return e.field;return null}(e),r=function WI(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.D.push(new da(n)),e.D.push(new da(wt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.D.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new da(wt.keyField(),s))}}}return e.D}function qn(t){const e=x(t);if(!e.C)if("F"===e.limitType)e.C=JP(e.path,e.collectionGroup,fa(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of fa(e))n.push(new da(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Ri(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Ri(e.startAt.position,e.startAt.inclusive):null;e.C=JP(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.C}function Sl(t,e){return Al(qn(t),qn(e))&&t.limitType===e.limitType}function sO(t){return`${xs(qn(t))}|lt:${t.limitType}`}function QI(t){return`Query(target=${function sX(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${la(r.value)}`;var r}).join(", ")}]`),El(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>{return`${(r=n).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>la(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>la(n)).join(",")),`Target(${e})`}(qn(t))}; limitType=${t.limitType})`}function YI(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):S.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=tO(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,fa(n),r)||n.endAt&&!function(i,s,o){const a=tO(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,fa(n),r)));var n,r}function aO(t){return(e,n)=>{let r=!1;for(const i of fa(t)){const s=gX(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function gX(t,e,n){const r=t.field.isKeyField()?S.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?Ni(a,u):R()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return R()}}function uO(t,e){if(t.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Il(e)?"-0":e}}function lO(t){return{integerValue:""+t}}function cO(t,e){return function BP(t){return"number"==typeof t&&Number.isInteger(t)&&!Il(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?lO(e):uO(t,e)}class cf{constructor(){this._=void 0}}function mX(t,e,n){return t instanceof pa?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Ms?hO(t,e):t instanceof ks?fO(t,e):function(r,i){const s=dO(r,i),o=pO(s)+pO(r.k);return GI(s)&&GI(r.k)?lO(o):uO(r.M,o)}(t,e)}function yX(t,e,n){return t instanceof Ms?hO(t,e):t instanceof ks?fO(t,e):n}function dO(t,e){return t instanceof ga?GI(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class pa extends cf{}class Ms extends cf{constructor(e){super(),this.elements=e}}function hO(t,e){const n=gO(e);for(const r of t.elements)n.some(i=>Ar(i,r))||n.push(r);return{arrayValue:{values:n}}}class ks extends cf{constructor(e){super(),this.elements=e}}function fO(t,e){let n=gO(e);for(const r of t.elements)n=n.filter(i=>!Ar(i,r));return{arrayValue:{values:n}}}class ga extends cf{constructor(e,n){super(),this.M=e,this.k=n}}function pO(t){return Ue(t.integerValue||t.doubleValue)}function gO(t){return Dl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class vX{constructor(e,n){this.version=e,this.transformResults=n}}class et{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new et}static exists(e){return new et(void 0,e)}static updateTime(e){return new et(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function df(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class hf{}function wX(t,e,n){t instanceof Ml?function(r,i,s){const o=r.value.clone(),a=vO(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Ns?function(r,i,s){if(!df(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=vO(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(_O(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function JI(t,e,n){var i;t instanceof Ml?function(r,i,s){if(!df(r.precondition,i))return;const o=r.value.clone(),a=wO(r.fieldTransforms,s,i);o.setAll(a),i.convertToFoundDocument(yO(i),o).setHasLocalMutations()}(t,e,n):t instanceof Ns?function(r,i,s){if(!df(r.precondition,i))return;const o=wO(r.fieldTransforms,s,i),a=i.data;a.setAll(_O(r)),a.setAll(o),i.convertToFoundDocument(yO(i),a).setHasLocalMutations()}(t,e,n):df(t.precondition,i=e)&&i.convertToNoDocument(V.min())}function EX(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=dO(r.transform,i||null);null!=s&&(null==n&&(n=qt.empty()),n.set(r.field,s))}return n||null}function mO(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&aa(n,r,(i,s)=>function _X(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Ms&&r instanceof Ms||n instanceof ks&&r instanceof ks?aa(n.elements,r.elements,Ar):n instanceof ga&&r instanceof ga?Ar(n.k,r.k):n instanceof pa&&r instanceof pa);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}function yO(t){return t.isFoundDocument()?t.version:V.min()}class Ml extends hf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}}class Ns extends hf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}}function _O(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function vO(t,e,n){const r=new Map;j(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,yX(o,a,n[i]))}return r}function wO(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,mX(s,o,e))}return r}class kl extends hf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}}class XI extends hf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}}class IX{constructor(e){this.count=e}}var tt,he;function EO(t){switch(t){default:return R();case v.CANCELLED:case v.UNKNOWN:case v.DEADLINE_EXCEEDED:case v.RESOURCE_EXHAUSTED:case v.INTERNAL:case v.UNAVAILABLE:case v.UNAUTHENTICATED:return!1;case v.INVALID_ARGUMENT:case v.NOT_FOUND:case v.ALREADY_EXISTS:case v.PERMISSION_DENIED:case v.FAILED_PRECONDITION:case v.ABORTED:case v.OUT_OF_RANGE:case v.UNIMPLEMENTED:case v.DATA_LOSS:return!0}}function IO(t){if(void 0===t)return Xe("GRPC error has no .code"),v.UNKNOWN;switch(t){case tt.OK:return v.OK;case tt.CANCELLED:return v.CANCELLED;case tt.UNKNOWN:return v.UNKNOWN;case tt.DEADLINE_EXCEEDED:return v.DEADLINE_EXCEEDED;case tt.RESOURCE_EXHAUSTED:return v.RESOURCE_EXHAUSTED;case tt.INTERNAL:return v.INTERNAL;case tt.UNAVAILABLE:return v.UNAVAILABLE;case tt.UNAUTHENTICATED:return v.UNAUTHENTICATED;case tt.INVALID_ARGUMENT:return v.INVALID_ARGUMENT;case tt.NOT_FOUND:return v.NOT_FOUND;case tt.ALREADY_EXISTS:return v.ALREADY_EXISTS;case tt.PERMISSION_DENIED:return v.PERMISSION_DENIED;case tt.FAILED_PRECONDITION:return v.FAILED_PRECONDITION;case tt.ABORTED:return v.ABORTED;case tt.OUT_OF_RANGE:return v.OUT_OF_RANGE;case tt.UNIMPLEMENTED:return v.UNIMPLEMENTED;case tt.DATA_LOSS:return v.DATA_LOSS;default:return R()}}(he=tt||(tt={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";class Pi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ds(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return VP(this.inner)}size(){return this.innerSize}}const bX=new He(S.comparator);function Wn(){return bX}const DX=new He(S.comparator);function ZI(...t){let e=DX;for(const n of t)e=e.insert(n.key,n);return e}function Nl(){return new Pi(t=>t.toString(),(t,e)=>t.isEqual(e))}const CX=new He(S.comparator),TX=new Ce(S.comparator);function pe(...t){let e=TX;for(const n of t)e=e.add(n);return e}const AX=new Ce(K);function ff(){return AX}class Rl{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,Pl.createSynthesizedTargetChangeForCurrentChange(e,n)),new Rl(V.min(),r,ff(),Wn(),pe())}}class Pl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n){return new Pl(ut.EMPTY_BYTE_STRING,n,pe(),pe(),pe())}}class pf{constructor(e,n,r,i){this.O=e,this.removedTargetIds=n,this.key=r,this.F=i}}class bO{constructor(e,n){this.targetId=e,this.$=n}}class DO{constructor(e,n,r=ut.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class CO{constructor(){this.B=0,this.L=AO(),this.U=ut.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=pe(),n=pe(),r=pe();return this.L.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:R()}}),new Pl(this.U,this.q,e,n,r)}J(){this.K=!1,this.L=AO()}Y(e,n){this.K=!0,this.L=this.L.insert(e,n)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class SX{constructor(e){this.nt=e,this.st=new Map,this.it=Wn(),this.rt=TO(),this.ot=new Ce(K)}ut(e){for(const n of e.O)e.F&&e.F.isFoundDocument()?this.at(n,e.F):this.ct(n,e.key,e.F);for(const n of e.removedTargetIds)this.ct(n,e.key,e.F)}ht(e){this.forEachTarget(e,n=>{const r=this.lt(n);switch(e.state){case 0:this.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(n);break;case 3:this.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(n)&&(this.dt(n),r.W(e.resumeToken));break;default:R()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.st.forEach((r,i)=>{this.ft(i)&&n(i)})}_t(e){const n=e.targetId,r=e.$.count,i=this.wt(n);if(i){const s=i.target;if(uf(s))if(0===r){const o=new S(s.path);this.ct(n,o,Te.newNoDocument(o,V.min()))}else j(1===r);else this.gt(n)!==r&&(this.dt(n),this.ot=this.ot.add(n))}}yt(e){const n=new Map;this.st.forEach((s,o)=>{const a=this.wt(o);if(a){if(s.current&&uf(a.target)){const u=new S(a.target.path);null!==this.it.get(u)||this.It(o,u)||this.ct(o,u,Te.newNoDocument(u,e))}s.j&&(n.set(o,s.H()),s.J())}});let r=pe();this.rt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.wt(u);return!l||2===l.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.it.forEach((s,o)=>o.setReadTime(e));const i=new Rl(e,n,this.ot,this.it,r);return this.it=Wn(),this.rt=TO(),this.ot=new Ce(K),i}at(e,n){if(!this.ft(e))return;const r=this.It(e,n.key)?2:0;this.lt(e).Y(n.key,r),this.it=this.it.insert(n.key,n),this.rt=this.rt.insert(n.key,this.Tt(n.key).add(e))}ct(e,n,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,n)?i.Y(n,1):i.X(n),this.rt=this.rt.insert(n,this.Tt(n).delete(e)),r&&(this.it=this.it.insert(n,r))}removeTarget(e){this.st.delete(e)}gt(e){const n=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let n=this.st.get(e);return n||(n=new CO,this.st.set(e,n)),n}Tt(e){let n=this.rt.get(e);return n||(n=new Ce(K),this.rt=this.rt.insert(e,n)),n}ft(e){const n=null!==this.wt(e);return n||C("WatchChangeAggregator","Detected inactive target",e),n}wt(e){const n=this.st.get(e);return n&&n.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new CO),this.nt.getRemoteKeysForTarget(e).forEach(n=>{this.ct(e,n,null)})}It(e,n){return this.nt.getRemoteKeysForTarget(e).has(n)}}function TO(){return new He(S.comparator)}function AO(){return new He(S.comparator)}const xX={asc:"ASCENDING",desc:"DESCENDING"},MX={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class kX{constructor(e,n){this.databaseId=e,this.N=n}}function Ol(t,e){return t.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SO(t,e){return t.N?e.toBase64():e.toUint8Array()}function NX(t,e){return Ol(t,e.toTimestamp())}function Et(t){return j(!!t),V.fromTimestamp(function(e){const n=xi(e);return new Ze(n.seconds,n.nanos)}(t))}function eb(t,e){return(n=t,new de(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function xO(t){const e=de.fromString(t);return j(VO(e)),e}function Fl(t,e){return eb(t.databaseId,e.path)}function Sr(t,e){const n=xO(e);if(n.get(1)!==t.databaseId.projectId)throw new D(v.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new D(v.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new S(kO(n))}function tb(t,e){return eb(t.databaseId,e)}function Ll(t){return new de(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function kO(t){return j(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function NO(t,e,n){return{name:Fl(t,e),fields:n.value.mapValue.fields}}function PO(t,e){return{documents:[tb(t,e.path)]}}function OO(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=tb(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=tb(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0===u.length)return;const l=u.map(c=>function(d){if("=="===d.op){if(HP(d.value))return{unaryFilter:{field:ma(d.field),op:"IS_NAN"}};if($P(d.value))return{unaryFilter:{field:ma(d.field),op:"IS_NULL"}}}else if("!="===d.op){if(HP(d.value))return{unaryFilter:{field:ma(d.field),op:"IS_NOT_NAN"}};if($P(d.value))return{unaryFilter:{field:ma(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ma(d.field),op:VX(d.op),value:d.value}}}(c));return 1===l.length?l[0]:{compositeFilter:{op:"AND",filters:l}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(l=>{return{field:ma((c=l).field),direction:LX(c.dir)};var c})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=(l=e.limit,t.N||El(l)?l:{value:l});var l,a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function FO(t){let e=function MO(t){const e=xO(t);return 4===e.length?de.emptyPath():kO(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){j(1===r);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=LO(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>{return new da(ya((d=c).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(c){let d;return d="object"==typeof c?c.value:c,El(d)?null:d}(n.limit));let u=null;var c;n.startAt&&(u=new Ri((c=n.startAt).values||[],!!c.before));let l=null;return n.endAt&&(l=function(c){return new Ri(c.values||[],!c.before)}(n.endAt)),function rO(t,e,n,r,i,s,o,a){return new ai(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,l)}function LO(t){return t?void 0!==t.unaryFilter?[BX(t)]:void 0!==t.fieldFilter?[UX(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(e=>LO(e)).reduce((e,n)=>e.concat(n)):R():[]}function LX(t){return xX[t]}function VX(t){return MX[t]}function ma(t){return{fieldPath:t.canonicalString()}}function ya(t){return wt.fromServerFormat(t.fieldPath)}function UX(t){return Pt.create(ya(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return R()}}(t.fieldFilter.op),t.fieldFilter.value)}function BX(t){switch(t.unaryFilter.op){case"IS_NAN":const e=ya(t.unaryFilter.field);return Pt.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=ya(t.unaryFilter.field);return Pt.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ya(t.unaryFilter.field);return Pt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=ya(t.unaryFilter.field);return Pt.create(i,"!=",{nullValue:"NULL_VALUE"});default:return R()}}function jX(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function VO(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}const GO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&R(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new w((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof w?n:w.resolve(n)}catch(n){return w.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):w.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):w.reject(n)}static resolve(e){return new w((n,r)=>{n(e)})}static reject(e){return new w((n,r)=>{r(e)})}static waitFor(e){return new w((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=w.resolve(!1);for(const r of e)n=n.next(i=>i?w.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}}function Rs(t){return"IndexedDbTransactionError"===t.name}class ib{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&wX(s,e,r[i])}}applyToLocalView(e){for(const n of this.baseMutations)n.key.isEqual(e.key)&&JI(n,e,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(e.key)&&JI(n,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(n=>{const r=e.get(n.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(V.min())})}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&aa(this.mutations,e.mutations,(n,r)=>mO(n,r))&&aa(this.baseMutations,e.baseMutations,(n,r)=>mO(n,r))}}class sb{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){j(e.mutations.length===r.length);let i=CX;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new sb(e,n,r,i)}}class ob{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Oi{constructor(e,n,r,i,s=V.min(),o=V.min(),a=ut.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Oi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Oi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class zO{constructor(e){this.Jt=e}}function ab(t){const e=FO({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?function iO(t,e,n){return new ai(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}(e,e.limit,"L"):e}class Ls{constructor(){}Zt(e,n){this.te(e,n),n.ee()}te(e,n){if("nullValue"in e)this.ne(n,5);else if("booleanValue"in e)this.ne(n,10),n.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(n,15),n.se(Ue(e.integerValue));else if("doubleValue"in e){const r=Ue(e.doubleValue);isNaN(r)?this.ne(n,13):(this.ne(n,15),Il(r)?n.se(0):n.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(n,20),"string"==typeof r?n.ie(r):(n.ie(`${r.seconds||""}`),n.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,n),this.oe(n);else if("bytesValue"in e)this.ne(n,30),n.ue(Cs(e.bytesValue)),this.oe(n);else if("referenceValue"in e)this.ae(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(n,45),n.se(r.latitude||0),n.se(r.longitude||0)}else"mapValue"in e?GP(e)?this.ne(n,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,n),this.oe(n)):"arrayValue"in e?(this.he(e.arrayValue,n),this.oe(n)):R()}re(e,n){this.ne(n,25),this.le(e,n)}le(e,n){n.ie(e)}ce(e,n){const r=e.fields||{};this.ne(n,55);for(const i of Object.keys(r))this.re(i,n),this.te(r[i],n)}he(e,n){const r=e.values||[];this.ne(n,50);for(const i of r)this.te(i,n)}ae(e,n){this.ne(n,37),S.fromName(e).path.forEach(r=>{this.ne(n,60),this.le(r,n)})}ne(e,n){e.se(n)}oe(e){e.se(2)}}Ls.fe=new Ls;class mZ{constructor(){this.qe=new cb}addToCollectionParentIndex(e,n){return this.qe.add(n),w.resolve()}getCollectionParents(e,n){return w.resolve(this.qe.getEntries(n))}addFieldIndex(e,n){return w.resolve()}deleteFieldIndex(e,n){return w.resolve()}getDocumentsMatchingTarget(e,n){return w.resolve(null)}getIndexType(e,n){return w.resolve(0)}getFieldIndexes(e,n){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,n){return w.resolve(ar.min())}updateCollectionGroup(e,n,r){return w.resolve()}updateIndexEntries(e,n){return w.resolve()}}class cb{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ce(de.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ce(de.comparator)).toArray()}}new Uint8Array(0);class yn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(41943040,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);class Bs{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new Bs(0)}static yn(){return new Bs(-1)}}function js(t){return hb.apply(this,arguments)}function hb(){return hb=m(function*(t){if(t.code!==v.FAILED_PRECONDITION||t.message!==GO)throw t;C("LocalStore","Unexpectedly lost primary lease")}),hb.apply(this,arguments)}class AZ{constructor(e,n,r){this.ds=e,this.Bs=n,this.indexManager=r}Ls(e,n){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,n).next(r=>this.Us(e,n,r))}Us(e,n,r){return this.ds.getEntry(e,n).next(i=>{for(const s of r)s.applyToLocalView(i);return i})}qs(e,n){e.forEach((r,i)=>{for(const s of n)s.applyToLocalView(i)})}Ks(e,n){return this.ds.getEntries(e,n).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,n){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,n).next(r=>this.qs(n,r))}Qs(e,n,r){return S.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.js(e,n.path):function KI(t){return null!==t.collectionGroup}(n)?this.Ws(e,n,r):this.zs(e,n,r);var i}js(e,n){return this.Ls(e,new S(n)).next(r=>{let i=ZI();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Ws(e,n,r){const i=n.collectionGroup;let s=ZI();return this.indexManager.getCollectionParents(e,i).next(o=>w.forEach(o,a=>{const u=(l=n,c=a.child(i),new ai(c,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,c;return this.zs(e,u,r).next(l=>{l.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}zs(e,n,r){let i;return this.ds.getAllFromCollection(e,n.path,r).next(s=>(i=s,this.Bs.getAllMutationBatchesAffectingQuery(e,n))).next(s=>{for(const o of s)for(const a of o.mutations){const u=a.key;let l=i.get(u);null==l&&(l=Te.newInvalidDocument(u),i=i.insert(u,l)),JI(a,l,o.localWriteTime),l.isFoundDocument()||(i=i.remove(u))}}).next(()=>(i.forEach((s,o)=>{YI(n,o)||(i=i.remove(s))}),i))}}class mb{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Hs=r,this.Js=i}static Ys(e,n){let r=pe(),i=pe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new mb(e,n.fromCache,r,i)}}class hF{constructor(){this.Xs=!1}initialize(e,n){this.Zs=e,this.indexManager=n,this.Xs=!0}Qs(e,n,r,i){return this.ti(e,n).next(s=>s||this.ei(e,n,i,r)).next(s=>s||this.ni(e,n))}ti(e,n){return w.resolve(null)}ei(e,n,r,i){return function pX(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(n)||i.isEqual(V.min())?this.ni(e,n):this.Zs.Ks(e,r).next(s=>{const o=this.si(n,s);return this.ii(n,o,r,i)?this.ni(e,n):(BI()<=ce.DEBUG&&C("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),QI(n)),this.ri(e,o,n,function KP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=V.fromTimestamp(1e9===r?new Ze(n+1,0):new Ze(n,r));return new ar(i,S.empty(),e)}(i,-1)))})}si(e,n){let r=new Ce(aO(e));return n.forEach((i,s)=>{YI(e,s)&&(r=r.add(s))}),r}ii(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ni(e,n){return BI()<=ce.DEBUG&&C("QueryEngine","Using full collection scan to execute query:",QI(n)),this.Zs.Qs(e,n,ar.min())}ri(e,n,r,i){return this.Zs.Qs(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class SZ{constructor(e,n,r,i){this.persistence=e,this.oi=n,this.M=i,this.ui=new He(K),this.ai=new Pi(s=>xs(s),Al),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(r)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new AZ(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ui))}}function pF(t,e){return yb.apply(this,arguments)}function yb(){return yb=m(function*(t,e){const n=x(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.Bs.getAllMutationBatches(r).next(s=>(i=s,n.li(e),n.Bs.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=pe();for(const l of i){o.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of s){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return n.fi.Ks(r,u).next(l=>({di:l,removedBatchIds:o,addedBatchIds:a}))})})}),yb.apply(this,arguments)}function xZ(t,e){const n=x(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.hi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,l){const c=u.batch,d=c.keys();let h=w.resolve();return d.forEach(f=>{h=h.next(()=>l.getEntry(a,f)).next(p=>{const g=u.docVersions.get(f);j(null!==g),p.version.compareTo(g)<0&&(c.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),l.addEntry(p)))})}),h.next(()=>o.Bs.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.Bs.performConsistencyCheck(r)).next(()=>n.fi.Ks(r,i))})}function gF(t){const e=x(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.fs.getLastRemoteSnapshotVersion(n))}function MZ(t,e){const n=x(t),r=e.snapshotVersion;let i=n.ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.hi.newChangeBuffer({trackRemovals:!0});i=n.ui;const a=[];e.targetChanges.forEach((l,c)=>{const d=i.get(c);if(!d)return;a.push(n.fs.removeMatchingKeys(s,l.removedDocuments,c).next(()=>n.fs.addMatchingKeys(s,l.addedDocuments,c)));let h=d.withSequenceNumber(s.currentSequenceNumber);var f,p,g;e.targetMismatches.has(c)?h=h.withResumeToken(ut.EMPTY_BYTE_STRING,V.min()).withLastLimboFreeSnapshotVersion(V.min()):l.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(l.resumeToken,r)),i=i.insert(c,h),p=h,g=l,(0===(f=d).resumeToken.approximateByteSize()||p.snapshotVersion.toMicroseconds()-f.snapshotVersion.toMicroseconds()>=3e8||g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0)&&a.push(n.fs.updateTargetData(s,h))});let u=Wn();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function mF(t,e,n){let r=pe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let s=Wn();return n.forEach((o,a)=>{const u=i.get(o);a.isNoDocument()&&a.version.isEqual(V.min())?(e.removeEntry(o,a.readTime),s=s.insert(o,a)):!u.isValidDocument()||a.version.compareTo(u.version)>0||0===a.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(a),s=s.insert(o,a)):C("LocalStore","Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",a.version)}),s})}(s,o,e.documentUpdates).next(l=>{u=l})),!r.isEqual(V.min())){const l=n.fs.getLastRemoteSnapshotVersion(s).next(c=>n.fs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>n.fi.Gs(s,u)).next(()=>u)}).then(s=>(n.ui=i,s))}function kZ(t,e){const n=x(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.Bs.getNextMutationBatchAfterBatchId(r,e)))}function Ea(t,e){const n=x(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.fs.getTargetData(r,e).next(s=>s?(i=s,w.resolve(i)):n.fs.allocateTargetId(r).next(o=>(i=new Oi(e,o,0,r.currentSequenceNumber),n.fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ui=n.ui.insert(r.targetId,r),n.ai.set(e,r.targetId)),r})}function Ia(t,e,n){return _b.apply(this,arguments)}function _b(){return _b=m(function*(t,e,n){const r=x(t),i=r.ui.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Rs(o))throw o;C("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ui=r.ui.remove(e),r.ai.delete(i.target)}),_b.apply(this,arguments)}function Df(t,e,n){const r=x(t);let i=V.min(),s=pe();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,l){const c=x(a),d=c.ai.get(l);return void 0!==d?w.resolve(c.ui.get(d)):c.fs.getTargetData(u,l)}(r,o,qn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.oi.Qs(o,e,n?i:V.min(),n?s:pe())).next(a=>(function vF(t,e,n){let r=V.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ci.set(e,r)}(r,function oO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,_i:s})))}class PZ{constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,n){return w.resolve(this.yi.get(n))}saveBundleMetadata(e,n){var r;return this.yi.set(n.id,{id:(r=n).id,version:r.version,createTime:Et(r.createTime)}),w.resolve()}getNamedQuery(e,n){return w.resolve(this.pi.get(n))}saveNamedQuery(e,n){return this.pi.set(n.name,{name:(r=n).name,query:ab(r.bundledQuery),readTime:Et(r.readTime)}),w.resolve();var r}}class OZ{constructor(){this.overlays=new He(S.comparator),this.Ii=new Map}getOverlay(e,n){return w.resolve(this.overlays.get(n))}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.Xt(e,n,s)}),w.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ii.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ii.delete(r)),w.resolve()}getOverlaysForCollection(e,n,r){const i=Nl(),s=n.length+1,o=new S(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return w.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new He((l,c)=>l-c);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let c=s.get(l.largestBatchId);null===c&&(c=Nl(),s=s.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const a=Nl(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>a.set(l,c)),!(a.size()>=i)););return w.resolve(a)}Xt(e,n,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const o=this.Ii.get(i.largestBatchId).delete(r.key);this.Ii.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new ob(n,r));let s=this.Ii.get(n);void 0===s&&(s=pe(),this.Ii.set(n,s)),this.Ii.set(n,s.add(r.key))}}class Eb{constructor(){this.Ti=new Ce(bt.Ei),this.Ai=new Ce(bt.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,n){const r=new bt(e,n);this.Ti=this.Ti.add(r),this.Ai=this.Ai.add(r)}bi(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Pi(new bt(e,n))}Vi(e,n){e.forEach(r=>this.removeReference(r,n))}vi(e){const n=new S(new de([])),r=new bt(n,e),i=new bt(n,e+1),s=[];return this.Ai.forEachInRange([r,i],o=>{this.Pi(o),s.push(o.key)}),s}Si(){this.Ti.forEach(e=>this.Pi(e))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const n=new S(new de([])),r=new bt(n,e),i=new bt(n,e+1);let s=pe();return this.Ai.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new bt(e,0),r=this.Ti.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class bt{constructor(e,n){this.key=e,this.Ci=n}static Ei(e,n){return S.comparator(e.key,n.key)||K(e.Ci,n.Ci)}static Ri(e,n){return K(e.Ci,n.Ci)||S.comparator(e.key,n.key)}}class FZ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.Bs=[],this.xi=1,this.Ni=new Ce(bt.Ei)}checkEmpty(e){return w.resolve(0===this.Bs.length)}addMutationBatch(e,n,r,i){const s=this.xi;this.xi++;const o=new ib(s,n,r,i);this.Bs.push(o);for(const a of i)this.Ni=this.Ni.add(new bt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,n){return w.resolve(this.ki(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.Mi(n+1),s=i<0?0:i;return w.resolve(this.Bs.length>s?this.Bs[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(e){return w.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new bt(n,0),i=new bt(n,Number.POSITIVE_INFINITY),s=[];return this.Ni.forEachInRange([r,i],o=>{const a=this.ki(o.Ci);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ce(K);return n.forEach(i=>{const s=new bt(i,0),o=new bt(i,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([s,o],a=>{r=r.add(a.Ci)})}),w.resolve(this.Oi(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;S.isDocumentKey(s)||(s=s.child(""));const o=new bt(new S(s),0);let a=new Ce(K);return this.Ni.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Ci)),!0)},o),w.resolve(this.Oi(a))}Oi(e){const n=[];return e.forEach(r=>{const i=this.ki(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){j(0===this.Fi(n.batchId,"removed")),this.Bs.shift();let r=this.Ni;return w.forEach(n.mutations,i=>{const s=new bt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Ni=r})}_n(e){}containsKey(e,n){const r=new bt(n,0),i=this.Ni.firstAfterOrEqual(r);return w.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return w.resolve()}Fi(e,n){return this.Mi(e)}Mi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}ki(e){const n=this.Mi(e);return n<0||n>=this.Bs.length?null:this.Bs[n]}}class LZ{constructor(e){this.$i=e,this.docs=new He(S.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.$i(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return w.resolve(r?r.document.mutableCopy():Te.newInvalidDocument(n))}getEntries(e,n){let r=Wn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Te.newInvalidDocument(i))}),w.resolve(r)}getAllFromCollection(e,n,r){let i=Wn();const s=new S(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:u}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||QP(rX(u),r)<=0||(i=i.insert(u.key,u.mutableCopy()))}return w.resolve(i)}getAllFromCollectionGroup(e,n,r,i){R()}Bi(e,n){return w.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new VZ(this)}getSize(e){return w.resolve(this.size)}}class VZ extends class bZ{constructor(){this.changes=new Pi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Te.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?w.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Kn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Kn.addEntry(e,i)):this.Kn.removeEntry(r)}),w.waitFor(n)}getFromCache(e,n){return this.Kn.getEntry(e,n)}getAllFromCache(e,n){return this.Kn.getEntries(e,n)}}class UZ{constructor(e){this.persistence=e,this.Li=new Pi(n=>xs(n),Al),this.lastRemoteSnapshotVersion=V.min(),this.highestTargetId=0,this.Ui=0,this.qi=new Eb,this.targetCount=0,this.Ki=Bs.gn()}forEachTarget(e,n){return this.Li.forEach((r,i)=>n(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ui&&(this.Ui=n),w.resolve()}Tn(e){this.Li.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ki=new Bs(n),this.highestTargetId=n),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,n){return this.Tn(n),this.targetCount+=1,w.resolve()}updateTargetData(e,n){return this.Tn(n),w.resolve()}removeTargetData(e,n){return this.Li.delete(n.target),this.qi.vi(n.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Li.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Li.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(s).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,n){const r=this.Li.get(n)||null;return w.resolve(r)}addMatchingKeys(e,n,r){return this.qi.bi(n,r),w.resolve()}removeMatchingKeys(e,n,r){this.qi.Vi(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.qi.vi(n),w.resolve()}getMatchingKeysForTargetId(e,n){const r=this.qi.Di(n);return w.resolve(r)}containsKey(e,n){return w.resolve(this.qi.containsKey(n))}}class BZ{constructor(e,n){this.Gi={},this.overlays={},this.es=new kn(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new UZ(this),this.indexManager=new mZ,this.ds=new LZ(r=>this.referenceDelegate.Qi(r)),this.M=new zO(n),this._s=new PZ(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new OZ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Gi[e.toKey()];return r||(r=new FZ(n,this.referenceDelegate),this.Gi[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,n,r){C("MemoryPersistence","Starting transaction:",e);const i=new jZ(this.es.next());return this.referenceDelegate.ji(),r(i).next(s=>this.referenceDelegate.Wi(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}zi(e,n){return w.or(Object.values(this.Gi).map(r=>()=>r.containsKey(e,n)))}}class jZ extends class oZ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class Ib{constructor(e){this.persistence=e,this.Hi=new Eb,this.Ji=null}static Yi(e){return new Ib(e)}get Xi(){if(this.Ji)return this.Ji;throw R()}addReference(e,n,r){return this.Hi.addReference(r,n),this.Xi.delete(r.toString()),w.resolve()}removeReference(e,n,r){return this.Hi.removeReference(r,n),this.Xi.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,n){return this.Xi.add(n.toString()),w.resolve()}removeTarget(e,n){this.Hi.vi(n.targetId).forEach(i=>this.Xi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}ji(){this.Ji=new Set}Wi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Xi,r=>{const i=S.fromPath(r);return this.Zi(e,i).next(s=>{s||n.removeEntry(i,V.min())})}).next(()=>(this.Ji=null,n.apply(e)))}updateLimboDocument(e,n){return this.Zi(e,n).next(r=>{r?this.Xi.delete(n.toString()):this.Xi.add(n.toString())})}Qi(e){return 0}Zi(e,n){return w.or([()=>w.resolve(this.Hi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.zi(e,n)])}}class Cb{constructor(){this.activeTargetIds=ff()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class IF{constructor(){this.Ur=new Cb,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,n,r){this.qr[e]=n}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new Cb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class $Z{Kr(e){}shutdown(){}}class bF{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){C("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){C("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const HZ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class GZ{constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}class qZ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.uo=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,n,r,i,s){const o=this.ho(e,n);C("RestConnection","Sending: ",o,r);const a={};return this.lo(a,i,s),this.fo(e,o,a,r).then(u=>(C("RestConnection","Received: ",u),u),u=>{throw tf("RestConnection",`${e} failed with error: `,u,"url: ",o,"request:",r),u})}_o(e,n,r,i,s){return this.co(e,n,r,i,s)}lo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+oa,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,n){return`${this.uo}/v1/${n}:${HZ[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,r,i){return new Promise((s,o)=>{const a=new GJ;a.listenOnce(jJ.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case UI.NO_ERROR:const l=a.getResponseJson();C("Connection","XHR received:",JSON.stringify(l)),s(l);break;case UI.TIMEOUT:C("Connection",'RPC "'+e+'" timed out'),o(new D(v.DEADLINE_EXCEEDED,"Request time out"));break;case UI.HTTP_ERROR:const c=a.getStatus();if(C("Connection",'RPC "'+e+'" failed with status:',c,"response text:",a.getResponseText()),c>0){const d=a.getResponseJson().error;if(d&&d.status&&d.message){const h=function(f){const p=f.toLowerCase().replace(/_/g,"-");return Object.values(v).indexOf(p)>=0?p:v.UNKNOWN}(d.status);o(new D(h,d.message))}else o(new D(v.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new D(v.UNAVAILABLE,"Connection failed."));break;default:R()}}finally{C("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(n,"POST",u,r,15)})}wo(e,n,r){const i=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=UJ(),o=BJ(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new HJ({})),this.lo(a.initMessageHeaders,n,r),kk()||Nk()||function y4(){return Sn().indexOf("Electron/")>=0}()||function _4(){const t=Sn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()||function v4(){return Sn().indexOf("MSAppHost/")>=0}()||Qd()||(a.httpHeadersOverwriteParam="$httpHeaders");const u=i.join("");C("Connection","Creating WebChannel: "+u,a);const l=s.createWebChannel(u,a);let c=!1,d=!1;const h=new GZ({Jr:p=>{d?C("Connection","Not sending because WebChannel is closed:",p):(c||(C("Connection","Opening WebChannel transport."),l.open(),c=!0),C("Connection","WebChannel sending:",p),l.send(p))},Yr:()=>l.close()}),f=(p,g,_)=>{p.listen(g,E=>{try{_(E)}catch(y){setTimeout(()=>{throw y},0)}})};return f(l,ef.EventType.OPEN,()=>{d||C("Connection","WebChannel transport opened.")}),f(l,ef.EventType.CLOSE,()=>{d||(d=!0,C("Connection","WebChannel transport closed"),h.ro())}),f(l,ef.EventType.ERROR,p=>{d||(d=!0,tf("Connection","WebChannel transport errored:",p),h.ro(new D(v.UNAVAILABLE,"The operation could not be completed")))}),f(l,ef.EventType.MESSAGE,p=>{var g;if(!d){const _=p.data[0];j(!!_);const E=_,y=E.error||(null===(g=E[0])||void 0===g?void 0:g.error);if(y){C("Connection","WebChannel received error:",y);const T=y.status;let P=function(Z){const Ae=tt[Z];if(void 0!==Ae)return IO(Ae)}(T),O=y.message;void 0===P&&(P=v.INTERNAL,O="Unknown error status: "+T+" with message "+y.message),d=!0,h.ro(new D(P,O)),l.close()}else C("Connection","WebChannel received:",_),h.oo(_)}}),f(o,$J.STAT_EVENT,p=>{p.stat===kP.PROXY?C("Connection","Detected buffering proxy"):p.stat===kP.NOPROXY&&C("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.io()},0),h}}function Af(){return"undefined"!=typeof document?document:null}function zl(t){return new kX(t,!0)}class Ab{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Yn=e,this.timerId=n,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&C("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class CF{constructor(e,n,r,i,s,o,a,u){this.Yn=e,this.Vo=r,this.vo=i,this.So=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new Ab(e,n)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return m(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return m(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,n){var r=this;return m(function*(){r.Uo(),r.qo(),r.No.cancel(),r.Do++,4!==e?r.No.reset():n&&n.code===v.RESOURCE_EXHAUSTED?(Xe(n.toString()),Xe("Using maximum backoff delay to prevent overloading the backend."),r.No.Ao()):n&&n.code===v.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Ko(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.eo(n)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),n=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Do===n&&this.Qo(r,i)},r=>{e(()=>{const i=new D(v.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(i)})})}Qo(e,n){const r=this.Go(this.Do);this.stream=this.Wo(e,n),this.stream.Xr(()=>{r(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(i=>{r(()=>this.jo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.No.Ro(m(function*(){e.state=0,e.start()}))}jo(e){return C("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return n=>{this.Yn.enqueueAndForget(()=>this.Do===e?n():(C("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class WZ extends CF{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.M=s}Wo(e,n){return this.So.wo("Listen",e,n)}onMessage(e){this.No.reset();const n=function PX(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:R(),i=e.targetChange.targetIds||[],s=function(u,l){return u.N?(j(void 0===l||"string"==typeof l),ut.fromBase64String(l||"")):(j(void 0===l||l instanceof Uint8Array),ut.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const l=void 0===u.code?v.UNKNOWN:IO(u.code);return new D(l,u.message||"")}(o);n=new DO(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Sr(t,r.document.name),s=Et(r.document.updateTime),o=new qt({mapValue:{fields:r.document.fields}}),a=Te.newFoundDocument(i,s,o);n=new pf(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const r=e.documentDelete,i=Sr(t,r.document),s=r.readTime?Et(r.readTime):V.min(),o=Te.newNoDocument(i,s);n=new pf([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Sr(t,r.document);n=new pf([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return R();{const r=e.filter,s=new IX(r.count||0);n=new bO(r.targetId,s)}}var u;return n}(this.M,e),r=function(i){if(!("targetChange"in i))return V.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?V.min():s.readTime?Et(s.readTime):V.min()}(e);return this.listener.zo(n,r)}Ho(e){const n={};n.database=Ll(this.M),n.addTarget=function(i,s){let o;const a=s.target;return o=uf(a)?{documents:PO(i,a)}:{query:OO(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=SO(i,s.resumeToken):s.snapshotVersion.compareTo(V.min())>0&&(o.readTime=Ol(i,s.snapshotVersion.toTimestamp())),o}(this.M,e);const r=function FX(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return R()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Lo(n)}Jo(e){const n={};n.database=Ll(this.M),n.removeTarget=e,this.Lo(n)}}class zZ extends CF{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.M=s,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,n){return this.So.wo("Write",e,n)}onMessage(e){if(j(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const n=function OX(t,e){return t&&t.length>0?(j(void 0!==e),t.map(n=>function(r,i){let s=Et(r.updateTime?r.updateTime:i);return s.isEqual(V.min())&&(s=Et(i)),new vX(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=Et(e.commitTime);return this.listener.tu(r,n)}return j(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=Ll(this.M),this.Lo(e)}Zo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Vl(t,e){let n;if(e instanceof Ml)n={update:NO(t,e.key,e.value)};else if(e instanceof kl)n={delete:Fl(t,e.key)};else if(e instanceof Ns)n={update:NO(t,e.key,e.data),updateMask:jX(e.fieldMask)};else{if(!(e instanceof XI))return R();n={verify:Fl(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof pa)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Ms)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof ks)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof ga)return{fieldPath:s.field.canonicalString(),increment:o.k};throw R()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:NX(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:R()),n;var i}(this.M,r))};this.Lo(n)}}class KZ extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.So=r,this.M=i,this.su=!1}iu(){if(this.su)throw new D(v.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,n,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.So.co(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===v.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new D(v.UNKNOWN,i.toString())})}_o(e,n,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.So._o(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===v.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new D(v.UNKNOWN,i.toString())})}terminate(){this.su=!0}}class QZ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(Xe(n),this.uu=!1):C("OnlineStateTracker",n)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class YZ{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=s,this.gu.Kr(a=>{r.enqueueAndForget(m(function*(){var u;Vi(o)&&(C("RemoteStore","Restarting streams for network reachability change."),yield(u=m(function*(l){const c=x(l);c.wu.add(4),yield ba(c),c.yu.set("Unknown"),c.wu.delete(4),yield Kl(c)}),function(l){return u.apply(this,arguments)})(o))}))}),this.yu=new QZ(r,i)}}function Kl(t){return Sb.apply(this,arguments)}function Sb(){return Sb=m(function*(t){if(Vi(t))for(const e of t.mu)yield e(!0)}),Sb.apply(this,arguments)}function ba(t){return xb.apply(this,arguments)}function xb(){return xb=m(function*(t){for(const e of t.mu)yield e(!1)}),xb.apply(this,arguments)}function Sf(t,e){const n=x(t);n._u.has(e.targetId)||(n._u.set(e.targetId,e),Nb(n)?kb(n):Ca(n).Mo()&&Mb(n,e))}function Ql(t,e){const n=x(t),r=Ca(n);n._u.delete(e),r.Mo()&&TF(n,e),0===n._u.size&&(r.Mo()?r.$o():Vi(n)&&n.yu.set("Unknown"))}function Mb(t,e){t.pu.Z(e.targetId),Ca(t).Ho(e)}function TF(t,e){t.pu.Z(e),Ca(t).Jo(e)}function kb(t){t.pu=new SX({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t._u.get(e)||null}),Ca(t).start(),t.yu.au()}function Nb(t){return Vi(t)&&!Ca(t).ko()&&t._u.size>0}function Vi(t){return 0===x(t).wu.size}function AF(t){t.pu=void 0}function JZ(t){return Rb.apply(this,arguments)}function Rb(){return Rb=m(function*(t){t._u.forEach((e,n)=>{Mb(t,e)})}),Rb.apply(this,arguments)}function XZ(t,e){return Pb.apply(this,arguments)}function Pb(){return Pb=m(function*(t,e){AF(t),Nb(t)?(t.yu.lu(e),kb(t)):t.yu.set("Unknown")}),Pb.apply(this,arguments)}function ZZ(t,e,n){return Ob.apply(this,arguments)}function Ob(){return Ob=m(function*(t,e,n){if(t.yu.set("Online"),e instanceof DO&&2===e.state&&e.cause)try{yield(r=m(function*(i,s){const o=s.cause;for(const a of s.targetIds)i._u.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i._u.delete(a),i.pu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){C("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield xf(t,r)}else if(e instanceof pf?t.pu.ut(e):e instanceof bO?t.pu._t(e):t.pu.ht(e),!n.isEqual(V.min()))try{const r=yield gF(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.pu.yt(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const l=i._u.get(u);l&&i._u.set(u,l.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i._u.get(a);if(!u)return;i._u.set(a,u.withResumeToken(ut.EMPTY_BYTE_STRING,u.snapshotVersion)),TF(i,a);const l=new Oi(u.target,a,1,u.sequenceNumber);Mb(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){C("RemoteStore","Failed to raise snapshot:",r),yield xf(t,r)}var r}),Ob.apply(this,arguments)}function xf(t,e,n){return Fb.apply(this,arguments)}function Fb(){return Fb=m(function*(t,e,n){if(!Rs(e))throw e;t.wu.add(1),yield ba(t),t.yu.set("Offline"),n||(n=()=>gF(t.localStore)),t.asyncQueue.enqueueRetryable(m(function*(){C("RemoteStore","Retrying IndexedDB access"),yield n(),t.wu.delete(1),yield Kl(t)}))}),Fb.apply(this,arguments)}function SF(t,e){return e().catch(n=>xf(t,n,e))}function Da(t){return Lb.apply(this,arguments)}function Lb(){return Lb=m(function*(t){const e=x(t),n=Ui(e);let r=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;eee(e);)try{const i=yield kZ(e.localStore,r);if(null===i){0===e.du.length&&n.$o();break}r=i.batchId,tee(e,i)}catch(i){yield xf(e,i)}xF(e)&&MF(e)}),Lb.apply(this,arguments)}function eee(t){return Vi(t)&&t.du.length<10}function tee(t,e){t.du.push(e);const n=Ui(t);n.Mo()&&n.Xo&&n.Zo(e.mutations)}function xF(t){return Vi(t)&&!Ui(t).ko()&&t.du.length>0}function MF(t){Ui(t).start()}function nee(t){return Vb.apply(this,arguments)}function Vb(){return Vb=m(function*(t){Ui(t).nu()}),Vb.apply(this,arguments)}function ree(t){return Ub.apply(this,arguments)}function Ub(){return Ub=m(function*(t){const e=Ui(t);for(const n of t.du)e.Zo(n.mutations)}),Ub.apply(this,arguments)}function iee(t,e,n){return Bb.apply(this,arguments)}function Bb(){return Bb=m(function*(t,e,n){const r=t.du.shift(),i=sb.from(r,e,n);yield SF(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Da(t)}),Bb.apply(this,arguments)}function see(t,e){return jb.apply(this,arguments)}function jb(){return jb=m(function*(t,e){var n;e&&Ui(t).Xo&&(yield(n=m(function*(r,i){if(EO(s=i.code)&&s!==v.ABORTED){const o=r.du.shift();Ui(r).Fo(),yield SF(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Da(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),xF(t)&&MF(t)}),jb.apply(this,arguments)}function kF(t,e){return $b.apply(this,arguments)}function $b(){return $b=m(function*(t,e){const n=x(t);n.asyncQueue.verifyOperationInProgress(),C("RemoteStore","RemoteStore received new credentials");const r=Vi(n);n.wu.add(3),yield ba(n),r&&n.yu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.wu.delete(3),yield Kl(n)}),$b.apply(this,arguments)}function Gb(){return Gb=m(function*(t,e){const n=x(t);e?(n.wu.delete(2),yield Kl(n)):e||(n.wu.add(2),yield ba(n),n.yu.set("Unknown"))}),Gb.apply(this,arguments)}function Ca(t){return t.Iu||(t.Iu=function(e,n,r){const i=x(e);return i.iu(),new WZ(n,i.So,i.authCredentials,i.appCheckCredentials,i.M,r)}(t.datastore,t.asyncQueue,{Xr:JZ.bind(null,t),eo:XZ.bind(null,t),zo:ZZ.bind(null,t)}),t.mu.push(function(){var e=m(function*(n){n?(t.Iu.Fo(),Nb(t)?kb(t):t.yu.set("Unknown")):(yield t.Iu.stop(),AF(t))});return function(n){return e.apply(this,arguments)}}())),t.Iu}function Ui(t){return t.Tu||(t.Tu=function(e,n,r){const i=x(e);return i.iu(),new zZ(n,i.So,i.authCredentials,i.appCheckCredentials,i.M,r)}(t.datastore,t.asyncQueue,{Xr:nee.bind(null,t),eo:see.bind(null,t),eu:ree.bind(null,t),tu:iee.bind(null,t)}),t.mu.push(function(){var e=m(function*(n){n?(t.Tu.Fo(),yield Da(t)):(yield t.Tu.stop(),t.du.length>0&&(C("RemoteStore",`Stopping write stream with ${t.du.length} pending writes`),t.du=[]))});return function(n){return e.apply(this,arguments)}}())),t.Tu}class qb{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new vt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new qb(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new D(v.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ta(t,e){if(Xe("AsyncQueue",`${e}: ${t}`),Rs(t))return new D(v.UNAVAILABLE,`${e}: ${t}`);throw t}class Aa{constructor(e){this.comparator=e?(n,r)=>e(n,r)||S.comparator(n.key,r.key):(n,r)=>S.comparator(n.key,r.key),this.keyedMap=ZI(),this.sortedSet=new He(this.comparator)}static emptySet(e){return new Aa(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Aa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Aa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class NF{constructor(){this.Eu=new He(S.comparator)}track(e){const n=e.doc.key,r=this.Eu.get(n);r?0!==e.type&&3===r.type?this.Eu=this.Eu.insert(n,e):3===e.type&&1!==r.type?this.Eu=this.Eu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Eu=this.Eu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Eu=this.Eu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Eu=this.Eu.remove(n):1===e.type&&2===r.type?this.Eu=this.Eu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Eu=this.Eu.insert(n,{type:2,doc:e.doc}):R():this.Eu=this.Eu.insert(n,e)}Au(){const e=[];return this.Eu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Sa{constructor(e,n,r,i,s,o,a,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u}static fromInitialDocuments(e,n,r,i){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new Sa(e,n,Aa.emptySet(n),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class oee{constructor(){this.Ru=void 0,this.listeners=[]}}class aee{constructor(){this.queries=new Pi(e=>sO(e),Sl),this.onlineState="Unknown",this.bu=new Set}}function zb(){return zb=m(function*(t,e){const n=x(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new oee),i)try{s.Ru=yield n.onListen(r)}catch(o){const a=Ta(o,`Initialization of query '${QI(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Pu(n.onlineState),s.Ru&&e.Vu(s.Ru)&&Yb(n)}),zb.apply(this,arguments)}function Qb(){return Qb=m(function*(t,e){const n=x(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),Qb.apply(this,arguments)}function uee(t,e){const n=x(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.Vu(i)&&(r=!0);o.Ru=i}}r&&Yb(n)}function lee(t,e,n){const r=x(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function Yb(t){t.bu.forEach(e=>{e.next()})}class Jb{constructor(e,n,r){this.query=e,this.vu=n,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}Vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Sa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),n=!0):this.xu(e,this.onlineState)&&(this.Nu(e),n=!0),this.Du=e,n}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let n=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),n=!0),n}xu(e,n){return!e.fromCache||!(this.options.ku&&"Offline"!==n||e.docs.isEmpty()&&"Offline"!==n)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=Sa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}class OF{constructor(e){this.key=e}}class FF{constructor(e){this.key=e}}class LF{constructor(e,n){this.query=e,this.Uu=n,this.qu=null,this.current=!1,this.Ku=pe(),this.mutatedKeys=pe(),this.Gu=aO(e),this.Qu=new Aa(this.Gu)}get ju(){return this.Uu}Wu(e,n){const r=n?n.zu:new NF,i=n?n.Qu:this.Qu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),f=YI(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let _=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),_=!0):this.Hu(h,f)||(r.track({type:2,doc:f}),_=!0,(u&&this.Gu(f,u)>0||l&&this.Gu(f,l)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),_=!0):h&&!f&&(r.track({type:1,doc:h}),_=!0,(u||l)&&(a=!0)),_&&(f?(o=o.add(f),s=g?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const c="F"===this.query.limitType?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Qu:o,zu:r,ii:a,mutatedKeys:s}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Au();s.sort((l,c)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return R()}};return f(d)-f(h)}(l.type,c.type)||this.Gu(l.doc,c.doc)),this.Ju(r);const o=n?this.Yu():[],a=0===this.Ku.size&&this.current?1:0,u=a!==this.qu;return this.qu=a,0!==s.length||u?{snapshot:new Sa(this.query,e.Qu,i,s,e.mutatedKeys,0===a,u,!1),Xu:o}:{Xu:o}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new NF,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.Uu=this.Uu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Uu=this.Uu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=pe(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const n=[];return e.forEach(r=>{this.Ku.has(r)||n.push(new FF(r))}),this.Ku.forEach(r=>{e.has(r)||n.push(new OF(r))}),n}ta(e){this.Uu=e._i,this.Ku=pe();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ea(){return Sa.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class hee{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class fee{constructor(e){this.key=e,this.na=!1}}class pee{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.sa={},this.ia=new Pi(a=>sO(a),Sl),this.ra=new Map,this.oa=new Set,this.ua=new He(S.comparator),this.aa=new Map,this.ca=new Eb,this.ha={},this.la=new Map,this.fa=Bs.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function gee(t,e){return Xb.apply(this,arguments)}function Xb(){return Xb=m(function*(t,e){const n=ED(t);let r,i;const s=n.ia.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.ea();else{const o=yield Ea(n.localStore,qn(e));n.isPrimaryClient&&Sf(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield Zb(n,e,r,"current"===a)}return i}),Xb.apply(this,arguments)}function Zb(t,e,n,r){return eD.apply(this,arguments)}function eD(){return eD=m(function*(t,e,n,r){t._a=(c,d,h)=>{return(f=m(function*(p,g,_,E){let y=g.view.Wu(_);y.ii&&(y=yield Df(p.localStore,g.query,!1).then(({documents:O})=>g.view.Wu(O,y)));const T=E&&E.targetChanges.get(g.targetId),P=g.view.applyChanges(y,p.isPrimaryClient,T);return cD(p,g.targetId,P.Xu),P.snapshot}),function(p,g,_,E){return f.apply(this,arguments)})(t,c,d,h);var f};const i=yield Df(t.localStore,e,!0),s=new LF(e,i._i),o=s.Wu(i.documents),a=Pl.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=s.applyChanges(o,t.isPrimaryClient,a);cD(t,n,u.Xu);const l=new hee(e,n,s);return t.ia.set(e,l),t.ra.has(n)?t.ra.get(n).push(e):t.ra.set(n,[e]),u.snapshot}),eD.apply(this,arguments)}function mee(t,e){return tD.apply(this,arguments)}function tD(){return tD=m(function*(t,e){const n=x(t),r=n.ia.get(e),i=n.ra.get(r.targetId);if(i.length>1)return n.ra.set(r.targetId,i.filter(s=>!Sl(s,e))),void n.ia.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Ia(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Ql(n.remoteStore,r.targetId),xa(n,r.targetId)}).catch(js))):(xa(n,r.targetId),yield Ia(n.localStore,r.targetId,!0))}),tD.apply(this,arguments)}function nD(){return nD=m(function*(t,e,n){const r=ID(t);try{const i=yield function(s,o){const a=x(s),u=Ze.now(),l=o.reduce((d,h)=>d.add(h.key),pe());let c;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>a.fi.Ks(d,l).next(h=>{c=h;const f=[];for(const p of o){const g=EX(p,c.get(p.key));null!=g&&f.push(new Ns(p.key,g,zP(g.value.mapValue),et.exists(!0)))}return a.Bs.addMutationBatch(d,u,f,o)})).then(d=>(d.applyToLocalDocumentSet(c),{batchId:d.batchId,changes:c}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.ha[s.currentUser.toKey()];u||(u=new He(K)),u=u.insert(o,a),s.ha[s.currentUser.toKey()]=u}(r,i.batchId,n),yield ui(r,i.changes),yield Da(r.remoteStore)}catch(i){const s=Ta(i,"Failed to persist write");n.reject(s)}}),nD.apply(this,arguments)}function VF(t,e){return rD.apply(this,arguments)}function rD(){return rD=m(function*(t,e){const n=x(t);try{const r=yield MZ(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.aa.get(s);o&&(j(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.na=!0:i.modifiedDocuments.size>0?j(o.na):i.removedDocuments.size>0&&(j(o.na),o.na=!1))}),yield ui(n,r,e)}catch(r){yield js(r)}}),rD.apply(this,arguments)}function UF(t,e,n){const r=x(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ia.forEach((s,o)=>{const a=o.view.Pu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=x(s);a.onlineState=o;let u=!1;a.queries.forEach((l,c)=>{for(const d of c.listeners)d.Pu(o)&&(u=!0)}),u&&Yb(a)}(r.eventManager,e),i.length&&r.sa.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function _ee(t,e,n){return iD.apply(this,arguments)}function iD(){return iD=m(function*(t,e,n){const r=x(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.aa.get(e),s=i&&i.key;if(s){let o=new He(S.comparator);o=o.insert(s,Te.newNoDocument(s,V.min()));const a=pe().add(s),u=new Rl(V.min(),new Map,new Ce(K),o,a);yield VF(r,u),r.ua=r.ua.remove(s),r.aa.delete(e),dD(r)}else yield Ia(r.localStore,e,!1).then(()=>xa(r,e,n)).catch(js)}),iD.apply(this,arguments)}function vee(t,e){return sD.apply(this,arguments)}function sD(){return sD=m(function*(t,e){const n=x(t),r=e.batch.batchId;try{const i=yield xZ(n.localStore,e);lD(n,r,null),uD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield ui(n,i)}catch(i){yield js(i)}}),sD.apply(this,arguments)}function wee(t,e,n){return oD.apply(this,arguments)}function oD(){return oD=m(function*(t,e,n){const r=x(t);try{const i=yield function(s,o){const a=x(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return a.Bs.lookupMutationBatch(u,o).next(c=>(j(null!==c),l=c.keys(),a.Bs.removeMutationBatch(u,c))).next(()=>a.Bs.performConsistencyCheck(u)).next(()=>a.fi.Ks(u,l))})}(r.localStore,e);lD(r,e,n),uD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield ui(r,i)}catch(i){yield js(i)}}),oD.apply(this,arguments)}function uD(t,e){(t.la.get(e)||[]).forEach(n=>{n.resolve()}),t.la.delete(e)}function lD(t,e,n){const r=x(t);let i=r.ha[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.ha[r.currentUser.toKey()]=i}}function xa(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ra.get(e))t.ia.delete(r),n&&t.sa.wa(r,n);t.ra.delete(e),t.isPrimaryClient&&t.ca.vi(e).forEach(r=>{t.ca.containsKey(r)||BF(t,r)})}function BF(t,e){t.oa.delete(e.path.canonicalString());const n=t.ua.get(e);null!==n&&(Ql(t.remoteStore,n),t.ua=t.ua.remove(e),t.aa.delete(n),dD(t))}function cD(t,e,n){for(const r of n)r instanceof OF?(t.ca.addReference(r.key,e),Iee(t,r)):r instanceof FF?(C("SyncEngine","Document no longer in limbo: "+r.key),t.ca.removeReference(r.key,e),t.ca.containsKey(r.key)||BF(t,r.key)):R()}function Iee(t,e){const n=e.key,r=n.path.canonicalString();t.ua.get(n)||t.oa.has(r)||(C("SyncEngine","New document in limbo: "+n),t.oa.add(r),dD(t))}function dD(t){for(;t.oa.size>0&&t.ua.size<t.maxConcurrentLimboResolutions;){const e=t.oa.values().next().value;t.oa.delete(e);const n=new S(de.fromString(e)),r=t.fa.next();t.aa.set(r,new fee(n)),t.ua=t.ua.insert(n,r),Sf(t.remoteStore,new Oi(qn(ha(n.path)),r,2,kn.A))}}function ui(t,e,n){return hD.apply(this,arguments)}function hD(){return hD=m(function*(t,e,n){const r=x(t),i=[],s=[],o=[];var a;r.ia.isEmpty()||(r.ia.forEach((a,u)=>{o.push(r._a(u,e,n).then(l=>{if(l){r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l.fromCache?"not-current":"current"),i.push(l);const c=mb.Ys(u.targetId,l);s.push(c)}}))}),yield Promise.all(o),r.sa.zo(i),yield(a=m(function*(u,l){const c=x(u);try{yield c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>w.forEach(l,h=>w.forEach(h.Hs,f=>c.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>w.forEach(h.Js,f=>c.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Rs(d))throw d;C("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const h=d.targetId;if(!d.fromCache){const f=c.ui.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);c.ui=c.ui.insert(h,g)}}}),function(u,l){return a.apply(this,arguments)})(r.localStore,s))}),hD.apply(this,arguments)}function bee(t,e){return fD.apply(this,arguments)}function fD(){return fD=m(function*(t,e){const n=x(t);if(!n.currentUser.isEqual(e)){C("SyncEngine","User change. New user:",e.toKey());const r=yield pF(n.localStore,e);n.currentUser=e,(i=n).la.forEach(o=>{o.forEach(a=>{a.reject(new D(v.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.la.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ui(n,r.di)}var i}),fD.apply(this,arguments)}function Dee(t,e){const n=x(t),r=n.aa.get(e);if(r&&r.na)return pe().add(r.key);{let i=pe();const s=n.ra.get(e);if(!s)return i;for(const o of s){const a=n.ia.get(o);i=i.unionWith(a.view.ju)}return i}}function ED(t){const e=x(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=VF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Dee.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_ee.bind(null,e),e.sa.zo=uee.bind(null,e.eventManager),e.sa.wa=lee.bind(null,e.eventManager),e}function ID(t){const e=x(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vee.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wee.bind(null,e),e}class Ree{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return m(function*(){n.M=zl(e.databaseInfo.databaseId),n.sharedClientState=n.ga(e),n.persistence=n.ya(e),yield n.persistence.start(),n.gcScheduler=n.pa(e),n.localStore=n.Ia(e)})()}pa(e){return null}Ia(e){return function fF(t,e,n,r){return new SZ(t,e,n,r)}(this.persistence,new hF,e.initialUser,this.M)}ya(e){return new BZ(Ib.Yi,this.M)}ga(e){return new IF}terminate(){var e=this;return m(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class bD{initialize(e,n){var r=this;return m(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>UF(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=bee.bind(null,r.syncEngine),yield function Hb(t,e){return Gb.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new aee}createDatastore(e){const n=zl(e.databaseInfo.databaseId),r=new qZ(e.databaseInfo);return new KZ(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>UF(this.syncEngine,a,0),o=bF.vt()?new bF:new $Z,new YZ(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,l){const c=new pee(r,i,s,o,a,u);return l&&(c.da=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=m(function*(n){const r=x(n);C("RemoteStore","RemoteStore shutting down."),r.wu.add(5),yield ba(r),r.gu.shutdown(),r.yu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class Mf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Uee{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Nt.UNAUTHENTICATED,this.clientId=OP.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=m(function*(a){C("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(C("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return m(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new D(v.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new vt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(m(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Ta(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function GF(t,e){return DD.apply(this,arguments)}function DD(){return DD=m(function*(t,e){t.asyncQueue.verifyOperationInProgress(),C("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=m(function*(s){r.isEqual(s)||(yield pF(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}),DD.apply(this,arguments)}function qF(t,e){return CD.apply(this,arguments)}function CD(){return CD=m(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield TD(t);C("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>kF(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>kF(e.remoteStore,s)),t.onlineComponents=e}),CD.apply(this,arguments)}function TD(t){return AD.apply(this,arguments)}function AD(){return AD=m(function*(t){return t.offlineComponents||(C("FirestoreClient","Using default OfflineComponentProvider"),yield GF(t,new Ree)),t.offlineComponents}),AD.apply(this,arguments)}function kf(t){return SD.apply(this,arguments)}function SD(){return SD=m(function*(t){return t.onlineComponents||(C("FirestoreClient","Using default OnlineComponentProvider"),yield qF(t,new bD)),t.onlineComponents}),SD.apply(this,arguments)}function Ma(t){return kD.apply(this,arguments)}function kD(){return kD=m(function*(t){const e=yield kf(t),n=e.eventManager;return n.onListen=gee.bind(null,e.syncEngine),n.onUnlisten=mee.bind(null,e.syncEngine),n}),kD.apply(this,arguments)}const YF=new Map;function ND(t,e,n){if(!n)throw new D(v.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function JF(t){if(!S.isDocumentKey(t))throw new D(v.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function XF(t){if(S.isDocumentKey(t))throw new D(v.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Nf(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":R()}function fe(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new D(v.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Nf(t);throw new D(v.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class eL{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new D(v.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new D(v.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function Kee(t,e,n,r){if(!0===e&&!0===r)throw new D(v.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yl{constructor(e,n,r){this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eL({}),this._settingsFrozen=!1,e instanceof Mi?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new D(v.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mi(i.options.projectId)}(e))}get app(){if(!this._app)throw new D(v.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new D(v.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eL(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new qJ;switch(n.type){case"gapi":const r=n.client;return j(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new QJ(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new D(v.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=YF.get(e);n&&(C("ComponentProvider","Removing Datastore"),YF.delete(e),n.terminate())}(this),Promise.resolve()}}class Ge{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ge(this.firestore,e,this._key)}}class Wt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Wt(this.firestore,e,this._query)}}class Mr extends Wt{constructor(e,n,r){super(e,n,ha(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ge(this.firestore,null,new S(e))}withConverter(e){return new Mr(this.firestore,e,this._path)}}function Qee(t,e,...n){if(t=Hn(t),ND("collection","path",e),t instanceof Yl){const r=de.fromString(e,...n);return XF(r),new Mr(t,null,r)}{if(!(t instanceof Ge||t instanceof Mr))throw new D(v.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(de.fromString(e,...n));return XF(r),new Mr(t.firestore,null,r)}}class Xee{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new Ab(this,"async_queue_retry"),this.Qa=()=>{const n=Af();n&&C("AsyncQueue","Visibility state changed to "+n.visibilityState),this.No.Po()};const e=Af();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const n=Af();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise(()=>{});const n=new vt;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.$a.push(e),this.za()))}za(){var e=this;return m(function*(){if(0!==e.$a.length){try{yield e.$a[0](),e.$a.shift(),e.No.reset()}catch(n){if(!Rs(n))throw n;C("AsyncQueue","Operation failed with retryable error: "+n)}e.$a.length>0&&e.No.Ro(()=>e.za())}})()}Wa(e){const n=this.Fa.then(()=>(this.qa=!0,e().catch(r=>{throw this.Ua=r,this.qa=!1,Xe("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.qa=!1,r))));return this.Fa=n,n}enqueueAfterDelay(e,n,r){this.ja(),this.Ga.indexOf(e)>-1&&(n=0);const i=qb.createAndSchedule(this,e,n,r,s=>this.Ha(s));return this.La.push(i),i}ja(){this.Ua&&R()}verifyOperationInProgress(){}Ja(){var e=this;return m(function*(){let n;do{n=e.Fa,yield n}while(n!==e.Fa)})()}Ya(e){for(const n of this.La)if(n.timerId===e)return!0;return!1}Xa(e){return this.Ja().then(()=>{this.La.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.La)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Ja()})}Za(e){this.Ga.push(e)}Ha(e){const n=this.La.indexOf(e);this.La.splice(n,1)}}function RD(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class Ne extends Yl{constructor(e,n,r){super(e,n,r),this.type="firestore",this._queue=new Xee,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||tL(this),this._firestoreClient.terminate()}}function ete(t=Hk()){return Zd(t,"firestore").getImmediate()}function lt(t){return t._firestoreClient||tL(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function tL(t){var e;const n=t._freezeSettings(),r=(s=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new eX(t._databaseId,s,t._persistenceKey,(a=n).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;t._firestoreClient=new Uee(t._authCredentials,t._appCheckCredentials,t._queue,r)}class ka{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new D(v.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Hs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hs(ut.fromBase64String(e))}catch(n){throw new D(v.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Hs(ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class iL{constructor(e){this._methodName=e}}class PD{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new D(v.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new D(v.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return K(this._lat,e._lat)||K(this._long,e._long)}}const tte=/^__.*__$/;class nte{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Ns(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ml(e,this.data,n,this.fieldTransforms)}}function oL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw R()}}class Rf{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===s&&this.tc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new Rf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.nc({path:r,ic:!1});return i.rc(e),i}oc(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.nc({path:r,ic:!1});return i.tc(),i}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return Of(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(oL(this.ec)&&tte.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class rte{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.M=r||zl(e)}lc(e,n,r,i=!1){return new Rf({ec:e,methodName:n,hc:r,path:wt.emptyPath(),ic:!1,cc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Na(t){const e=t._freezeSettings(),n=zl(t._databaseId);return new rte(t._databaseId,!!e.ignoreUndefinedProperties,n)}function OD(t,e,n,r,i,s={}){const o=t.lc(s.merge||s.mergeFields?2:0,e,n,i);LD("Data must be an object, but it was:",o,r);const a=dL(r,o);let u,l;if(s.merge)u=new ua(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=VD(e,d,n);if(!o.contains(h))throw new D(v.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);fL(c,h)||c.push(h)}u=new ua(c),l=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,l=o.fieldTransforms;return new nte(new qt(a),u,l)}function Gs(t,e){if(hL(t=Hn(t)))return LD("Unsupported field value:",e,t),dL(t,e);if(t instanceof iL)return function(n,r){if(!oL(r.ec))throw r.ac(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ac(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ic&&4!==e.ec)throw e.ac("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Gs(o,r.uc(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=Hn(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return cO(r.M,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Ze.fromDate(n);return{timestampValue:Ol(r.M,i)}}if(n instanceof Ze){const i=new Ze(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Ol(r.M,i)}}if(n instanceof PD)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Hs)return{bytesValue:SO(r.M,n._byteString)};if(n instanceof Ge){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ac(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:eb(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ac(`Unsupported field value: ${Nf(n)}`)}(t,e)}function dL(t,e){const n={};return VP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ds(t,(r,i)=>{const s=Gs(i,e.sc(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function hL(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Ze||t instanceof PD||t instanceof Hs||t instanceof Ge||t instanceof iL)}function LD(t,e,n){if(!hL(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Nf(n);throw e.ac("an object"===r?t+" a custom object":t+" "+r)}var r}function VD(t,e,n){if((e=Hn(e))instanceof ka)return e._internalPath;if("string"==typeof e)return Pf(t,e);throw Of("Field path arguments must be of type string or ",t,!1,void 0,n)}const ate=new RegExp("[~\\*/\\[\\]]");function Pf(t,e,n){if(e.search(ate)>=0)throw Of(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ka(...e.split("."))._internalPath}catch(r){throw Of(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Of(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new D(v.INVALID_ARGUMENT,a+t+u)}function fL(t,e){return t.some(n=>n.isEqual(e))}class UD{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ge(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ute(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ff("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class ute extends UD{data(){return super.data()}}function Ff(t,e){return"string"==typeof e?Pf(t,e):e instanceof ka?e._internalPath:e._delegate._internalPath}class qs{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ra extends UD{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Lf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ff("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Lf extends Ra{data(e={}){return super.data(e)}}class Pa{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new qs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Lf(this._firestore,this._userDataWriter,r.key,r,new qs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new D(v.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Lf(r._firestore,r._userDataWriter,o.doc.key,o.doc,new qs(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Lf(r._firestore,r._userDataWriter,o.doc.key,o.doc,new qs(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,l=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),l=s.indexOf(o.doc.key)),{type:lte(o.type),doc:a,oldIndex:u,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function lte(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return R()}}class Ws extends class fte{convertValue(e,n="none"){switch(Ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ue(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Cs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw R()}}convertObject(e,n){const r={};return Ds(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new PD(Ue(e.latitude),Ue(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=UP(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(wl(e));default:return null}}convertTimestamp(e){const n=xi(e);return new Ze(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=de.fromString(e);j(VO(r));const i=new Mi(r.get(1),r.get(3)),s=new S(r.popFirst(5));return i.isEqual(n)||Xe(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ge(this.firestore,null,n)}}function gte(t,e){const n=fe(t.firestore,Ne),r=function Yee(t,e,...n){if(t=Hn(t),1===arguments.length&&(e=OP.R()),ND("doc","path",e),t instanceof Yl){const r=de.fromString(e,...n);return JF(r),new Ge(t,null,new S(r))}{if(!(t instanceof Ge||t instanceof Mr))throw new D(v.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(de.fromString(e,...n));return JF(r),new Ge(t.firestore,t instanceof Mr?t.converter:null,new S(r))}}(t),i=function BD(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return function Xl(t,e){return function(n,r){const i=new vt;return n.asyncQueue.enqueueAndForget(m(function*(){return function yee(t,e,n){return nD.apply(this,arguments)}(yield function MD(t){return kf(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(lt(t),e)}(n,[OD(Na(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,et.exists(!1))]).then(()=>r)}!function(t,e=!0){oa="9.8.1",en(new Ht("firestore",(n,{options:r})=>{const i=n.getProvider("app").getImmediate(),s=new Ne(i,new zJ(n.getProvider("auth-internal")),new YJ(n.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),$e(NP,"3.4.9",t),$e(NP,"3.4.9","esm2017")}();var _te={includeMetadataChanges:!1};function $D(t,e){return void 0===e&&(e=_te),new Re(function(n){var r=function mte(t,...e){var n,r,i;t=Hn(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||RD(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(RD(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,l,c;if(t instanceof Ge)l=fe(t.firestore,Ne),c=ha(t._key.path),u={next:d=>{e[o]&&e[o](function jD(t,e,n){const r=n.docs.get(e._key),i=new Ws(t);return new Ra(t,i,e._key,r,new qs(n.hasPendingWrites,n.fromCache),e.converter)}(l,t,d))},error:e[o+1],complete:e[o+2]};else{const d=fe(t,Wt);l=fe(d.firestore,Ne),c=d._query;const h=new Ws(l);u={next:f=>{e[o]&&e[o](new Pa(l,h,d,f))},error:e[o+1],complete:e[o+2]},function pL(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new D(v.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const g=new Mf(p),_=new Jb(h,g,f);return d.asyncQueue.enqueueAndForget(m(function*(){return function Wb(t,e){return zb.apply(this,arguments)}(yield Ma(d),_)})),()=>{g.Aa(),d.asyncQueue.enqueueAndForget(m(function*(){return function Kb(t,e){return Qb.apply(this,arguments)}(yield Ma(d),_)}))}}(lt(l),c,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function Cte(t,e){return void 0===e&&(e={}),function Dte(t){return $D(t,{includeMetadataChanges:!0}).pipe(ye(function(e){return e.docs}))}(t).pipe(ye(function(n){return n.map(function(r){return function bL(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}class Uf{constructor(e){return e}}const AL="firestore",qD=new z("angularfire2.firestore-instances");function Ste(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Uf(r)}}const xte={provide:class Tte{constructor(){return Pv(AL)}},deps:[[new gt,qD]]},Mte={provide:Uf,useFactory:function Ate(t,e){const n=function Rv(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(AL,t,e);return n&&new Uf(n)},deps:[[new gt,qD],Xo]};let kte=(()=>{class t{constructor(){$e("angularfire",Cv.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=En({type:t}),t.\u0275inj=un({providers:[Mte,xte]}),t})();function Nte(t,...e){return{ngModule:kte,providers:[{provide:qD,useFactory:Ste(t),multi:!0,deps:[Ke,Bt,WN,zN,[new gt,zR],[new gt,m1],...e]}]}}const Rte=Hu(Cte,!0),Pte=Hu(gte,!0),SL=Hu(Qee,!0),Ote=Hu(ete,!0);function X(...t){return ft(t,Ha(t))}class lr extends Pr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:Fte}=Array,{getPrototypeOf:Lte,prototype:Vte,keys:Ute}=Object;function xL(t){if(1===t.length){const e=t[0];if(Fte(e))return{args:e,keys:null};if(function Bte(t){return t&&"object"==typeof t&&Lte(t)===Vte}(e)){const n=Ute(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:jte}=Array;function ML(t){return ye(e=>function $te(t,e){return jte(e)?t(...e):t(e)}(t,e))}function kL(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function NL(t,e,n){t?Or(n,t,e):e()}function Bf(t,e){const n=se(t)?t:()=>t,r=i=>i.error(n());return new Re(e?i=>e.schedule(r,0,i):r)}const jf=ct(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function WD(...t){return function qte(){return $a(1)}()(ft(t,Ha(t)))}function RL(t){return new Re(e=>{dr(t()).subscribe(e)})}function PL(){return Dt((t,e)=>{let n=null;t._refCount++;const r=dt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class Wte extends Re{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,ZC(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new _n;const n=this.getSubject();e.add(this.source.subscribe(dt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=_n.EMPTY)}return e}refCount(){return PL()(this)}}function zs(t,e){return Dt((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(dt(r,u=>{null==i||i.unsubscribe();let l=0;const c=s++;dr(t(u,c)).subscribe(i=dt(r,d=>r.next(e?e(u,d,c,l++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Kte(t,e,n,r,i){return(s,o)=>{let a=n,u=e,l=0;s.subscribe(dt(o,c=>{const d=l++;u=a?t(u,c,d):(a=!0,c),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function OL(t,e){return Dt(Kte(t,e,arguments.length>=2,!0))}function Oa(t,e){return Dt((n,r)=>{let i=0;n.subscribe(dt(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Bi(t){return Dt((e,n)=>{let s,r=null,i=!1;r=e.subscribe(dt(n,void 0,void 0,o=>{s=dr(t(o,Bi(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Zl(t,e){return se(e)?ht(t,e,1):ht(t,1)}function zD(t){return t<=0?()=>Fr:Dt((e,n)=>{let r=[];e.subscribe(dt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function FL(t=Qte){return Dt((e,n)=>{let r=!1;e.subscribe(dt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Qte(){return new jf}function LL(t){return Dt((e,n)=>{let r=!1;e.subscribe(dt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Fa(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Oa((i,s)=>t(i,s,r)):zi,Cc(1),n?LL(e):FL(()=>new jf))}class li{constructor(e,n){this.id=e,this.url=n}}class KD extends li{constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ec extends li{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class VL extends li{constructor(e,n,r){super(e,n),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Xte extends li{constructor(e,n,r){super(e,n),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Zte extends li{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ene extends li{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tne extends li{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class nne extends li{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rne extends li{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class UL{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class BL{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ine{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sne{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class one{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ane{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jL{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ne="primary";class une{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function La(t){return new une(t)}const $L="ngNavigationCancelingError";function QD(t){const e=Error("NavigationCancelingError: "+t);return e[$L]=!0,e}function cne(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function kr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!HL(t[i],e[i]))return!1;return!0}function HL(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function GL(t){return Array.prototype.concat.apply([],t)}function qL(t){return t.length>0?t[t.length-1]:null}function Ot(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Nr(t){return mm(t)?t:wu(t)?ft(Promise.resolve(t)):X(t)}const fne={exact:function KL(t,e,n){if(!Qs(t.segments,e.segments)||!$f(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!KL(t.children[r],e.children[r],n))return!1;return!0},subset:QL},WL={exact:function pne(t,e){return kr(t,e)},subset:function gne(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>HL(t[n],e[n]))},ignored:()=>!0};function zL(t,e,n){return fne[n.paths](t.root,e.root,n.matrixParams)&&WL[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function QL(t,e,n){return YL(t,e,e.segments,n)}function YL(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Qs(i,n)||e.hasChildren()||!$f(i,n,r))}if(t.segments.length===n.length){if(!Qs(t.segments,n)||!$f(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!QL(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Qs(t.segments,i)&&$f(t.segments,i,r)&&t.children[ne])&&YL(t.children[ne],e,s,r)}}function $f(t,e,n){return e.every((r,i)=>WL[n](t[i].parameters,r.parameters))}class Ks{constructor(e,n,r){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=La(this.queryParams)),this._queryParamMap}toString(){return _ne.serialize(this)}}class oe{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Ot(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Hf(this)}}class tc{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=La(this.parameters)),this._parameterMap}toString(){return tV(this)}}function Qs(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}class JL{}class XL{parse(e){const n=new Ane(e);return new Ks(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${nc(e.root,!0)}`,r=function Ene(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Gf(n)}=${Gf(i)}`).join("&"):`${Gf(n)}=${Gf(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function vne(t){return encodeURI(t)}(e.fragment)}`:"";return`${n}${r}${i}`}}const _ne=new XL;function Hf(t){return t.segments.map(e=>tV(e)).join("/")}function nc(t,e){if(!t.hasChildren())return Hf(t);if(e){const n=t.children[ne]?nc(t.children[ne],!1):"",r=[];return Ot(t.children,(i,s)=>{s!==ne&&r.push(`${s}:${nc(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function yne(t,e){let n=[];return Ot(t.children,(r,i)=>{i===ne&&(n=n.concat(e(r,i)))}),Ot(t.children,(r,i)=>{i!==ne&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===ne?[nc(t.children[ne],!1)]:[`${i}:${nc(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ne]?`${Hf(t)}/${n[0]}`:`${Hf(t)}/(${n.join("//")})`}}function ZL(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Gf(t){return ZL(t).replace(/%3B/gi,";")}function YD(t){return ZL(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qf(t){return decodeURIComponent(t)}function eV(t){return qf(t.replace(/\+/g,"%20"))}function tV(t){return`${YD(t.path)}${function wne(t){return Object.keys(t).map(e=>`;${YD(e)}=${YD(t[e])}`).join("")}(t.parameters)}`}const Ine=/^[^\/()?;=#]+/;function Wf(t){const e=t.match(Ine);return e?e[0]:""}const bne=/^[^=?&#]+/,Cne=/^[^&#]+/;class Ane{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new oe([],{}):new oe([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ne]=new oe(e,n)),r}parseSegment(){const e=Wf(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new tc(qf(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=Wf(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Wf(this.remaining);i&&(r=i,this.capture(r))}e[qf(n)]=qf(r)}parseQueryParam(e){const n=function Dne(t){const e=t.match(bne);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function Tne(t){const e=t.match(Cne);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=eV(n),s=eV(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Wf(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ne);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[ne]:new oe([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class nV{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=JD(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=JD(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=XD(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return XD(e,this._root).map(n=>n.value)}}function JD(t,e){if(t===e.value)return e;for(const n of e.children){const r=JD(t,n);if(r)return r}return null}function XD(t,e){if(t===e.value)return[e];for(const n of e.children){const r=XD(t,n);if(r.length)return r.unshift(e),r}return[]}class ci{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Va(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class rV extends nV{constructor(e,n){super(e),this.snapshot=n,ZD(this,e)}toString(){return this.snapshot.toString()}}function iV(t,e){const n=function Sne(t,e){const o=new zf([],{},{},"",{},ne,e,null,t.root,-1,{});return new oV("",new ci(o,[]))}(t,e),r=new lr([new tc("",{})]),i=new lr({}),s=new lr({}),o=new lr({}),a=new lr(""),u=new Ua(r,i,o,a,s,ne,e,n.root);return u.snapshot=n.root,new rV(new ci(u,[]),n)}class Ua{constructor(e,n,r,i,s,o,a,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ye(e=>La(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ye(e=>La(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function sV(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function xne(t){return t.reduce((e,n)=>({params:Object.assign(Object.assign({},e.params),n.params),data:Object.assign(Object.assign({},e.data),n.data),resolve:Object.assign(Object.assign({},e.resolve),n._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class zf{constructor(e,n,r,i,s,o,a,u,l,c,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=l,this._lastPathIndex=c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=La(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=La(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class oV extends nV{constructor(e,n){super(n),this.url=e,ZD(this,n)}toString(){return aV(this._root)}}function ZD(t,e){e.value._routerState=t,e.children.forEach(n=>ZD(t,n))}function aV(t){const e=t.children.length>0?` { ${t.children.map(aV).join(", ")} } `:"";return`${t.value}${e}`}function eC(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,kr(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),kr(e.params,n.params)||t.params.next(n.params),function dne(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!kr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),kr(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function tC(t,e){const n=kr(t.params,e.params)&&function mne(t,e){return Qs(t,e)&&t.every((n,r)=>kr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||tC(t.parent,e.parent))}function rc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function kne(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return rc(t,r,i);return rc(t,r)})}(t,e,n);return new ci(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>rc(t,a)),o}}const r=function Nne(t){return new Ua(new lr(t.url),new lr(t.params),new lr(t.queryParams),new lr(t.fragment),new lr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>rc(t,s));return new ci(r,i)}}function Kf(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ic(t){return"object"==typeof t&&null!=t&&t.outlets}function nC(t,e,n,r,i){let s={};if(r&&Ot(r,(a,u)=>{s[u]=Array.isArray(a)?a.map(l=>`${l}`):`${a}`}),t===e)return new Ks(n,s,i);const o=uV(t,e,n);return new Ks(o,s,i)}function uV(t,e,n){const r={};return Ot(t.children,(i,s)=>{r[s]=i===e?n:uV(i,e,n)}),new oe(t.segments,r)}class lV{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Kf(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(ic);if(i&&i!==qL(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class rC{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function cV(t,e,n){if(t||(t=new oe([],{})),0===t.segments.length&&t.hasChildren())return Qf(t,e,n);const r=function Vne(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(ic(a))break;const u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&l&&"object"==typeof l&&void 0===l.outlets){if(!hV(u,l,o))return s;r+=2}else{if(!hV(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new oe(t.segments.slice(0,r.pathIndex),{});return s.children[ne]=new oe(t.segments.slice(r.pathIndex),t.children),Qf(s,0,i)}return r.match&&0===i.length?new oe(t.segments,{}):r.match&&!t.hasChildren()?iC(t,e,n):r.match?Qf(t,0,i):iC(t,e,n)}function Qf(t,e,n){if(0===n.length)return new oe(t.segments,{});{const r=function Lne(t){return ic(t[0])?t[0].outlets:{[ne]:t}}(n),i={};return Ot(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=cV(t.children[o],e,s))}),Ot(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new oe(t.segments,i)}}function iC(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(ic(s)){const u=Une(s.outlets);return new oe(r,u)}if(0===i&&Kf(n[0])){r.push(new tc(t.segments[e].path,dV(n[0]))),i++;continue}const o=ic(s)?s.outlets[ne]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Kf(a)?(r.push(new tc(o,dV(a))),i+=2):(r.push(new tc(o,{})),i++)}return new oe(r,{})}function Une(t){const e={};return Ot(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=iC(new oe([],{}),0,n))}),e}function dV(t){const e={};return Ot(t,(n,r)=>e[r]=`${n}`),e}function hV(t,e,n){return t==n.path&&kr(e,n.parameters)}class jne{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),eC(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Va(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Ot(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Va(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Va(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=Va(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new ane(s.value.snapshot))}),e.children.length&&this.forwardEvent(new sne(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(eC(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),eC(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=function $ne(t){for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(i.snapshot),u=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=u,o.outlet&&o.outlet.activateWith(i,u),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class sC{constructor(e,n){this.routes=e,this.module=n}}function ji(t){return"function"==typeof t}function Ys(t){return t instanceof Ks}const sc=Symbol("INITIAL_VALUE");function oc(){return zs(t=>function Hte(...t){const e=Ha(t),n=pT(t),{args:r,keys:i}=xL(t);if(0===r.length)return ft([],e);const s=new Re(function Gte(t,e,n=zi){return r=>{NL(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)NL(e,()=>{const l=ft(t[u],e);let c=!1;l.subscribe(dt(r,d=>{s[u]=d,c||(c=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>kL(i,o):zi));return n?s.pipe(ML(n)):s}(t.map(e=>e.pipe(Cc(1),function zte(...t){const e=Ha(t);return Dt((n,r)=>{(e?WD(t,n,e):WD(t,n)).subscribe(r)})}(sc)))).pipe(OL((e,n)=>{let r=!1;return n.reduce((i,s,o)=>i!==sc?i:(s===sc&&(r=!0),r||!1!==s&&o!==n.length-1&&!Ys(s)?i:s),e)},sc),Oa(e=>e!==sc),ye(e=>Ys(e)?e:!0===e),Cc(1)))}class Kne{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ac,this.attachRef=null}}class ac{constructor(){this.contexts=new Map}onChildOutletCreated(e,n){const r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){const n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new Kne,this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}}let oC=(()=>{class t{constructor(n,r,i,s,o){this.parentContexts=n,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Ve,this.deactivateEvents=new Ve,this.attachEvents=new Ve,this.detachEvents=new Ve,this.name=s||ne,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;const o=(r=r||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,u=new Qne(n,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,u),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)(b(ac),b(rr),b(Au),function Za(t){return function FB(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(WT(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(nt(),t)}("name"),b(Md))},t.\u0275dir=B({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),t})();class Qne{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Ua?this.route:e===ac?this.childContexts:this.parent.get(e,n)}}let fV=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=fi({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,r){1&n&&Hr(0,"router-outlet")},directives:[oC],encapsulation:2}),t})();function pV(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Yne(r,Jne(e,r))}}function Yne(t,e){t.children&&pV(t.children,e)}function Jne(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function aC(t){const e=t.children&&t.children.map(aC),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ne&&(n.component=fV),n}function zn(t){return t.outlet||ne}function gV(t,e){const n=t.filter(r=>zn(r)===e);return n.push(...t.filter(r=>zn(r)!==e)),n}const mV={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Yf(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},mV):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const s=(e.matcher||cne)(n,t,e);if(!s)return Object.assign({},mV);const o={};Ot(s.posParams,(u,l)=>{o[l]=u.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,remainingSegments:n.slice(s.consumed.length),parameters:a,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function Jf(t,e,n,r,i="corrected"){if(n.length>0&&function ere(t,e,n){return n.some(r=>Xf(t,e,r)&&zn(r)!==ne)}(t,n,r)){const o=new oe(e,function Zne(t,e,n,r){const i={};i[ne]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&zn(s)!==ne){const o=new oe([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[zn(s)]=o}return i}(t,e,r,new oe(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function tre(t,e,n){return n.some(r=>Xf(t,e,r))}(t,n,r)){const o=new oe(t.segments,function Xne(t,e,n,r,i,s){const o={};for(const a of r)if(Xf(t,n,a)&&!i[zn(a)]){const u=new oe([],{});u._sourceSegment=t,u._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[zn(a)]=u}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const s=new oe(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Xf(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function yV(t,e,n,r){return!!(zn(t)===r||r!==ne&&Xf(e,n,t))&&("**"===t.path||Yf(e,t,n).matched)}function _V(t,e,n){return 0===e.length&&!t.children[n]}class Zf{constructor(e){this.segmentGroup=e||null}}class vV{constructor(e){this.urlTree=e}}function uc(t){return Bf(new Zf(t))}function wV(t){return Bf(new vV(t))}function nre(t){return Bf(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`))}class sre{constructor(e,n,r,i,s){this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(qr)}apply(){const e=Jf(this.urlTree.root,[],[],this.config).segmentGroup,n=new oe(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,n,ne).pipe(ye(s=>this.createUrlTree(uC(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Bi(s=>{if(s instanceof vV)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Zf?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,ne).pipe(ye(i=>this.createUrlTree(uC(i),e.queryParams,e.fragment))).pipe(Bi(i=>{throw i instanceof Zf?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,n,r){const i=e.segments.length>0?new oe([],{[ne]:e}):e;return new Ks(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(ye(s=>new oe([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return ft(i).pipe(Zl(s=>{const o=r.children[s],a=gV(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(ye(u=>({segment:u,outlet:s})))}),OL((s,o)=>(s[o.outlet]=o.segment,s),{}),function Yte(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Oa((i,s)=>t(i,s,r)):zi,zD(1),n?LL(e):FL(()=>new jf))}())}expandSegment(e,n,r,i,s,o){return ft(r).pipe(Zl(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(Bi(l=>{if(l instanceof Zf)return X(null);throw l}))),Fa(a=>!!a),Bi((a,u)=>{if(a instanceof jf||"EmptyError"===a.name)return _V(n,i,s)?X(new oe([],{})):uc(n);throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return yV(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):uc(n):uc(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?wV(s):this.lineralizeSegments(r,s).pipe(ht(o=>{const a=new oe(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:l,positionalParamSegments:c}=Yf(n,i,s);if(!a)return uc(n);const d=this.applyRedirectCommands(u,i.redirectTo,c);return i.redirectTo.startsWith("/")?wV(d):this.lineralizeSegments(i,d).pipe(ht(h=>this.expandSegment(e,n,r,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?X(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(ye(d=>(r._loadedConfig=d,new oe(i,{})))):X(new oe(i,{}));const{matched:o,consumedSegments:a,remainingSegments:u}=Yf(n,r,i);return o?this.getChildConfig(e,r,i).pipe(ht(c=>{const d=c.module,h=c.routes,{segmentGroup:f,slicedSegments:p}=Jf(n,a,u,h),g=new oe(f.segments,f.children);if(0===p.length&&g.hasChildren())return this.expandChildren(d,h,g).pipe(ye(T=>new oe(a,T)));if(0===h.length&&0===p.length)return X(new oe(a,{}));const _=zn(r)===s;return this.expandSegment(d,g,h,p,_?ne:s,!0).pipe(ye(y=>new oe(a.concat(y.segments),y.children)))})):uc(n)}getChildConfig(e,n,r){return n.children?X(new sC(n.children,e)):n.loadChildren?void 0!==n._loadedConfig?X(n._loadedConfig):this.runCanLoadGuards(e.injector,n,r).pipe(ht(i=>i?this.configLoader.load(e.injector,n).pipe(ye(s=>(n._loadedConfig=s,s))):function rre(t){return Bf(QD(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`))}(n))):X(new sC([],e))}runCanLoadGuards(e,n,r){const i=n.canLoad;if(!i||0===i.length)return X(!0);const s=i.map(o=>{const a=e.get(o);let u;if(function Gne(t){return t&&ji(t.canLoad)}(a))u=a.canLoad(n,r);else{if(!ji(a))throw new Error("Invalid CanLoad guard");u=a(n,r)}return Nr(u)});return X(s).pipe(oc(),pn(o=>{if(!Ys(o))return;const a=QD(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),ye(o=>!0===o))}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return X(r);if(i.numberOfChildren>1||!i.children[ne])return nre(e.redirectTo);i=i.children[ne]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreatreUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Ks(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Ot(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Ot(n.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new oe(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${n.path}'.`);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}function uC(t){const e={};for(const r of Object.keys(t.children)){const s=uC(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function ore(t){if(1===t.numberOfChildren&&t.children[ne]){const e=t.children[ne];return new oe(t.segments.concat(e.segments),e.children)}return t}(new oe(t.segments,e))}class EV{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class ep{constructor(e,n){this.component=e,this.route=n}}function ure(t,e,n){const r=t._root;return lc(r,e?e._root:null,n,[r.value])}function tp(t,e,n){const r=function cre(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function lc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Va(e);return t.children.forEach(o=>{(function dre(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function hre(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Qs(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Qs(t.url,e.url)||!kr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!tC(t,e)||!kr(t.queryParams,e.queryParams);default:return!tC(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new EV(r)):(s.data=o.data,s._resolvedData=o._resolvedData),lc(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ep(a.outlet.component,o))}else o&&cc(e,a,i),i.canActivateChecks.push(new EV(r)),lc(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Ot(s,(o,a)=>cc(o,n.getContext(a),i)),i}function cc(t,e,n){const r=Va(t),i=t.value;Ot(r,(s,o)=>{cc(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new ep(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Ere{}function IV(t){return new Re(e=>e.error(t))}class bre{constructor(e,n,r,i,s,o){this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=Jf(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,e,ne);if(null===n)return null;const r=new zf([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ne,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ci(r,n),s=new oV(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const n=e.value,r=sV(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(e,n):this.processSegment(e,n,n.segments,r)}processChildren(e,n){const r=[];for(const s of Object.keys(n.children)){const o=n.children[s],a=gV(e,s),u=this.processSegmentGroup(a,o,s);if(null===u)return null;r.push(...u)}const i=bV(r);return function Dre(t){t.sort((e,n)=>e.value.outlet===ne?-1:n.value.outlet===ne?1:e.value.outlet.localeCompare(n.value.outlet))}(i),i}processSegment(e,n,r,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,n,r,i);if(null!==o)return o}return _V(n,r,i)?[]:null}processSegmentAgainstRoute(e,n,r,i){if(e.redirectTo||!yV(e,n,r,i))return null;let s,o=[],a=[];if("**"===e.path){const f=r.length>0?qL(r).parameters:{};s=new zf(r,f,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,TV(e),zn(e),e.component,e,DV(n),CV(n)+r.length,AV(e))}else{const f=Yf(n,e,r);if(!f.matched)return null;o=f.consumedSegments,a=f.remainingSegments,s=new zf(o,f.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,TV(e),zn(e),e.component,e,DV(n),CV(n)+o.length,AV(e))}const u=function Cre(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(e),{segmentGroup:l,slicedSegments:c}=Jf(n,o,a,u.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);if(0===c.length&&l.hasChildren()){const f=this.processChildren(u,l);return null===f?null:[new ci(s,f)]}if(0===u.length&&0===c.length)return[new ci(s,[])];const d=zn(e)===i,h=this.processSegment(u,l,c,d?ne:i);return null===h?null:[new ci(s,h)]}}function Tre(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function bV(t){const e=[],n=new Set;for(const r of t){if(!Tre(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=bV(r.children);e.push(new ci(r.value,i))}return e.filter(r=>!n.has(r))}function DV(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function CV(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function TV(t){return t.data||{}}function AV(t){return t.resolve||{}}function SV(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function lC(t){return zs(e=>{const n=t(e);return n?ft(n).pipe(ye(()=>e)):X(e)})}class Pre extends class Rre{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}{}const cC=new z("ROUTES");class xV{constructor(e,n,r,i){this.injector=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,n){if(n._loader$)return n._loader$;this.onLoadStartListener&&this.onLoadStartListener(n);const i=this.loadModuleFactory(n.loadChildren).pipe(ye(s=>{this.onLoadEndListener&&this.onLoadEndListener(n);const o=s.create(e);return new sC(GL(o.injector.get(cC,void 0,$.Self|$.Optional)).map(aC),o)}),Bi(s=>{throw n._loader$=void 0,s}));return n._loader$=new Wte(i,()=>new Pr).pipe(PL()),n._loader$}loadModuleFactory(e){return Nr(e()).pipe(ht(n=>n instanceof zx?X(n):ft(this.compiler.compileModuleAsync(n))))}}class Fre{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}}function Lre(t){throw t}function Vre(t,e,n){return e.parse("/")}function MV(t,e){return X(null)}const Ure={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Bre={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Nn=(()=>{class t{constructor(n,r,i,s,o,a,u){this.rootComponentType=n,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Pr,this.errorHandler=Lre,this.malformedUriErrorHandler=Vre,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:MV,afterPreactivation:MV},this.urlHandlingStrategy=new Fre,this.routeReuseStrategy=new Pre,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(qr),this.console=o.get(pz);const d=o.get(Ke);this.isNgZoneEnabled=d instanceof Ke&&Ke.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=function hne(){return new Ks(new oe([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new xV(o,a,h=>this.triggerEvent(new UL(h)),h=>this.triggerEvent(new BL(h))),this.routerState=iV(this.currentUrlTree,this.rootComponentType),this.transitions=new lr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var n;return null===(n=this.location.getState())||void 0===n?void 0:n.\u0275routerPageId}setupNavigations(n){const r=this.events;return n.pipe(Oa(i=>0!==i.id),ye(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),zs(i=>{let s=!1,o=!1;return X(i).pipe(pn(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),zs(a=>{const u=this.browserUrlTree.toString(),l=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||l)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return kV(a.source)&&(this.browserUrlTree=a.extractedUrl),X(a).pipe(zs(d=>{const h=this.transitions.getValue();return r.next(new KD(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?Fr:Promise.resolve(d)}),function are(t,e,n,r){return zs(i=>function ire(t,e,n,r,i){return new sre(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(ye(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),pn(d=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function Are(t,e,n,r,i){return ht(s=>function Ire(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new bre(t,e,n,r,i,s).recognize();return null===o?IV(new Ere):X(o)}catch(o){return IV(o)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(ye(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),pn(d=>{if("eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new Zte(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(l&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:_}=a,E=new KD(h,this.serializeUrl(f),p,g);r.next(E);const y=iV(f,this.rootComponentType).snapshot;return X(Object.assign(Object.assign({},a),{targetSnapshot:y,urlAfterRedirects:f,extras:Object.assign(Object.assign({},_),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),Fr}),lC(a=>{const{targetSnapshot:u,id:l,extractedUrl:c,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.beforePreactivation(u,{navigationId:l,appliedUrlTree:c,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),pn(a=>{const u=new ene(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),ye(a=>Object.assign(Object.assign({},a),{guards:ure(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function fre(t,e){return ht(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?X(Object.assign(Object.assign({},n),{guardsResult:!0})):function pre(t,e,n,r){return ft(t).pipe(ht(i=>function wre(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?X(s.map(a=>{const u=tp(a,e,i);let l;if(function zne(t){return t&&ji(t.canDeactivate)}(u))l=Nr(u.canDeactivate(t,e,n,r));else{if(!ji(u))throw new Error("Invalid CanDeactivate guard");l=Nr(u(t,e,n,r))}return l.pipe(Fa())})).pipe(oc()):X(!0)}(i.component,i.route,n,e,r)),Fa(i=>!0!==i,!0))}(o,r,i,t).pipe(ht(a=>a&&function Hne(t){return"boolean"==typeof t}(a)?function gre(t,e,n,r){return ft(e).pipe(Zl(i=>WD(function yre(t,e){return null!==t&&e&&e(new ine(t)),X(!0)}(i.route.parent,r),function mre(t,e){return null!==t&&e&&e(new one(t)),X(!0)}(i.route,r),function vre(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function lre(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>RL(()=>X(o.guards.map(u=>{const l=tp(u,o.node,n);let c;if(function Wne(t){return t&&ji(t.canActivateChild)}(l))c=Nr(l.canActivateChild(r,t));else{if(!ji(l))throw new Error("Invalid CanActivateChild guard");c=Nr(l(r,t))}return c.pipe(Fa())})).pipe(oc())));return X(s).pipe(oc())}(t,i.path,n),function _re(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return X(!0);const i=r.map(s=>RL(()=>{const o=tp(s,e,n);let a;if(function qne(t){return t&&ji(t.canActivate)}(o))a=Nr(o.canActivate(e,t));else{if(!ji(o))throw new Error("Invalid CanActivate guard");a=Nr(o(e,t))}return a.pipe(Fa())}));return X(i).pipe(oc())}(t,i.route,n))),Fa(i=>!0!==i,!0))}(r,s,t,e):X(a)),ye(a=>Object.assign(Object.assign({},n),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),pn(a=>{if(Ys(a.guardsResult)){const l=QD(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw l.url=a.guardsResult,l}const u=new tne(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),Oa(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),lC(a=>{if(a.guards.canActivateChecks.length)return X(a).pipe(pn(u=>{const l=new nne(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(l)}),zs(u=>{let l=!1;return X(u).pipe(function Sre(t,e){return ht(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return X(n);let s=0;return ft(i).pipe(Zl(o=>function xre(t,e,n,r){return function Mre(t,e,n,r){const i=SV(t);if(0===i.length)return X({});const s={};return ft(i).pipe(ht(o=>function kre(t,e,n,r){const i=tp(t,e,r);return Nr(i.resolve?i.resolve(e,n):i(e,n))}(t[o],e,n,r).pipe(pn(a=>{s[o]=a}))),zD(1),ht(()=>SV(s).length===i.length?X(s):Fr))}(t._resolve,t,e,r).pipe(ye(s=>(t._resolvedData=s,t.data=Object.assign(Object.assign({},t.data),sV(t,n).resolve),null)))}(o.route,r,t,e)),pn(()=>s++),zD(1),ht(o=>s===i.length?X(n):Fr))})}(this.paramsInheritanceStrategy,this.ngModule.injector),pn({next:()=>l=!0,complete:()=>{l||(this.restoreHistory(u),this.cancelNavigationTransition(u,"At least one route resolver didn't emit any value."))}}))}),pn(u=>{const l=new rne(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(l)}))}),lC(a=>{const{targetSnapshot:u,id:l,extractedUrl:c,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.afterPreactivation(u,{navigationId:l,appliedUrlTree:c,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),ye(a=>{const u=function Mne(t,e,n){const r=rc(t,e._root,n?n._root:void 0);return new rV(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:u})}),pn(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((t,e,n)=>ye(r=>(new jne(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),pn({next(){s=!0},complete(){s=!0}}),function Jte(t){return Dt((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}(()=>{var a;s||o||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),Bi(a=>{if(o=!0,function lne(t){return t&&t[$L]}(a)){const u=Ys(a.url);u||(this.navigated=!0,this.restoreHistory(i,!0));const l=new VL(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(l),u?setTimeout(()=>{const c=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||kV(i.source)};this.scheduleNavigation(c,"imperative",null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const u=new Xte(i.id,this.serializeUrl(i.extractedUrl),a);r.next(u);try{i.resolve(this.errorHandler(a))}catch(l){i.reject(l)}}return Fr}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}setTransition(n){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),n))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const s={replaceUrl:!0},o=(null===(i=n.state)||void 0===i?void 0:i.navigationId)?n.state:null;if(o){const u=Object.assign({},o);delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n.url);this.scheduleNavigation(a,r,o,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){pV(n),this.config=n.map(aC),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,l=i||this.routerState.root,c=u?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function Rne(t,e,n,r,i){if(0===n.length)return nC(e.root,e.root,e.root,r,i);const s=function Pne(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new lV(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Ot(s.outlets,(u,l)=>{a[l]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new lV(n,e,r)}(n);if(s.toRoot())return nC(e.root,e.root,new oe([],{}),r,i);const o=function One(t,e,n){if(t.isAbsolute)return new rC(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const s=n.snapshot._urlSegment;return new rC(s,s===e.root,0)}const r=Kf(t.commands[0])?0:1;return function Fne(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new rC(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?Qf(o.segmentGroup,o.index,s.commands):cV(o.segmentGroup,o.index,s.commands);return nC(e.root,o.segmentGroup,a,r,i)}(l,this.currentUrlTree,n,d,null!=c?c:null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Ys(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function jre(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?Object.assign({},Ure):!1===r?Object.assign({},Bre):r,Ys(n))return zL(this.currentUrlTree,n,i);const s=this.parseUrl(n);return zL(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new ec(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,r,i,s,o){var a,u;if(this.disposed)return Promise.resolve(!1);let l,c,d;o?(l=o.resolve,c=o.reject,d=o.promise):d=new Promise((p,g)=>{l=p,c=g});const h=++this.navigationId;let f;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),f=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(u=this.browserPageId)&&void 0!==u?u:0)+1):f=0,this.setTransition({id:h,targetPageId:f,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:s,resolve:l,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(p=>Promise.reject(p))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(n,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,r){const i=new VL(n.id,this.serializeUrl(n.extractedUrl),r);this.triggerEvent(i),n.resolve(!1)}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){hm()},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})();function kV(t){return"imperative"!==t}let np=(()=>{class t{constructor(n,r,i){this.router=n,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new Pr,this.subscription=n.events.subscribe(s=>{s instanceof ec&&this.updateTargetUrlAndHref()})}set routerLink(n){this.commands=null!=n?Array.isArray(n)?n:[n]:null}ngOnChanges(n){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(n,r,i,s,o){if(0!==n||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:Ba(this.skipLocationChange),replaceUrl:Ba(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ba(this.preserveFragment)})}}return t.\u0275fac=function(n){return new(n||t)(b(Nn),b(Ua),b(Wo))},t.\u0275dir=B({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(n,r){1&n&&$t("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&n&&wr("target",r.target)("href",r.href,mg)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[On]}),t})();function Ba(t){return""===t||!!t}class NV{}class RV{preload(e,n){return X(null)}}let PV=(()=>{class t{constructor(n,r,i,s){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=new xV(i,r,u=>n.triggerEvent(new UL(u)),u=>n.triggerEvent(new BL(u)))}setUpPreloading(){this.subscription=this.router.events.pipe(Oa(n=>n instanceof ec),Zl(()=>this.preload())).subscribe(()=>{})}preload(){const n=this.injector.get(qr);return this.processRoutes(n,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(n,s)):s.children&&i.push(this.processRoutes(n,s.children));return ft(i).pipe($a(),ye(s=>{}))}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?X(r._loadedConfig):this.loader.load(n.injector,r)).pipe(ht(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return t.\u0275fac=function(n){return new(n||t)(F(Nn),F(xM),F(Bt),F(NV))},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})(),hC=(()=>{class t{constructor(n,r,i={}){this.router=n,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof KD?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof ec&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof jL&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.router.triggerEvent(new jL(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(n){hm()},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})();const Js=new z("ROUTER_CONFIGURATION"),OV=new z("ROUTER_FORROOT_GUARD"),qre=[uy,{provide:JL,useClass:XL},{provide:Nn,useFactory:function Yre(t,e,n,r,i,s,o={},a,u){const l=new Nn(null,t,e,n,r,i,GL(s));return a&&(l.urlHandlingStrategy=a),u&&(l.routeReuseStrategy=u),function Jre(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(e.canceledNavigationResolution=t.canceledNavigationResolution)}(o,l),o.enableTracing&&l.events.subscribe(c=>{var d,h;null===(d=console.group)||void 0===d||d.call(console,`Router Event: ${c.constructor.name}`),console.log(c.toString()),console.log(c),null===(h=console.groupEnd)||void 0===h||h.call(console)}),l},deps:[JL,ac,uy,Bt,xM,cC,Js,[class Ore{},new gt],[class Nre{},new gt]]},ac,{provide:Ua,useFactory:function Xre(t){return t.routerState.root},deps:[Nn]},PV,RV,class Gre{preload(e,n){return n().pipe(Bi(()=>X(null)))}},{provide:Js,useValue:{enableTracing:!1}}];function Wre(){return new PM("Router",Nn)}let FV=(()=>{class t{constructor(n,r){}static forRoot(n,r){return{ngModule:t,providers:[qre,LV(n),{provide:OV,useFactory:Qre,deps:[[Nn,new gt,new ou]]},{provide:Js,useValue:r||{}},{provide:Wo,useFactory:Kre,deps:[ss,[new Yc(ay),new gt],Js]},{provide:hC,useFactory:zre,deps:[Nn,T8,Js]},{provide:NV,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:RV},{provide:PM,multi:!0,useFactory:Wre},[fC,{provide:qm,multi:!0,useFactory:Zre,deps:[fC]},{provide:VV,useFactory:eie,deps:[fC]},{provide:SM,multi:!0,useExisting:VV}]]}}static forChild(n){return{ngModule:t,providers:[LV(n)]}}}return t.\u0275fac=function(n){return new(n||t)(F(OV,8),F(Nn,8))},t.\u0275mod=En({type:t}),t.\u0275inj=un({}),t})();function zre(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new hC(t,e,n)}function Kre(t,e,n={}){return n.useHash?new o3(t,e):new ZM(t,e)}function Qre(t){return"guarded"}function LV(t){return[{provide:jB,multi:!0,useValue:t},{provide:cC,multi:!0,useValue:t}]}let fC=(()=>{class t{constructor(n){this.injector=n,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Pr}appInitializer(){return this.injector.get(r3,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(Nn),o=this.injector.get(Js);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?X(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(n){const r=this.injector.get(Js),i=this.injector.get(PV),s=this.injector.get(hC),o=this.injector.get(Nn),a=this.injector.get(ey);n===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(n){return new(n||t)(F(Bt))},t.\u0275prov=ee({token:t,factory:t.\u0275fac}),t})();function Zre(t){return t.appInitializer.bind(t)}function eie(t){return t.bootstrapListener.bind(t)}const VV=new z("Router Initializer");let nie=(()=>{class t{constructor(n){this.firestore=n}getAll(){const n=SL(this.firestore,"books");return Rte(n,{idField:"id"})}create(n){const r=SL(this.firestore,"books");return Pte(r,n)}}return t.\u0275fac=function(n){return new(n||t)(F(Uf))},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function rie(t,e){if(1&t&&(re(0,"div",3)(1,"h2"),xe(2),ae(),re(3,"div")(4,"p"),xe(5),ae(),re(6,"p"),xe(7),ae()()()),2&t){const n=e.$implicit;pd("id","bk-",n.id,""),ze(2),yd(n.title),ze(3),_d("",n.author,", ",n.publishDate,""),ze(2),_d("Pages: ",n.pages,", Edition: ",n.edition,"")}}let iie=(()=>{class t{constructor(n){this.booksService=n,this.books=[]}ngOnInit(){this.booksService.getAll().subscribe(n=>{this.books=n})}addTestBook(){var n=this;return m(function*(){const r=yield n.booksService.create({title:"Test",author:"Test",publishDate:new Date,pages:100,edition:2});console.log(r)})()}}return t.\u0275fac=function(n){return new(n||t)(b(nie))},t.\u0275cmp=fi({type:t,selectors:[["lib-books"]],decls:6,vars:1,consts:[[1,"bg-primary","text-light","ps-3","pe-3","pt-2","pb-2"],[1,"btn","btn-dark",3,"click"],[3,"id",4,"ngFor","ngForOf"],[3,"id"]],template:function(n,r){1&n&&(re(0,"h1",0),xe(1,"Library Books"),ae(),re(2,"div")(3,"button",1),$t("click",function(){return r.addTestBook()}),xe(4,"Add Test Book"),ae()(),dn(5,rie,8,6,"div",2)),2&n&&(ze(5),Tt("ngForOf",r.books))},directives:[lk],styles:[""]}),t})(),UV=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(b(Gr),b(An))},t.\u0275dir=B({type:t}),t})(),Xs=(()=>{class t extends UV{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Vt(t)))(r||t)}}(),t.\u0275dir=B({type:t,features:[me]}),t})();const Rr=new z("NgValueAccessor"),aie={provide:Rr,useExisting:Ie(()=>dc),multi:!0},lie=new z("CompositionEventMode");let dc=(()=>{class t extends UV{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function uie(){const t=br()?br().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",null==n?"":n)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(b(Gr),b(An),b(lie,8))},t.\u0275dir=B({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&$t("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Me([aie]),me]}),t})();function $i(t){return null==t||0===t.length}function jV(t){return null!=t&&"number"==typeof t.length}const zt=new z("NgValidators"),Hi=new z("NgAsyncValidators"),cie=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class rp{static min(e){return function $V(t){return e=>{if($i(e.value)||$i(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function HV(t){return e=>{if($i(e.value)||$i(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return GV(e)}static requiredTrue(e){return function qV(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function WV(t){return $i(t.value)||cie.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function zV(t){return e=>$i(e.value)||!jV(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function KV(t){return e=>jV(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static pattern(e){return QV(e)}static nullValidator(e){return null}static compose(e){return tU(e)}static composeAsync(e){return nU(e)}}function GV(t){return $i(t.value)?{required:!0}:null}function QV(t){if(!t)return ip;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if($i(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function ip(t){return null}function YV(t){return null!=t}function JV(t){const e=wu(t)?ft(t):t;return mm(e),e}function XV(t){let e={};return t.forEach(n=>{e=null!=n?Object.assign(Object.assign({},e),n):e}),0===Object.keys(e).length?null:e}function ZV(t,e){return e.map(n=>n(t))}function eU(t){return t.map(e=>function die(t){return!t.validate}(e)?e:n=>e.validate(n))}function tU(t){if(!t)return null;const e=t.filter(YV);return 0==e.length?null:function(n){return XV(ZV(n,e))}}function pC(t){return null!=t?tU(eU(t)):null}function nU(t){if(!t)return null;const e=t.filter(YV);return 0==e.length?null:function(n){return function sie(...t){const e=pT(t),{args:n,keys:r}=xL(t),i=new Re(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,l=o;for(let c=0;c<o;c++){let d=!1;dr(n[c]).subscribe(dt(s,h=>{d||(d=!0,l--),a[c]=h},()=>u--,void 0,()=>{(!u||!d)&&(l||s.next(r?kL(r,a):a),s.complete())}))}});return e?i.pipe(ML(e)):i}(ZV(n,e).map(JV)).pipe(ye(XV))}}function gC(t){return null!=t?nU(eU(t)):null}function rU(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function iU(t){return t._rawValidators}function sU(t){return t._rawAsyncValidators}function mC(t){return t?Array.isArray(t)?t:[t]:[]}function sp(t,e){return Array.isArray(t)?t.includes(e):t===e}function oU(t,e){const n=mC(e);return mC(t).forEach(i=>{sp(n,i)||n.push(i)}),n}function aU(t,e){return mC(e).filter(n=>!sp(t,n))}class uU{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=pC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=gC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Gi extends uU{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class an extends uU{get formDirective(){return null}get path(){return null}}class lU{constructor(e){this._cd=e}is(e){var n,r,i;return"submitted"===e?!!(null===(n=this._cd)||void 0===n?void 0:n.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let yC=(()=>{class t extends lU{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(b(Gi,2))},t.\u0275dir=B({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&gd("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[me]}),t})(),_C=(()=>{class t extends lU{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(b(an,10))},t.\u0275dir=B({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&gd("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[me]}),t})();function ap(t,e){return[...e.path,t]}function hc(t,e){EC(t,e),e.valueAccessor.writeValue(t.value),function vie(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&dU(t,e)})}(t,e),function Eie(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function wie(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&dU(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function _ie(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function up(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),cp(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function lp(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function EC(t,e){const n=iU(t);null!==e.validator?t.setValidators(rU(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=sU(t);null!==e.asyncValidator?t.setAsyncValidators(rU(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();lp(e._rawValidators,i),lp(e._rawAsyncValidators,i)}function cp(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=iU(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(null!==e.asyncValidator){const i=sU(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}const r=()=>{};return lp(e._rawValidators,r),lp(e._rawAsyncValidators,r),n}function dU(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function hU(t,e){EC(t,e)}function IC(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}function pU(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function bC(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===dc?n=s:function Die(t){return Object.getPrototypeOf(t.constructor)===Xs}(s)?r=s:i=s}),i||r||n||null}function DC(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const fc="VALID",dp="INVALID",ja="PENDING",pc="DISABLED";function TC(t){return(hp(t)?t.validators:t)||null}function gU(t){return Array.isArray(t)?pC(t):t||null}function AC(t,e){return(hp(e)?e.asyncValidators:t)||null}function mU(t){return Array.isArray(t)?gC(t):t||null}function hp(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}const SC=t=>t instanceof gc,fp=t=>t instanceof mc,yU=t=>t instanceof EU;function _U(t){return SC(t)?t.value:t.getRawValue()}function vU(t,e){const n=fp(t),r=t.controls;if(!(n?Object.keys(r):r).length)throw new ue(1e3,"");if(!r[e])throw new ue(1001,"")}function wU(t,e){fp(t),t._forEachChild((r,i)=>{if(void 0===e[i])throw new ue(1002,"")})}class xC{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=n,this._composedValidatorFn=gU(this._rawValidators),this._composedAsyncValidatorFn=mU(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===fc}get invalid(){return this.status===dp}get pending(){return this.status==ja}get disabled(){return this.status===pc}get enabled(){return this.status!==pc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=gU(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=mU(e)}addValidators(e){this.setValidators(oU(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(oU(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(aU(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(aU(e,this._rawAsyncValidators))}hasValidator(e){return sp(this._rawValidators,e)}hasAsyncValidator(e){return sp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ja,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=pc,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=fc,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===fc||this.status===ja)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?pc:fc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ja,this._hasOwnPendingAsyncValidator=!0;const n=JV(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){return function Cie(t,e,n){if(null==e||(Array.isArray(e)||(e=e.split(n)),Array.isArray(e)&&0===e.length))return null;let r=t;return e.forEach(i=>{r=fp(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:yU(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ve,this.statusChanges=new Ve}_calculateStatus(){return this._allControlsDisabled()?pc:this.errors?dp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ja)?ja:this._anyControlsHaveStatus(dp)?dp:fc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){hp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class gc extends xC{constructor(e=null,n,r){super(TC(n),AC(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),hp(n)&&n.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){DC(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){DC(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class mc extends xC{constructor(e,n,r){super(TC(n),AC(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){wU(this,e),Object.keys(e).forEach(r=>{vU(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=_U(n),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const n of Object.keys(this.controls)){const r=this.controls[n];if(this.contains(n)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,n,r)=>((n.enabled||this.disabled)&&(e[r]=n.value),e))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class EU extends xC{constructor(e,n,r){super(TC(n),AC(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),n&&(this.controls.splice(e,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){wU(this,e),e.forEach((r,i)=>{vU(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>_U(e))}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const Tie={provide:an,useExisting:Ie(()=>pp)},yc=(()=>Promise.resolve(null))();let pp=(()=>{class t extends an{constructor(n,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new Ve,this.form=new mc({},pC(n),gC(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){yc.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),hc(n.control,n),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){yc.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){yc.then(()=>{const r=this._findContainer(n.path),i=new mc({});hU(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){yc.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){yc.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,pU(this.form,this._directives),this.ngSubmit.emit(n),!1}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}}return t.\u0275fac=function(n){return new(n||t)(b(zt,10),b(Hi,10))},t.\u0275dir=B({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){1&n&&$t("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Me([Tie]),me]}),t})();const Sie={provide:Gi,useExisting:Ie(()=>MC)},DU=(()=>Promise.resolve(null))();let MC=(()=>{class t extends Gi{constructor(n,r,i,s,o){super(),this._changeDetectorRef=o,this.control=new gc,this._registered=!1,this.update=new Ve,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=bC(0,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),IC(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){hc(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){DU.then(()=>{var r;this.control.setValue(n,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=""===r||r&&"false"!==r;DU.then(()=>{var s;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(s=this._changeDetectorRef)||void 0===s||s.markForCheck()})}_getPath(n){return this._parent?ap(n,this._parent):[n]}}return t.\u0275fac=function(n){return new(n||t)(b(an,9),b(zt,10),b(Hi,10),b(Rr,10),b(Md,8))},t.\u0275dir=B({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Me([Sie]),me,On]}),t})(),kC=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=B({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),TU=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=En({type:t}),t.\u0275inj=un({}),t})();const NC=new z("NgModelWithFormControlWarning"),Pie={provide:an,useExisting:Ie(()=>gp)};let gp=(()=>{class t extends an{constructor(n,r){super(),this.validators=n,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ve,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(cp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return hc(r,n),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){up(n.control||null,n,!1),DC(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,pU(this.form,this.directives),this.ngSubmit.emit(n),!1}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(up(r||null,n),SC(i)&&(hc(i,n),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);hU(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function Iie(t,e){return cp(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){EC(this.form,this),this._oldForm&&cp(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(n){return new(n||t)(b(zt,10),b(Hi,10))},t.\u0275dir=B({type:t,selectors:[["","formGroup",""]],hostBindings:function(n,r){1&n&&$t("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Me([Pie]),me,On]}),t})();const Lie={provide:Gi,useExisting:Ie(()=>OC)};let OC=(()=>{class t extends Gi{constructor(n,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new Ve,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=bC(0,s)}set isDisabled(n){}ngOnChanges(n){this._added||this._setUpControl(),IC(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return ap(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(n){return new(n||t)(b(an,13),b(zt,10),b(Hi,10),b(Rr,10),b(NC,8))},t.\u0275dir=B({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Me([Lie]),me,On]}),t})(),Zs=(()=>{class t{constructor(){this._validator=ip}ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):ip,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=B({type:t,features:[On]}),t})();const zie={provide:zt,useExisting:Ie(()=>mp),multi:!0};let mp=(()=>{class t extends Zs{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=n=>function Gie(t){return null!=t&&!1!==t&&"false"!=`${t}`}(n),this.createValidator=n=>GV}enabled(n){return n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Vt(t)))(r||t)}}(),t.\u0275dir=B({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,r){2&n&&wr("required",r._enabled?"":null)},inputs:{required:"required"},features:[Me([zie]),me]}),t})();const Xie={provide:zt,useExisting:Ie(()=>VC),multi:!0};let VC=(()=>{class t extends Zs{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=n=>n,this.createValidator=n=>QV(n)}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Vt(t)))(r||t)}}(),t.\u0275dir=B({type:t,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(n,r){2&n&&wr("pattern",r._enabled?r.pattern:null)},inputs:{pattern:"pattern"},features:[Me([Xie]),me]}),t})(),jU=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=En({type:t}),t.\u0275inj=un({imports:[[TU]]}),t})(),Zie=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=En({type:t}),t.\u0275inj=un({imports:[jU]}),t})(),$U=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:NC,useValue:n.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=En({type:t}),t.\u0275inj=un({imports:[jU]}),t})(),tse=(()=>{class t{group(n,r=null){const i=this._reduceControls(n);let a,s=null,o=null;return null!=r&&(function ese(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(r)?(s=null!=r.validators?r.validators:null,o=null!=r.asyncValidators?r.asyncValidators:null,a=null!=r.updateOn?r.updateOn:void 0):(s=null!=r.validator?r.validator:null,o=null!=r.asyncValidator?r.asyncValidator:null)),new mc(i,{asyncValidators:o,updateOn:a,validators:s})}control(n,r,i){return new gc(n,r,i)}array(n,r,i){const s=n.map(o=>this._createControl(o));return new EU(s,r,i)}_reduceControls(n){const r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){return SC(n)||fp(n)||yU(n)?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=ee({token:t,factory:t.\u0275fac,providedIn:$U}),t})();function nse(t,e){1&t&&(re(0,"div"),xe(1," Name is required "),ae())}function rse(t,e){1&t&&(re(0,"div"),xe(1," Only letters and spaces allowed in names "),ae())}function ise(t,e){if(1&t&&(re(0,"div",8),dn(1,nse,2,0,"div",9),dn(2,rse,2,0,"div",9),ae()),2&t){Eu();const n=Lo(6);ze(1),Tt("ngIf",null==n.errors?null:n.errors.required),ze(1),Tt("ngIf",null==n.errors?null:n.errors.pattern)}}function sse(t,e){1&t&&(re(0,"div"),xe(1," Email is required "),ae())}function ose(t,e){1&t&&(re(0,"div"),xe(1," Enter a valid email address "),ae())}function ase(t,e){if(1&t&&(re(0,"div",8),dn(1,sse,2,0,"div",9),dn(2,ose,2,0,"div",9),ae()),2&t){Eu();const n=Lo(10);ze(1),Tt("ngIf",null==n.errors?null:n.errors.required),ze(1),Tt("ngIf",null==n.errors?null:n.errors.pattern)}}let use=(()=>{class t{constructor(){this.email="test@test.com"}ngOnInit(){}onSubmitForm(n){console.log(n.controls.email.errors)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=fi({type:t,selectors:[["lib-email-newsletter"]],decls:14,vars:2,consts:[["novalidate","",3,"ngSubmit"],["emailFrm","ngForm"],["type","text","name","fullName","ngModel","","required","","pattern","[A-Za-z ]{5,}"],["fullName","ngModel"],["class","text-danger",4,"ngIf"],["type","text","name","email","ngModel","","required","","pattern","[A-Za-z0-9._%-]+@[A-Za-z0-9._%-]+\\.[a-z]{2,3}"],["email","ngModel"],["type","submit"],[1,"text-danger"],[4,"ngIf"]],template:function(n,r){if(1&n){const i=function IS(){return I()}();re(0,"h2"),xe(1,"Email Newsletter"),ae(),re(2,"form",0,1),$t("ngSubmit",function(){!function OT(t){return q.lFrame.contextLView=t,t[8]}(i);const o=Lo(3);return r.onSubmitForm(o)}),re(4,"div"),Hr(5,"input",2,3),dn(7,ise,3,2,"div",4),ae(),re(8,"div"),Hr(9,"input",5,6),dn(11,ase,3,2,"div",4),ae(),re(12,"button",7),xe(13,"Submit"),ae()()}if(2&n){const i=Lo(6),s=Lo(10);ze(7),Tt("ngIf",!i.valid&&(i.dirty||i.touched)),ze(4),Tt("ngIf",!s.valid&&(s.dirty||s.touched))}},directives:[kC,_C,pp,dc,yC,MC,mp,VC,_y],styles:[""]}),t})();function lse(t,e){1&t&&(re(0,"div"),xe(1," Your name is required "),ae())}function cse(t,e){1&t&&(re(0,"div"),xe(1," Name must be at least 5 letters "),ae())}function dse(t,e){if(1&t&&(re(0,"div",5),dn(1,lse,2,0,"div",6),dn(2,cse,2,0,"div",6),ae()),2&t){const n=Eu();ze(1),Tt("ngIf",null==n.fullName||null==n.fullName.errors?null:n.fullName.errors.required),ze(1),Tt("ngIf",null==n.fullName||null==n.fullName.errors?null:n.fullName.errors.minlength)}}function hse(t,e){1&t&&(re(0,"div"),xe(1," Email is required "),ae())}function fse(t,e){1&t&&(re(0,"div"),xe(1," Enter a valid email address "),ae())}function pse(t,e){if(1&t&&(re(0,"div",5),dn(1,hse,2,0,"div",6),dn(2,fse,2,0,"div",6),ae()),2&t){const n=Eu();ze(1),Tt("ngIf",null==n.email||null==n.email.errors?null:n.email.errors.required),ze(1),Tt("ngIf",null==n.email||null==n.email.errors?null:n.email.errors.pattern)}}const gse=[{path:"",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=fi({type:t,selectors:[["lib-home"]],decls:2,vars:0,template:function(n,r){1&n&&(re(0,"p"),xe(1,"home works!"),ae())},styles:[""]}),t})()},{path:"email",component:use},{path:"email-reactive",component:(()=>{class t{constructor(n){this.emailFrm=new mc({email:new gc("",[rp.required,rp.pattern("[A-Za-z0-9._%-]+@[A-Za-z0-9._%-]+.[a-z]{2,3}")]),fullName:new gc("",[rp.required,rp.minLength(5)])})}get fullName(){return this.emailFrm.get("fullName")}get email(){return this.emailFrm.get("email")}ngOnInit(){}onFormSubmit(){console.log(this.emailFrm.controls.fullName.errors)}}return t.\u0275fac=function(n){return new(n||t)(b(tse))},t.\u0275cmp=fi({type:t,selectors:[["lib-email-reactive"]],decls:11,vars:4,consts:[[3,"formGroup","ngSubmit"],["formControlName","fullName","type","text"],["class","text-danger",4,"ngIf"],["formControlName","email","type","text"],["type","submit",3,"disabled"],[1,"text-danger"],[4,"ngIf"]],template:function(n,r){1&n&&(re(0,"h2"),xe(1,"Email Newsletter"),ae(),re(2,"form",0),$t("ngSubmit",function(){return r.onFormSubmit()}),re(3,"div"),Hr(4,"input",1),dn(5,dse,3,2,"div",2),ae(),re(6,"div"),Hr(7,"input",3),dn(8,pse,3,2,"div",2),ae(),re(9,"button",4),xe(10,"Submit"),ae()()),2&n&&(ze(2),Tt("formGroup",r.emailFrm),ze(3),Tt("ngIf",!(null!=r.fullName&&r.fullName.valid)&&((null==r.fullName?null:r.fullName.dirty)||(null==r.fullName?null:r.fullName.touched))),ze(3),Tt("ngIf",!(null!=r.email&&r.email.valid)&&((null==r.email?null:r.email.dirty)||(null==r.email?null:r.email.touched))),ze(1),Tt("disabled",!r.emailFrm.valid))},directives:[kC,_C,gp,dc,yC,OC,_y],styles:[""]}),t})()},{path:"books",component:iie}];let mse=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=En({type:t}),t.\u0275inj=un({imports:[[FV.forRoot(gse)],FV]}),t})(),yse=(()=>{class t{constructor(){this.title="Library App"}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=fi({type:t,selectors:[["lib-app"]],decls:21,vars:1,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page","routerLink","",1,"nav-link","active"],["aria-current","page","routerLink","books",1,"nav-link","active"],["aria-current","page","routerLink","email",1,"nav-link","active"],["aria-current","page","routerLink","email-reactive",1,"nav-link","active"]],template:function(n,r){1&n&&(re(0,"nav",0)(1,"div",1)(2,"a",2),xe(3),ae(),re(4,"button",3),Hr(5,"span",4),ae(),re(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),xe(10,"Home"),ae()(),re(11,"li",7)(12,"a",9),xe(13,"Books"),ae()(),re(14,"li",7)(15,"a",10),xe(16,"Newsletter"),ae()(),re(17,"li",7)(18,"a",11),xe(19,"Newsletter Reactive"),ae()()()()()(),Hr(20,"router-outlet")),2&n&&(ze(3),yd(r.title))},directives:[np,oC],styles:[""]}),t})();const HU_firebase={apiKey:"AIzaSyCtYmpM9xP91GI9YxiSAOKuCGoo6pTMyeY",authDomain:"library-ded12.firebaseapp.com",projectId:"library-ded12",storageBucket:"library-ded12.appspot.com",messagingSenderId:"1028432773120",appId:"1:1028432773120:web:7653a652ebca3155e198e5"};let _se=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=En({type:t,bootstrap:[yse]}),t.\u0275inj=un({providers:[],imports:[[S5(()=>x5(HU_firebase)),Nte(()=>Ote()),e4,mse,Zie,$U]]}),t})();(function Fz(){UM=!1})(),X8().bootstrapModule(_se).catch(t=>console.error(t))}},se=>{se(se.s=912)}]);